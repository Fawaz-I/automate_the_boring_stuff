<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="../assets/inventwithpython.com/automate3workbook/style.css" rel="stylesheet" type="text/css" /><title>Automate the Boring Stuff with Python Workbook: Projects and Exercises to Sharpen Your Python Skills</title></head><body><style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/appendixb.html' aria-label='Previous chapter'>&larr; Book Appendix B</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Answers</span><span class='atbs-nav-link atbs-nav-disabled'>End &rarr;</span></nav>







<div class="calibre" id="calibre_link-33">
<section type="backmatter">
<h1 id="calibre_link-2793" type="title" class="h1cha"><span role="doc-pagebreak" id="calibre_link-2794" aria-label="167" class="calibre1"></span>ANSWERS</h1>
<p class="noindent-c">The following are the answers to the practice questions, along with brief explanations and solutions to the practice projects. The programs created for the practice projects don’t have to exactly match the code given here, as long as they generate the same or similar output.</p>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2795" type="title" class="h3a">Chapter 1: Python Basics</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1417" id="calibre_link-282" class="calibre6">1</a>. <span class="literal">/</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1418" id="calibre_link-283" class="calibre6">2</a>. <span class="literal">*</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1419" id="calibre_link-284" class="calibre6">3</a>. <span class="literal">-</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1420" id="calibre_link-285" class="calibre6">4</a>. <span class="literal">%</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1421" id="calibre_link-286" class="calibre6">5</a>. <span class="literal">+</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1422" id="calibre_link-287" class="calibre6">6</a>. <span class="literal">**</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1423" id="calibre_link-288" class="calibre6">7</a>. <span class="literal">//</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1424" id="calibre_link-289" class="calibre6">8</a>. <span role="doc-pagebreak" id="calibre_link-2796" aria-label="168"></span>No. The whitespace in between values and operators is insignificant, so these two expressions are effectively the same.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1425" id="calibre_link-290" class="calibre6">9</a>. <span class="literal">3</span>, because the <span class="literal">//</span> operator is the “floor” division operator, which does division and then rounds down.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1426" id="calibre_link-291" class="calibre6">10</a>. <span class="literal">2</span>, because the <span class="literal">%</span> operator is the modulo operator, which evaluates to the remainder of a division operation.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1427" id="calibre_link-292" class="calibre6">11</a>. <span class="literal">1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10</span>. You can place these integer values in any order, as in <span class="literal">10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1</span>. The expression should evaluate to <span class="literal">55</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1428" id="calibre_link-293" class="calibre6">12</a>. <span class="literal">(4 + 5)</span>, because it’s in parentheses.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1429" id="calibre_link-294" class="calibre6">13</a>. <span class="literal">2 ** 3</span>, because exponents are evaluated before addition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1430" id="calibre_link-295" class="calibre6">14</a>. <span class="literal">2 ** 3</span>, because exponents are evaluated before addition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1431" id="calibre_link-296" class="calibre6">15</a>. <span class="literal">(1 + 2)</span>, because parentheses are evaluated before exponents.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1432" id="calibre_link-297" class="calibre6">16</a>. <span class="literal">2 + 4</span>, because addition is performed left to right.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1433" id="calibre_link-298" class="calibre6">17</a>. Error. The <span class="literal">+</span> operator needs two values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1434" id="calibre_link-299" class="calibre6">18</a>. No error. A value by itself is an expression (which evaluates to itself).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1435" id="calibre_link-300" class="calibre6">19</a>. No error. This is an expression.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1436" id="calibre_link-301" class="calibre6">20</a>. Error. It’s missing a closing parenthesis.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1437" id="calibre_link-302" class="calibre6">21</a>. No error. This expression evaluates to <span class="literal">0</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1438" id="calibre_link-303" class="calibre6">22</a>. Error. There is no operator connecting the <span class="literal">2</span> and <span class="literal">3</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1439" id="calibre_link-304" class="calibre6">23</a>. Int, because it is a number without a decimal point.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1440" id="calibre_link-305" class="calibre6">24</a>. Int, because it is a number without a decimal point, and ints include negative numbers.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1441" id="calibre_link-306" class="calibre6">25</a>. Float, because it is a number with a decimal point.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1442" id="calibre_link-307" class="calibre6">26</a>. String, because it is enclosed with quotes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1443" id="calibre_link-308" class="calibre6">27</a>. Float, because it is a number with a decimal point.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1444" id="calibre_link-309" class="calibre6">28</a>. String, because it is enclosed with quotes. Numeral characters can be a part of strings, just like letter or punctuation characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1445" id="calibre_link-310" class="calibre6">29</a>. String, because it is enclosed with quotes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1446" id="calibre_link-311" class="calibre6">30</a>. The <span class="literal">10</span> is an int, the <span class="literal">10.0</span> is a float, and the <span class="literal">'10'</span> is a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1447" id="calibre_link-312" class="calibre6">31</a>. <span class="literal">'HelloHelloHello'</span>, because the <span class="literal">+</span> operator can operate on string values, in which case it does string concatenation.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1448" id="calibre_link-313" class="calibre6">32</a>. <span class="literal">'HelloHelloHello'</span>, because the <span class="literal">*</span> operator can operate on a string and an int, in which case it does string replication.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1449" id="calibre_link-314" class="calibre6">33</a>. <span role="doc-pagebreak" id="calibre_link-2797" aria-label="169"></span><span class="literal">'HelloHelloHello'</span>, because the order of the string and int doesn’t matter for string replication.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1450" id="calibre_link-315" class="calibre6">34</a>. <span class="literal">'HelloHelloHelloHello'</span>, because the parentheses perform the <span class="literal">(2 * 2)</span> multiplication first, evaluating the expression to <span class="literal">4 * 'Hello'</span>, which is string replication.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1451" id="calibre_link-316" class="calibre6">35</a>. <span class="literal">'1312'</span>, because the values are strings, so the <span class="literal">+</span> operator does string concatenation, not mathematical addition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1452" id="calibre_link-317" class="calibre6">36</a>. Error, because there is no closing quote at the end of what is supposed to be a string value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1453" id="calibre_link-318" class="calibre6">37</a>. Error, because string replication can be done only with integers like <span class="literal">3</span> and not with floating-point numbers like <span class="literal">3.0</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1454" id="calibre_link-319" class="calibre6">38</a>. Error, because adding a string and an int is neither string concatenation nor mathematical addition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1455" id="calibre_link-320" class="calibre6">39</a>. Error, because <span class="literal">Hello</span> without quotes is a variable name and not a string, and we have not assigned a variable named <span class="literal">Hello</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1456" id="calibre_link-321" class="calibre6">40</a>. Error, because multiplying two strings is neither string replication nor mathematical multiplication.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1457" id="calibre_link-322" class="calibre6">41</a>. Error, because you cannot divide a string by an int.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1458" id="calibre_link-323" class="calibre6">42</a>. Error, because you cannot divide a string by a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1459" id="calibre_link-324" class="calibre6">43</a>. <span class="literal">Jack</span>, which is the value assigned to the <span class="literal">nephew</span> variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1460" id="calibre_link-325" class="calibre6">44</a>. <span class="literal">nephew</span>, because the <span class="literal">print()</span> call prints the string <span class="literal">'nephew'</span>. The <span class="literal">nephew</span> variable is ignored in this program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1461" id="calibre_link-326" class="calibre6">45</a>. <span class="literal">Albert</span>, because although <span class="literal">nephew</span> was first assigned the string <span class="literal">'Jack'</span>, this value was next overwritten by the string value <span class="literal">'Albert'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1462" id="calibre_link-327" class="calibre6">46</a>. <span class="literal">Jack</span>, because the <span class="literal">nephew</span> variable is assigned the string <span class="literal">'Jack'</span>, while the separate <span class="literal">Nephew</span> variable is assigned <span class="literal">'Albert'</span>. Variable names are case sensitive in Python, so <span class="literal">nephew</span> and <span class="literal">Nephew</span> are two separate variables, and the <span class="literal">print()</span> call prints the <span class="literal">nephew</span> variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1463" id="calibre_link-328" class="calibre6">47</a>. This program causes an error because <span class="literal">Jack</span> is not enclosed in quotes, so Python thinks it is a variable named <span class="literal">Jack</span>, but our program has not previously created this variable, so we are attempting to assign <span class="literal">nephew</span> a nonexistent <span class="literal">Jack</span> variable’s value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1464" id="calibre_link-329" class="calibre6">48</a>. This program causes an error because, while the <span class="literal">nephew</span> variable is assigned the string <span class="literal">'Jack'</span>, the <span class="literal">print()</span> function attempts to print the value of a nonexistent <span class="literal">Jack</span> variable. The <span class="literal">nephew</span> variable is ignored in this program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1465" id="calibre_link-330" class="calibre6">49</a>. This program causes an error because, while the <span class="literal">nephew</span> variable is assigned the string <span class="literal">'Jack'</span>, the <span class="literal">print()</span> function attempts to print a <span class="literal">NEPHEW</span> variable. Variable names are case sensitive in Python, so <span class="literal">nephew</span> and <span class="literal">NEPHEW</span> are considered two separate variables, and no variable named <span class="literal">NEPHEW</span> exists.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1466" id="calibre_link-331" class="calibre6">50</a>. <span role="doc-pagebreak" id="calibre_link-2798" aria-label="170"></span>This program causes an error because it tries to print a <span class="literal">nephew</span> variable that was never created.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1467" id="calibre_link-332" class="calibre6">51</a>. Valid,<span class="literal"></span> because variable names can contain underscores<span class="literal">.</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1468" id="calibre_link-333" class="calibre6">52</a>. Invalid, because variable names cannot contain dashes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1469" id="calibre_link-334" class="calibre6">53</a>. Valid, because variable names cannot contain spaces.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1470" id="calibre_link-335" class="calibre6">54</a>. Valid, because variable names can contain lowercase and uppercase letters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1471" id="calibre_link-336" class="calibre6">55</a>. Valid, because variable names can contain underscores.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1472" id="calibre_link-337" class="calibre6">56</a>. Valid, because an underscore (even by itself) can be used in variable names.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1473" id="calibre_link-338" class="calibre6">57</a>. Invalid, because variable names can’t begin with a number.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1474" id="calibre_link-339" class="calibre6">58</a>. String, because it has text enclosed in quotes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1475" id="calibre_link-340" class="calibre6">59</a>. Variable, because it is not enclosed in quotes and not followed by a set of parentheses, and it follows the rules for variable names.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1476" id="calibre_link-341" class="calibre6">60</a>. Function call, because it ends with a set of parentheses.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1477" id="calibre_link-342" class="calibre6">61</a>. String, because it has text enclosed in quotes, even though the text looks like a function call.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1478" id="calibre_link-343" class="calibre6">62</a>. No error; <span class="literal">42</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1479" id="calibre_link-344" class="calibre6">63</a>. Error, because a string of a number written in words cannot be converted to an integer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1480" id="calibre_link-345" class="calibre6">64</a>. Error, because <span class="literal">'Hello'</span> cannot be converted to an integer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1481" id="calibre_link-346" class="calibre6">65</a>. No error; <span class="literal">-42</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1482" id="calibre_link-347" class="calibre6">66</a>. No error; <span class="literal">3</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1483" id="calibre_link-348" class="calibre6">67</a>. No error; <span class="literal">-42.0</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1484" id="calibre_link-349" class="calibre6">68</a>. No error; <span class="literal">'-42'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1485" id="calibre_link-350" class="calibre6">69</a>. No error; <span class="literal">'3.1415'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1486" id="calibre_link-351" class="calibre6">70</a>. No error; <span class="literal">'Hello'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1487" id="calibre_link-352" class="calibre6">71</a>. No error; <span class="literal">'3.0'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1488" id="calibre_link-353" class="calibre6">72</a>. No error; <span class="literal">'3'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1489" id="calibre_link-354" class="calibre6">73</a>. No error; <span class="literal">'3.0'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1490" id="calibre_link-355" class="calibre6">74</a>. The value in the <span class="literal">number_of_cats</span> variable is the integer <span class="literal">4</span>, not the string <span class="literal">'4'</span>. You cannot concatenate a string and an integer with the <span class="literal">+</span> operator. You can fix this program by changing <span class="literal">number_of_cats</span> <span class="literal">= 4</span> to <span class="literal">number_of_cats = '4'</span> or changing <span class="literal">print('I have ' + number_of_cats)</span> to <span class="literal">print('I have ' + str(number_of_cats))</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1491" id="calibre_link-356" class="calibre6">75</a>. <span role="doc-pagebreak" id="calibre_link-2799" aria-label="171"></span>The integer <span class="literal">5</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1492" id="calibre_link-357" class="calibre6">76</a>. The <span class="literal">abs()</span> function returns the absolute value of the integer or float passed to it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1493" id="calibre_link-358" class="calibre6">77</a>. <span class="literal">5</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1494" id="calibre_link-359" class="calibre6">78</a>. <span class="literal">5</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1495" id="calibre_link-360" class="calibre6">79</a>. Because binary is the simplest number system, and it enables cheaper, more economical components for computer hardware.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1496" id="calibre_link-361" class="calibre6">80</a>. 8</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1497" id="calibre_link-362" class="calibre6">81</a>. 2<sup class="calibre7">10</sup> and 1,024</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1498" id="calibre_link-363" class="calibre6">82</a>. 2<sup class="calibre7">20</sup> and 1,048,576</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1499" id="calibre_link-364" class="calibre6">83</a>. 2<sup class="calibre7">30</sup> and 1,073,741,824</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1500" id="calibre_link-365" class="calibre6">84</a>. 2<sup class="calibre7">40</sup> and 1,099,511,627,776</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1501" id="calibre_link-366" class="calibre6">85</a>. 11</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1502" id="calibre_link-367" class="calibre6">86</a>. 1,000</p></li>
</ol>
<p class="head">Rectangle Printer</p>
<pre class="pre">print('Enter the width for the rectangle:')
width = input()
width = int(width)
print('O' * width)
print('O' * width)
print('O' * width)
print('O' * width)
print('O' * width)</pre>
<p class="head">Perimeter and Area Calculator</p>
<pre class="pre">print('Enter the width for the rectangle:')
width = input()
width = int(width)

print('Enter the length for the rectangle:')
length = input()
length = int(length)

print('Area of the rectangle:')
print(width * length)

print('Perimeter of the rectangle:')
print(width + width + length + length)</pre>
<p class="indent">Alternatively, the perimeter could have been calculated as <span class="literal">width * 2 + length * 2</span>.</p>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2800" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2801" aria-label="172" class="calibre1"></span>Chapter 2: if-else and Flow Control</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1503" id="calibre_link-368" class="calibre6">1</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1504" id="calibre_link-369" class="calibre6">2</a>. No. The quotes make this a string value.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1505" id="calibre_link-370" class="calibre6">3</a>. No. The <span class="literal">f</span> needs to be capitalized.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1506" id="calibre_link-371" class="calibre6">4</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1507" id="calibre_link-372" class="calibre6">5</a>. No. The quotes make this a string value.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1508" id="calibre_link-373" class="calibre6">6</a>. No. The <span class="literal">t</span> needs to be capitalized.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1509" id="calibre_link-374" class="calibre6">7</a>. No. A single <span class="literal">=</span> (equal sign) is the assignment operator.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1510" id="calibre_link-375" class="calibre6">8</a>. Yes. This is the “less than” operator.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1511" id="calibre_link-376" class="calibre6">9</a>. No. The <span class="literal">&gt;</span> (greater than) symbol comes first: <span class="literal">&gt;=</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1512" id="calibre_link-377" class="calibre6">10</a>. No. The <span class="literal">!</span> (exclamation mark) comes first: <span class="literal">!=</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1513" id="calibre_link-378" class="calibre6">11</a>. Yes. This is the “not equal to” operator.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1514" id="calibre_link-379" class="calibre6">12</a>. Yes. This is the “equal to” operator.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1515" id="calibre_link-380" class="calibre6">13</a>. Yes. This is the “greater than” operator.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1516" id="calibre_link-381" class="calibre6">14</a>. Yes. This is the “less than or equal to” operator.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1517" id="calibre_link-382" class="calibre6">15</a>. The <span class="literal">&lt;</span> operator checks if one value is less than the other, while the <span class="literal">&lt;=</span> operator checks if one value is less than or equal to the other.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1518" id="calibre_link-383" class="calibre6">16</a>. The <span class="literal">=</span> operator is the assignment operator used for assigning values to variables, while the <span class="literal">==</span> operator is the “equal to” operator, which evaluates to <span class="literal">True</span> if both values are the same.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1519" id="calibre_link-384" class="calibre6">17</a>. Integer and floating-point values of the same number are considered equal in Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1520" id="calibre_link-385" class="calibre6">18</a>. Strings and integer values are never equal in Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1521" id="calibre_link-386" class="calibre6">19</a>. You will get an error message saying that the <span class="literal">&lt;</span> operator cannot compare integer and string values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1522" id="calibre_link-387" class="calibre6">20</a>. The truth table for the <span class="literal">and</span> operator looks like this (though the rows can be in any order):</p>
<table class="tab-center">
<colgroup class="calibre9">
<col class="calibre20"></col>
<col class="calibre20"></col>
<col class="calibre20"></col>
<col class="calibre20"></col>
</colgroup>
<thead class="calibre17">
<tr class="calibre13">
<th scope="col" class="th"><p class="tab-para">A</p></th>
<th scope="col" class="th"><p class="tab-para"><span class="literal"><b class="calibre4">and</b></span></p></th>
<th scope="col" class="th"><p class="tab-para">B</p></th>
<th scope="col" class="th"><p class="tab-para">Evaluates to</p></th>
</tr>
</thead>
<tbody class="calibre12">
<tr class="calibre13">
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">and</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
</tr>
<tr class="calibre13">
<td class="calibre14"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">and</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
</tr>
<tr class="calibre13">
<td class="td"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">and</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">False</span></p></td>
</tr>
<tr class="calibre13">
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">and</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
</tr>
</tbody>
</table></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1523" id="calibre_link-388" class="calibre6">21</a>. <span role="doc-pagebreak" id="calibre_link-2802" aria-label="173"></span>The truth table for the <span class="literal">or</span> operator looks like this (though the rows can be in any order):</p>
<table class="tab-center">
<colgroup class="calibre9">
<col class="calibre20"></col>
<col class="calibre20"></col>
<col class="calibre20"></col>
<col class="calibre20"></col>
</colgroup>
<thead class="calibre17">
<tr class="calibre13">
<th scope="col" class="th"><p class="tab-para">A</p></th>
<th scope="col" class="th"><p class="tab-para"><span class="literal"><b class="calibre4">or</b></span></p></th>
<th scope="col" class="th"><p class="tab-para">B</p></th>
<th scope="col" class="th"><p class="tab-para">Evaluates to</p></th>
</tr>
</thead>
<tbody class="calibre12">
<tr class="calibre13">
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">or</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
</tr>
<tr class="calibre13">
<td class="calibre14"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">or</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">True</span></p></td>
</tr>
<tr class="calibre13">
<td class="td"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">or</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
</tr>
<tr class="calibre13">
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">or</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
</tr>
</tbody>
</table></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1524" id="calibre_link-389" class="calibre6">22</a>. The truth table for the <span class="literal">not</span> operator looks like this (though the rows can be in any order):</p>
<table class="tab-center">
<colgroup class="calibre9">
<col class="calibre21"></col>
<col class="calibre22"></col>
<col class="calibre22"></col>
</colgroup>
<thead class="calibre17">
<tr class="calibre13">
<th scope="col" class="th"><p class="tab-para"><span class="literal"><b class="calibre4">not</b></span></p></th>
<th scope="col" class="th"><p class="tab-para">A</p></th>
<th scope="col" class="th"><p class="tab-para">Evaluates to</p></th>
</tr>
</thead>
<tbody class="calibre12">
<tr class="calibre13">
<td class="td"><p class="tab-para"><span class="literal">not</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">True</span></p></td>
<td class="td"><p class="tab-para"><span class="literal">False</span></p></td>
</tr>
<tr class="calibre13">
<td class="calibre14"><p class="tab-para"><span class="literal">not</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">False</span></p></td>
<td class="calibre14"><p class="tab-para"><span class="literal">True</span></p></td>
</tr>
</tbody>
</table></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1525" id="calibre_link-390" class="calibre6">23</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1526" id="calibre_link-391" class="calibre6">24</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1527" id="calibre_link-392" class="calibre6">25</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1528" id="calibre_link-393" class="calibre6">26</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1529" id="calibre_link-394" class="calibre6">27</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1530" id="calibre_link-395" class="calibre6">28</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1531" id="calibre_link-396" class="calibre6">29</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1532" id="calibre_link-397" class="calibre6">30</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1533" id="calibre_link-398" class="calibre6">31</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1534" id="calibre_link-399" class="calibre6">32</a>. This statement sets the <span class="literal">is_raining</span> variable to the opposite Boolean value it currently has. This is called toggling.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1535" id="calibre_link-400" class="calibre6">33</a>. The expression <span class="literal">name == 'Alice' or name == 'Bob'</span> is correct. The expression <span class="literal">name == 'Alice' or 'Bob'</span> is a common mistaken form, because the expression always evaluates to <span class="literal">True</span>, since <span class="literal">'Bob'</span> is a “truthy” value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1536" id="calibre_link-401" class="calibre6">34</a>. A new block begins when the indentation of a line of code increases relative to the previous line. This is expected after any statement that ends with a colon (<span class="literal">:</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1537" id="calibre_link-402" class="calibre6">35</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1538" id="calibre_link-403" class="calibre6">36</a>. A new block is expected after instructions that end with a colon (<span class="literal">:</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1539" id="calibre_link-404" class="calibre6">37</a>. A block ends when the indentation decreases to the same amount as a previous line.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1540" id="calibre_link-405" class="calibre6">38</a>. <span role="doc-pagebreak" id="calibre_link-2803" aria-label="174"></span>The program execution is the instruction currently being executed. The execution moves from instruction to instruction as the program executes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1541" id="calibre_link-406" class="calibre6">39</a>. There is one block in this program: the single line following the <span class="literal">if</span> statement.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1542" id="calibre_link-407" class="calibre6">40</a>. The first block begins on line 3.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1543" id="calibre_link-408" class="calibre6">41</a>. The first block also ends on line 3. (The block is only one line long.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1544" id="calibre_link-409" class="calibre6">42</a>. No. The condition uses the <span class="literal">=</span> assignment operator instead of the <span class="literal">==</span> (equal to) operator.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1545" id="calibre_link-410" class="calibre6">43</a>. No. All <span class="literal">if</span> statements require a colon at the end.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1546" id="calibre_link-411" class="calibre6">44</a>. No. All <span class="literal">if</span> statements require a condition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1547" id="calibre_link-412" class="calibre6">45</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1548" id="calibre_link-413" class="calibre6">46</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1549" id="calibre_link-414" class="calibre6">47</a>. Yes. (The condition evaluates to <span class="literal">False</span>, but this is still a valid <span class="literal">if</span> statement.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1550" id="calibre_link-415" class="calibre6">48</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1551" id="calibre_link-416" class="calibre6">49</a>. No. An <span class="literal">else</span> statement doesn’t have anything after the <span class="literal">else</span> keyword.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1552" id="calibre_link-417" class="calibre6">50</a>. No. This <span class="literal">else</span> statement is missing the colon at the end.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1553" id="calibre_link-418" class="calibre6">51</a>. No. An <span class="literal">else</span> statement doesn’t have anything after the <span class="literal">else</span> keyword.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1554" id="calibre_link-419" class="calibre6">52</a>. No. An <span class="literal">else</span> statement doesn’t have anything after the <span class="literal">else</span> keyword.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1555" id="calibre_link-420" class="calibre6">53</a>. No. An <span class="literal">elif</span> statement must have a condition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1556" id="calibre_link-421" class="calibre6">54</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1557" id="calibre_link-422" class="calibre6">55</a>. No. This “<span class="literal">else if</span>” is not valid Python code.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1558" id="calibre_link-423" class="calibre6">56</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1559" id="calibre_link-424" class="calibre6">57</a>. An <span class="literal">elif</span> statement comes after an <span class="literal">if</span> or another <span class="literal">elif</span> statement, and the <span class="literal">else</span> statement must come last.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1560" id="calibre_link-425" class="calibre6">58</a>. Zero or more <span class="literal">elif</span> statements can follow an <span class="literal">if</span> statement.</p></li>
</ol>
<p class="head">Fixing the Safe Temperature Program</p>
<p class="noindent">The corrective changes are in bold:</p>
<pre class="pre">print('Enter C or F to indicate Celsius or Fahrenheit:')
scale = input()
print('Enter the number of degrees:')<span role="doc-pagebreak" id="calibre_link-2804" aria-label="175"></span>
degrees = int(input())
if scale == 'C':
&nbsp;&nbsp;&nbsp;&nbsp;if degrees &gt;= 16 <span class="codestrong">and</span> degrees &lt;= 38:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('<span class="codestrong">Safe</span>')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Dangerous')
elif scale == 'F':
&nbsp;&nbsp;&nbsp;&nbsp;if degrees <span class="codestrong">&gt;=</span> 60.8 and degrees <span class="codestrong">&lt;=</span> 100.4:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Safe')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Dangerous')</pre>
<p class="head">Single-Expression Safe Temperature</p>
<p class="noindent">Change the <span class="literal">if</span> statement’s condition to the following (or an equivalent expression):</p>
<pre class="pre">if (scale == 'C' and degrees &gt;= 16 and degrees &lt;= 38) or (scale == 'F' and degrees &gt;= 60.8 and degrees &lt;= 100.4):</pre>
<p class="indent">You could also chain the comparison operators, like this:</p>
<pre class="pre">if (scale == 'C' and 16 &lt;= degrees &lt;= 38) or (scale == 'F' and 60.8 &lt;= degrees &lt;= 100.4):</pre>
<p class="head">Fizz Buzz</p>
<pre class="pre">print('Enter an integer:')
number = input()
number = int(number)
if number % 3 == 0 and number % 5 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;print('Fizz Buzz')
elif number % 3 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;print('Fizz')
elif number % 5 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;print('Buzz')
else:
&nbsp;&nbsp;&nbsp;&nbsp;print(number)</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2805" type="title" class="h3a">Chapter 3: Loops</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1561" id="calibre_link-426" class="calibre6">1</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1562" id="calibre_link-427" class="calibre6">2</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1563" id="calibre_link-428" class="calibre6">3</a>. No. The condition is missing.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1564" id="calibre_link-429" class="calibre6">4</a>. No. The colon at the end is missing.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1565" id="calibre_link-430" class="calibre6">5</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1566" id="calibre_link-431" class="calibre6">6</a>. No. The <span class="literal">if</span> keyword is extraneous.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1567" id="calibre_link-432" class="calibre6">7</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1568" id="calibre_link-433" class="calibre6">8</a>. <span role="doc-pagebreak" id="calibre_link-2806" aria-label="176"></span>Yes. Even though the condition ensures that the loop code never runs, it is still a syntactically valid Python statement.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1569" id="calibre_link-434" class="calibre6">9</a>. The <span class="literal">break</span> statement.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1570" id="calibre_link-435" class="calibre6">10</a>. The <span class="literal">continue</span> statement.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1571" id="calibre_link-436" class="calibre6">11</a>. No. They don’t have colons at the end because they do not start a new block of code.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1572" id="calibre_link-437" class="calibre6">12</a>. This code prints <span class="literal">'Hello'</span> six times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1573" id="calibre_link-438" class="calibre6">13</a>. This code prints nothing, because the condition is already <span class="literal">False</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1574" id="calibre_link-439" class="calibre6">14</a>. This code prints the numbers <span class="literal">0</span> to <span class="literal">5</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1575" id="calibre_link-440" class="calibre6">15</a>. This code prints nothing, because the <span class="literal">break</span> statement stops the loop.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1576" id="calibre_link-441" class="calibre6">16</a>. This code prints only <span class="literal">0</span>, because the <span class="literal">break</span> statement stops the loop afterward.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1577" id="calibre_link-442" class="calibre6">17</a>. This code prints nothing, because the condition of the <span class="literal">while</span> loop is <span class="literal">False</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1578" id="calibre_link-443" class="calibre6">18</a>. Falsey, because <span class="literal">0</span> is the only falsey integer value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1579" id="calibre_link-444" class="calibre6">19</a>. Truthy, because all non-empty strings are truthy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1580" id="calibre_link-445" class="calibre6">20</a>. Falsey, because the blank string is the only falsey string value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1581" id="calibre_link-446" class="calibre6">21</a>. Truthy, because all nonzero numbers are truthy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1582" id="calibre_link-447" class="calibre6">22</a>. Truthy, because all non-blank strings are truthy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1583" id="calibre_link-448" class="calibre6">23</a>. Truthy, because all non-blank strings are truthy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1584" id="calibre_link-449" class="calibre6">24</a>. Truthy, because all nonzero numbers are truthy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1585" id="calibre_link-450" class="calibre6">25</a>. No, because the <span class="literal">range()</span> function requires at least one integer argument.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1586" id="calibre_link-451" class="calibre6">26</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1587" id="calibre_link-452" class="calibre6">27</a>. No, because the variable and <span class="literal">in</span> keyword are missing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1588" id="calibre_link-453" class="calibre6">28</a>. No, because the <span class="literal">range()</span> function call is missing (and the integer value <span class="literal">10</span> is not “iterable” in the way <span class="literal">range</span> objects are).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1589" id="calibre_link-454" class="calibre6">29</a>. No, because the colon at the end is missing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1590" id="calibre_link-455" class="calibre6">30</a>. A <span class="literal">for</span> loop is good for executing code a set number of times. (There are other valid answers to this question, such as executing code once for each item in a list.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1591" id="calibre_link-456" class="calibre6">31</a>. Both.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1592" id="calibre_link-457" class="calibre6">32</a>. Both.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1593" id="calibre_link-458" class="calibre6">33</a>. No. You can’t use a <span class="literal">continue</span> or <span class="literal">break</span> statement outside a loop.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1594" id="calibre_link-459" class="calibre6">34</a>. <span role="doc-pagebreak" id="calibre_link-2807" aria-label="177"></span><span class="literal">print(spam)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1595" id="calibre_link-460" class="calibre6">35</a>. The <span class="literal">for</span> and <span class="literal">in</span> keywords are used in that statement. The <span class="literal">i</span> is a variable and <span class="literal">range(10)</span> is a function call.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1596" id="calibre_link-461" class="calibre6">36</a>. This code prints <span class="literal">Hello</span> six times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1597" id="calibre_link-462" class="calibre6">37</a>. This code prints <span class="literal">Hello</span> six times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1598" id="calibre_link-463" class="calibre6">38</a>. This code prints <span class="literal">Hello</span> six times (two <span class="literal">Hello</span>s for each of the three iterations).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1599" id="calibre_link-464" class="calibre6">39</a>. This code prints <span class="literal">Hello</span> three times. The <span class="literal">continue</span> statement skips the second <span class="literal">print('Hello')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1600" id="calibre_link-465" class="calibre6">40</a>. This code prints the numbers <span class="literal">0</span> to <span class="literal">5</span> (one per line).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1601" id="calibre_link-466" class="calibre6">41</a>. This code prints the numbers <span class="literal">0</span> to <span class="literal">5</span> (one per line).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1602" id="calibre_link-467" class="calibre6">42</a>. This code prints the numbers <span class="literal">1</span> to <span class="literal">6</span> (one per line).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1603" id="calibre_link-468" class="calibre6">43</a>. This code prints the numbers <span class="literal">0</span>, <span class="literal">2</span>, and <span class="literal">4</span> (one per line).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1604" id="calibre_link-469" class="calibre6">44</a>. Here is code that adds the integers <span class="literal">1</span> to <span class="literal">100</span>, and then prints the total sum (<span class="literal">5050</span>):</p>
<pre class="calibre16">total = 0
for i in range(1, 101):
&nbsp;&nbsp;&nbsp;&nbsp;total = total + i
print(total)</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1605" id="calibre_link-470" class="calibre6">45</a>. An off-by-one error. The code prints the numbers <span class="literal">0</span> to <span class="literal">9</span> instead of <span class="literal">1</span> to <span class="literal">10</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1606" id="calibre_link-471" class="calibre6">46</a>. These are built-in functions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1607" id="calibre_link-472" class="calibre6">47</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1608" id="calibre_link-473" class="calibre6">48</a>. No. You don’t import string values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1609" id="calibre_link-474" class="calibre6">49</a>. No. A comma is missing between the two module names.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1610" id="calibre_link-475" class="calibre6">50</a>. No. The comma should only separate multiple module names.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1611" id="calibre_link-476" class="calibre6">51</a>. Yes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1612" id="calibre_link-477" class="calibre6">52</a>. The <span class="literal">sys.exit()</span> function immediately stops, or terminates, the program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1613" id="calibre_link-478" class="calibre6">53</a>. You must run <span class="literal">import sys</span> to import the <span class="literal">sys</span> module before you can call the <span class="literal">sys.exit()</span> function.</p></li>
</ol>
<p class="head">Tree Printer</p>
<pre class="pre"># Ask the user for the tree size:
print('Enter the tree size:')
size = int(input())

# Print the tree top:<span role="doc-pagebreak" id="calibre_link-2808" aria-label="178"></span>
for row_num in range(1, size + 1):
&nbsp;&nbsp;&nbsp;&nbsp;spaces = ' ' * (size - row_num)
&nbsp;&nbsp;&nbsp;&nbsp;tree = '^' * (row_num * 2 - 1)
&nbsp;&nbsp;&nbsp;&nbsp;print(spaces + tree)

# Print the tree trunk:
spaces = ' ' * (size - 1)
print(spaces + '#')
print(spaces + '#')</pre>
<p class="indent">Here is the same program written using a <span class="literal">while</span> loop instead of a <span class="literal">for</span> loop:</p>
<pre class="pre"># Ask the user for the tree size:
print('Enter the tree size:')
size = int(input())

# Print the tree top:
row_num = 1
while row_num &lt; size + 1:
&nbsp;&nbsp;&nbsp;&nbsp;spaces = ' ' * (size - row_num)
&nbsp;&nbsp;&nbsp;&nbsp;tree = '^' * (row_num * 2 - 1)
&nbsp;&nbsp;&nbsp;&nbsp;print(spaces + tree)
&nbsp;&nbsp;&nbsp;&nbsp;row_num = row_num + 1

# Print the tree trunk:
spaces = ' ' * (size - 1)
print(spaces + '#')
print(spaces + '#')</pre>
<p class="head">Christmas Tree Printer</p>
<pre class="pre">import random

# Ask the user for the tree size:
print('Enter the tree size:')
size = int(input())

# Print the tree top:
for row_num in range(1, size + 1):
&nbsp;&nbsp;&nbsp;&nbsp;spaces = ' ' * (size - row_num)
&nbsp;&nbsp;&nbsp;&nbsp;tree = ''
&nbsp;&nbsp;&nbsp;&nbsp;# Create the row from random 'o' and '^' characters:
&nbsp;&nbsp;&nbsp;&nbsp;for branch_num in range(row_num * 2 - 1):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if random.randint(1, 4) == 1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree = tree + 'o'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree = tree + '^'
&nbsp;&nbsp;&nbsp;&nbsp;print(spaces + tree)

# Print the tree trunk:
spaces = ' ' * (size - 1)
print(spaces + '#')
print(spaces + '#')</pre>
<p class="indent">Here is the same program written using a <span class="literal">while</span> loop instead of a <span class="literal">for</span> loop:</p>
<pre class="pre">import random

# Ask the user for the tree size:<span role="doc-pagebreak" id="calibre_link-2809" aria-label="179"></span>
print('Enter the tree size:')
size = int(input())

# Print the tree top:
row_num = 1
while row_num &lt; size + 1:
&nbsp;&nbsp;&nbsp;&nbsp;spaces = ' ' * (size - row_num)
&nbsp;&nbsp;&nbsp;&nbsp;tree = ''
&nbsp;&nbsp;&nbsp;&nbsp;# Create the row from random 'o' and '^' characters:
&nbsp;&nbsp;&nbsp;&nbsp;for branch_num in range(row_num * 2 - 1):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if random.randint(1, 4) == 1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree = tree + 'o'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree = tree + '^'
&nbsp;&nbsp;&nbsp;&nbsp;print(spaces + tree)
&nbsp;&nbsp;&nbsp;&nbsp;row_num = row_num + 1

# Print the tree trunk:
spaces = ' ' * (size - 1)
print(spaces + '#')
print(spaces + '#')</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2810" type="title" class="h3a">Chapter 4: Functions</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1614" id="calibre_link-479" class="calibre6">1</a>. No. The parentheses after <span class="literal">hello</span> are missing.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1615" id="calibre_link-480" class="calibre6">2</a>. No. The keyword is <span class="literal">def</span> and not <span class="literal">define</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1616" id="calibre_link-481" class="calibre6">3</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1617" id="calibre_link-482" class="calibre6">4</a>. No. The <span class="literal">def</span> keyword is missing.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1618" id="calibre_link-483" class="calibre6">5</a>. No. The function name and parentheses are missing.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1619" id="calibre_link-484" class="calibre6">6</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1620" id="calibre_link-485" class="calibre6">7</a>. Yes.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1621" id="calibre_link-486" class="calibre6">8</a>. This function definition has the <span class="literal">def</span> keyword and a colon, which a function call does not have.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1622" id="calibre_link-487" class="calibre6">9</a>. The two parameters are <span class="literal">first_name</span> and <span class="literal">last_name</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1623" id="calibre_link-488" class="calibre6">10</a>. The <span class="literal">'Albert'</span> value is an argument. Parameters are variables, not values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1624" id="calibre_link-489" class="calibre6">11</a>. This program prints nothing, because the <span class="literal">say_hello()</span> function is defined but never called.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1625" id="calibre_link-490" class="calibre6">12</a>. This program prints the string <span class="literal">Hello</span> three times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1626" id="calibre_link-491" class="calibre6">13</a>. This program prints the string <span class="literal">Hello</span> six times (three times each for the two function calls).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1627" id="calibre_link-492" class="calibre6">14</a>. The data type of the return value is a Boolean or bool value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1628" id="calibre_link-493" class="calibre6">15</a>. <span role="doc-pagebreak" id="calibre_link-2811" aria-label="180"></span>Technically, the <span class="literal">password</span> parameter can have a value of any data type, though the code suggests that it should be a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1629" id="calibre_link-494" class="calibre6">16</a>. The data type of the return value is a string, because <span class="literal">'Hello, '</span> is a string and <span class="literal">name</span> is also a string (since the return values of <span class="literal">input()</span> are always strings), and concatenating two strings with the <span class="literal">+</span> operator always evaluates to a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1630" id="calibre_link-495" class="calibre6">17</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1631" id="calibre_link-496" class="calibre6">18</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1632" id="calibre_link-497" class="calibre6">19</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1633" id="calibre_link-498" class="calibre6">20</a>. <span class="literal">True</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1634" id="calibre_link-499" class="calibre6">21</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1635" id="calibre_link-500" class="calibre6">22</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1636" id="calibre_link-501" class="calibre6">23</a>. <span class="literal">False</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1637" id="calibre_link-502" class="calibre6">24</a>. A stack frame object represents a function call.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1638" id="calibre_link-503" class="calibre6">25</a>. A stack frame object is pushed to the top of the call stack when a function is called.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1639" id="calibre_link-504" class="calibre6">26</a>. A stack frame object is popped off the top of the call stack when the function call returns.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1640" id="calibre_link-505" class="calibre6">27</a>. The stack frame object at the top of the call stack represents the function call the execution is currently in.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1641" id="calibre_link-506" class="calibre6">28</a>. The call stack has a stack frame object for the <span class="literal">spam()</span> function call on the bottom, with a stack frame object for the <span class="literal">bacon()</span> function call on top of it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1642" id="calibre_link-507" class="calibre6">29</a>. A program that has absolutely no function calls in it always has an empty call stack with no stack frame objects for local variables.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1643" id="calibre_link-508" class="calibre6">30</a>. Local. Function parameters are always local variables.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1644" id="calibre_link-509" class="calibre6">31</a>. Global. Variables marked with the <span class="literal">global</span> statement are always global.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1645" id="calibre_link-510" class="calibre6">32</a>. No. A variable must be global or local and can’t be both.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1646" id="calibre_link-511" class="calibre6">33</a>. Local. If a variable in a function is used in an assignment statement in that function and there is no <span class="literal">global</span> statement for it, it is a local variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1647" id="calibre_link-512" class="calibre6">34</a>. Global. Variables marked with the <span class="literal">global</span> statement are always global.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1648" id="calibre_link-513" class="calibre6">35</a>. Global. If a variable in a function is used in a function but never in an assignment statement, it is a global variable. In this case, it is global even if there is no <span class="literal">global</span> statement for it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1649" id="calibre_link-514" class="calibre6">36</a>. <span role="doc-pagebreak" id="calibre_link-2812" aria-label="181"></span>The code prints the string <span class="literal">'cat'</span> because <span class="literal">spam</span> in the <span class="literal">func()</span> function is a parameter and parameters are always local.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1650" id="calibre_link-515" class="calibre6">37</a>. The code prints the string <span class="literal">'dog'</span> because <span class="literal">spam</span> in the <span class="literal">func()</span> function is not used in an assignment statement. Note that the parameter is <span class="literal">eggs</span>, but <span class="literal">spam</span> is the variable passed to <span class="literal">print()</span>, so the value in <span class="literal">eggs</span> doesn’t matter.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1651" id="calibre_link-516" class="calibre6">38</a>. The code prints the string <span class="literal">'dog'</span> because <span class="literal">spam</span> in the <span class="literal">func()</span> function is used in an assignment statement, making it a local variable. The <span class="literal">spam = 'cat'</span> statement applies to a local <span class="literal">spam</span> variable and not to the global <span class="literal">spam</span> variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1652" id="calibre_link-517" class="calibre6">39</a>. The code prints the string <span class="literal">'cat'</span> because <span class="literal">spam</span> in the <span class="literal">func()</span> function is used in a <span class="literal">global</span> statement, making it a global variable. The <span class="literal">spam = 'cat'</span> statement applies to the global <span class="literal">spam</span> variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1653" id="calibre_link-518" class="calibre6">40</a>. The code prints the string <span class="literal">'dog'</span> because <span class="literal">spam</span> in the <span class="literal">func()</span> function is used in a <span class="literal">global</span> statement, making it a global variable. The <span class="literal">print()</span> function prints <span class="literal">spam</span> before it was changed to <span class="literal">'cat'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1654" id="calibre_link-519" class="calibre6">41</a>. The code prints nothing, because it crashes with an error. If a function contains an assignment statement for a variable that is not used in a global statement, the variable is local. However, the <span class="literal">print(spam)</span> line tries to print this local variable before it has been assigned a value. This causes an <span class="literal">UnboundLocalError</span> error.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1655" id="calibre_link-520" class="calibre6">42</a>. Yes. The program would crash because the <span class="literal">int(input())</span> call is outside the <span class="literal">try</span> block.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1656" id="calibre_link-521" class="calibre6">43</a>. No. The program would not crash, because the <span class="literal">int(input())</span> call is inside the <span class="literal">try</span> block, and the <span class="literal">except</span> block catches the <span class="literal">ValueError</span> exceptions that <span class="literal">int()</span> would raise.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1657" id="calibre_link-522" class="calibre6">44</a>. Yes. The program would crash, because even though the <span class="literal">int(input</span><span class="literal">())</span> calls are inside the <span class="literal">try</span> block, the <span class="literal">except</span> block catches only <span class="literal">ZeroDivisionError</span> exceptions, and the <span class="literal">int()</span> function raises <span class="literal">ValueError</span> exceptions.</p></li>
</ol>
<p class="head">Transaction Tracker</p>
<pre class="pre">def after_transaction(balance, transaction):
&nbsp;&nbsp;&nbsp;&nbsp;if balance + transaction &lt; 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return balance
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return balance + transaction</pre>
<p class="head">Arithmetic Functions Without Arithmetic Operators</p>
<pre class="pre">def plus_one(number):
&nbsp;&nbsp;&nbsp;&nbsp;return number + 1

def add(number1, number2):
&nbsp;&nbsp;&nbsp;&nbsp;total_sum = number1
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(number2):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total_sum = plus_one(total_sum)<span role="doc-pagebreak" id="calibre_link-2813" aria-label="182"></span>
&nbsp;&nbsp;&nbsp;&nbsp;return total_sum

def multiply(number1, number2):
&nbsp;&nbsp;&nbsp;&nbsp;total_product = 0
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(number2):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total_product = add(total_product, number1)
&nbsp;&nbsp;&nbsp;&nbsp;return total_product</pre>
<p class="head">Tick Tock</p>
<p class="noindent">This implementation uses a <span class="literal">for</span> loop:</p>
<pre class="pre">import time
def tick_tock(seconds):
&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tick...'
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(seconds):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Print either "Tick" or "Tock":
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(tick_or_tock)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(1)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Switch between "Tick" and "Tock":
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if tick_or_tock == 'Tick...':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tock...'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tick...'</pre>
<p class="indent">Alternatively, this implementation uses a <span class="literal">while</span> loop:</p>
<pre class="pre">import time
def tick_tock(seconds):
&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tick...'
&nbsp;&nbsp;&nbsp;&nbsp;while seconds &gt; 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Print either "Tick" or "Tock":
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(tick_or_tock)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(1)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Switch between "Tick" and "Tock":
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if tick_or_tock == 'Tick...':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tock...'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tick_or_tock = 'Tick...'

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Decrease seconds by one:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seconds = seconds - 1</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2814" type="title" class="h3a">Chapter 5: Debugging</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1658" id="calibre_link-523" class="calibre6">1</a>. The program crashes with the exception message <span class="literal">"You did not enter a name."</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1659" id="calibre_link-524" class="calibre6">2</a>. <span class="literal">raise Exception('An error happened. This error message is vague and unhelpful.')</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1660" id="calibre_link-525" class="calibre6">3</a>. False. A <span class="literal">raise</span> statement can be anywhere.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1661" id="calibre_link-526" class="calibre6">4</a>. <span role="doc-pagebreak" id="calibre_link-2815" aria-label="183"></span>The program prints <span class="literal">'Hello, Guido.'</span> This is because the <span class="literal">try</span> block catches the raised exception, then runs the code in the <span class="literal">except</span> block, which assigns the <span class="literal">name</span> variable the value <span class="literal">'Guido'</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1662" id="calibre_link-527" class="calibre6">5</a>. Assertions are for programmer errors.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1663" id="calibre_link-528" class="calibre6">6</a>. Failing fast is a good thing because it reduces the time between the true cause of a bug and when the bug is first noticed, making the true cause easier to find and fix.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1664" id="calibre_link-529" class="calibre6">7</a>. The <span class="literal">-o</span> command line argument suppresses assertion checks.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1665" id="calibre_link-530" class="calibre6">8</a>. An <span class="literal">assert False</span> statement will always raise an assertion error if executed, because the condition is always <span class="literal">False</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1666" id="calibre_link-531" class="calibre6">9</a>. Using <span class="literal">print()</span> calls instead of the <span class="literal">logging</span> module could later result in accidentally leaving in some of the debugging <span class="literal">print()</span> calls or accidentally removing non-debugging <span class="literal">print()</span> calls.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1667" id="calibre_link-532" class="calibre6">10</a>. CRITICAL.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1668" id="calibre_link-533" class="calibre6">11</a>. DEBUG, or possibly INFO.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1669" id="calibre_link-534" class="calibre6">12</a>. DEBUG.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1670" id="calibre_link-535" class="calibre6">13</a>. ERROR, or possibly WARNING.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1671" id="calibre_link-536" class="calibre6">14</a>. ERROR, or possibly WARNING.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1672" id="calibre_link-537" class="calibre6">15</a>. INFO, or possibly DEBUG.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1673" id="calibre_link-538" class="calibre6">16</a>. DEBUG.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1674" id="calibre_link-539" class="calibre6">17</a>. DEBUG, or possibly INFO.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1675" id="calibre_link-540" class="calibre6">18</a>. Set a breakpoint on that particular line of code.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1676" id="calibre_link-541" class="calibre6">19</a>. Step Out.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1677" id="calibre_link-542" class="calibre6">20</a>. Continue.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1678" id="calibre_link-543" class="calibre6">21</a>. Stop or Quit (the label varies between debuggers).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1679" id="calibre_link-544" class="calibre6">22</a>. Step In or Step Into (the label varies between debuggers).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1680" id="calibre_link-545" class="calibre6">23</a>. Step Over.</p></li>
</ol>
<p class="head">Buggy Grade-Average Calculator</p>
<p class="noindent">The bug is that the call to <span class="literal">calculate_grade_average()</span> passes the number of grades for the first argument and the grade sum for the second argument, which is the opposite of the expected order. You can fix this issue by changing this line</p>
<pre class="pre">avg = calculate_grade_average(counter, total)</pre>
<p class="noindent">into this line:</p>
<pre class="pre">avg = calculate_grade_average(total, counter)</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2816" aria-label="184"></span>Zero Division Error</p>
<p class="noindent">When a <span class="literal">0</span> argument is passed for the <span class="literal">number_of_grades</span> parameter, it causes the <span class="literal">grade_average = int(grade_sum / number_of_grades)</span> to raise a <span class="literal">ZeroDivisionError</span> error.</p>
<p class="indent">Add this code to the <span class="literal">calculate_grade_average()</span> function so that it returns the integer <span class="literal">0</span> when the user hasn’t entered any grades:</p>
<pre class="pre">def calculate_grade_average(grade_sum, number_of_grades):
&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">if number_of_grades == 0:</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">return 0</span>
&nbsp;&nbsp;&nbsp;&nbsp;grade_average = int(grade_sum / number_of_grades)
&nbsp;&nbsp;&nbsp;&nbsp;return grade_average</pre>
<p class="head">Leap Year Calculator</p>
<p class="noindent">The fixed code is shown in bold:</p>
<pre class="pre">def is_leap_year(year):
&nbsp;&nbsp;&nbsp;&nbsp;if year % 4 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if year % 100 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if year % 400 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return True
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="codestrong">return False</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return True
&nbsp;&nbsp;&nbsp;&nbsp;return False</pre>
<p class="head">Writing Buggy Code on Purpose</p>
<p class="noindent">The following are examples that produce the asked-for error messages. Your program doesn’t have to exactly match them as long as they produce the error message.</p>
<p class="indent"><i class="calibre5">nameError.py</i>:</p>
<pre class="pre">print(spam)</pre>
<p class="indent"><i class="calibre5">badInt.py</i>:</p>
<pre class="pre">int('five')</pre>
<p class="indent"><i class="calibre5">badEquals.py</i>:</p>
<pre class="pre">age = 10
if age = 10:
&nbsp;&nbsp;&nbsp;&nbsp;print('You are ten.')</pre>
<p class="indent"><i class="calibre5">badString.py</i>:</p>
<pre class="pre">print('Hello)</pre>
<p class="indent"><i class="calibre5">badBool.py</i>:</p>
<pre class="pre">print(true)</pre>
<p class="indent"><i class="calibre5">missingIfBlock.py</i>:</p>
<pre class="pre">age = 10
if age == 10:</pre>
<p class="indent"><span role="doc-pagebreak" id="calibre_link-2817" aria-label="185"></span><i class="calibre5">stringPlusInt.py</i>:</p>
<pre class="pre">print('Hello' + 5)</pre>
<p class="indent"><i class="calibre5">intPlusString.py</i>:</p>
<pre class="pre">print(5 + 'Hello')</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2818" type="title" class="h3a">Chapter 6: Lists</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1681" id="calibre_link-546" class="calibre6">1</a>. <span class="literal">0</span>. In Python and most programming languages, <span class="literal">0</span>, not <span class="literal">1</span>, is the first index.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1682" id="calibre_link-547" class="calibre6">2</a>. <span class="literal">'hat'</span>. If you thought the answer was <span class="literal">'rat'</span>, you forgot that the first index is <span class="literal">0</span>, not <span class="literal">1</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1683" id="calibre_link-548" class="calibre6">3</a>. This is a trick question! <span class="literal">spam[4]</span> would raise a “list index out of range” error because <span class="literal">3</span> is the last index in <span class="literal">spam</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1684" id="calibre_link-549" class="calibre6">4</a>. No. Python lists do not need to contain only values of one data type. This is a restriction in other programming languages, but not in Python.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1685" id="calibre_link-550" class="calibre6">5</a>. Python raises a “list index out of range” error when evaluating <span class="literal">spam[0]</span> and <span class="literal">spam</span> is an empty list.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1686" id="calibre_link-551" class="calibre6">6</a>. No. For <span class="literal">spam[3]</span>, the <span class="literal">[3]</span> is meant to be the index <span class="literal">3</span> for the list in <span class="literal">spam</span>. Even though it uses square brackets, it is not itself a list.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1687" id="calibre_link-552" class="calibre6">7</a>. The index <span class="literal">-1</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1688" id="calibre_link-553" class="calibre6">8</a>. The index <span class="literal">-3</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1689" id="calibre_link-554" class="calibre6">9</a>. The statement <span class="literal">del spam[0]</span> removes the first value in the <span class="literal">spam</span> list while <span class="literal">del spam</span> deletes the entire list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1690" id="calibre_link-555" class="calibre6">10</a>. The program prints the values in the <span class="literal">spam</span> list:</p>
<pre class="calibre16">cat
dog
moose</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1691" id="calibre_link-556" class="calibre6">11</a>. The program prints the indexes of the <span class="literal">spam</span> list:</p>
<pre class="calibre16">0
1
2</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1692" id="calibre_link-557" class="calibre6">12</a>. <span role="doc-pagebreak" id="calibre_link-2819" aria-label="186"></span>Even though the program loops over the indexes of the <span class="literal">spam</span> list, the actual output comprises the values in the <span class="literal">spam</span> list:</p>
<pre class="calibre16">cat
dog
moose</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1693" id="calibre_link-558" class="calibre6">13</a>. A Boolean <span class="literal">True</span> or <span class="literal">False</span> value. For example, <span class="literal">'fish' in ['cat', 'dog', 'moose']</span> evaluates to <span class="literal">False</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1694" id="calibre_link-559" class="calibre6">14</a>. The variable <span class="literal">b</span> contains the string <span class="literal">'dog'</span>. This kind of assignment is called <i class="calibre5">unpacking</i>, where the three values in <span class="literal">['cat', 'dog', 'moose']</span> are assigned to the variables <span class="literal">a</span>, <span class="literal">b</span>, and <span class="literal">c</span>, respectively.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1695" id="calibre_link-560" class="calibre6">15</a>. The variable <span class="literal">b</span> contains the string <span class="literal">'a'</span>. The string <span class="literal">'cat'</span> is also a sequence, so it can be unpacked just like a list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1696" id="calibre_link-561" class="calibre6">16</a>. The <span class="literal">a</span> variable is assigned each index of the <span class="literal">spam</span> list, starting at <span class="literal">0</span>. The <span class="literal">b</span> variable is assigned that index’s value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1697" id="calibre_link-562" class="calibre6">17</a>. The <span class="literal">random.choice()</span> function returns a randomly selected value from the list passed to it. For example, <span class="literal">random.choice(['cat', 'dog'])</span> could return either <span class="literal">'cat'</span> or <span class="literal">'dog'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1698" id="calibre_link-563" class="calibre6">18</a>. The <span class="literal">random.shuffle()</span> function randomizes the order of the values in the list passed to it. For example, if <span class="literal">spam = ['cat', 'dog', 'moose']</span>, then <span class="literal">random.shuffle(spam)</span> could set <span class="literal">spam</span> with the value <span class="literal">['moose', 'cat', 'dog']</span>. The list is modified by the function in place and the function doesn’t return any values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1699" id="calibre_link-564" class="calibre6">19</a>. The expression <span class="literal">len(spam)</span> evaluates to <span class="literal">3</span> because only the order of the values in the list has changed, not the number of values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1700" id="calibre_link-565" class="calibre6">20</a>. The program prints <span class="literal">105</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1701" id="calibre_link-566" class="calibre6">21</a>. <span class="literal">spam *= 2</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1702" id="calibre_link-567" class="calibre6">22</a>. <span class="literal">bacon -= 3</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1703" id="calibre_link-568" class="calibre6">23</a>. <span class="literal">eggs += bacon * 5</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1704" id="calibre_link-569" class="calibre6">24</a>. <span class="literal">eggs *= bacon + 5</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1705" id="calibre_link-570" class="calibre6">25</a>. <span class="literal">spam += 'LastName'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1706" id="calibre_link-571" class="calibre6">26</a>. <span class="literal">sort()</span> is a list method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1707" id="calibre_link-572" class="calibre6">27</a>. <span class="literal">len()</span> is a function.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1708" id="calibre_link-573" class="calibre6">28</a>. <span class="literal">append()</span> is a list method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1709" id="calibre_link-574" class="calibre6">29</a>. <span class="literal">index()</span> is a list and string method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1710" id="calibre_link-575" class="calibre6">30</a>. <span class="literal">print()</span> is a function.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1711" id="calibre_link-576" class="calibre6">31</a>. <span class="literal">input()</span> is a function.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1712" id="calibre_link-577" class="calibre6">32</a>. <span role="doc-pagebreak" id="calibre_link-2820" aria-label="187"></span><span class="literal">reverse()</span> is a list method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1713" id="calibre_link-578" class="calibre6">33</a>. The <span class="literal">remove()</span> method removes a value by the value (for example, <span class="literal">spam.remove('cat')</span>) while the <span class="literal">del</span> operator removes a value by the index (for example, <span class="literal">del spam[3]</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1714" id="calibre_link-579" class="calibre6">34</a>. The code <span class="literal">sort(spam)</span> causes an error because <span class="literal">sort()</span> is a list method and not a function. The correct way to call it is <span class="literal">spam.sort()</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1715" id="calibre_link-580" class="calibre6">35</a>. The code <span class="literal">spam.sort()</span> arranges the values in <span class="literal">spam</span> in “ASCIIbetical” order.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1716" id="calibre_link-581" class="calibre6">36</a>. The code <span class="literal">spam.sort(key=str.lower)</span> sorts a list in alphabetical order.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1717" id="calibre_link-582" class="calibre6">37</a>. <span class="literal">['cat', 'dog', 'moose']</span> because the list was already in “ASCIIbetical” order.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1718" id="calibre_link-583" class="calibre6">38</a>. <span class="literal">['moose', 'dog', 'cat']</span> because the <span class="literal">reverse=True</span> keyword argument makes the <span class="literal">sort()</span> method sort in reverse order.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1719" id="calibre_link-584" class="calibre6">39</a>. <span class="literal">[42, 86, 99, 3]</span> because the <span class="literal">reverse()</span> list method reverses the order of values in a list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1720" id="calibre_link-585" class="calibre6">40</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1721" id="calibre_link-586" class="calibre6">41</a>. Nothing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1722" id="calibre_link-587" class="calibre6">42</a>. Nothing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1723" id="calibre_link-588" class="calibre6">43</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1724" id="calibre_link-589" class="calibre6">44</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1725" id="calibre_link-590" class="calibre6">45</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1726" id="calibre_link-591" class="calibre6">46</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1727" id="calibre_link-592" class="calibre6">47</a>. Hello.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1728" id="calibre_link-593" class="calibre6">48</a>. Sequence data types include lists, strings, and tuples.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1729" id="calibre_link-594" class="calibre6">49</a>. Because the first index is <span class="literal">0</span>, not <span class="literal">1</span>. The index <span class="literal">1</span> refers to the second character in the <span class="literal">'Zophie'</span> string, <span class="literal">o</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1730" id="calibre_link-595" class="calibre6">50</a>. The expression <span class="literal">'Zophie'[-1]</span> evaluates to the last index in the string, <span class="literal">e</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1731" id="calibre_link-596" class="calibre6">51</a>. This is a trick question! <span class="literal">'Zophie'[9999]</span> results in an <span class="literal">IndexError: string index out of range</span> because there is no index <span class="literal">9999</span> in a string of only six characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1732" id="calibre_link-597" class="calibre6">52</a>. The code prints each character of the string separately:</p>
<pre class="calibre16">c
a
t</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1733" id="calibre_link-598" class="calibre6">53</a>. <span role="doc-pagebreak" id="calibre_link-2821" aria-label="188"></span>The code prints the first value, the list <span class="literal">['cat', 'dog']</span>, and then the second value, the string <span class="literal">'moose'</span>:</p>
<pre class="calibre16">['cat', 'dog']
moose</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1734" id="calibre_link-599" class="calibre6">54</a>. Because <span class="literal">'moose'[0:3]</span> evaluates to the string <span class="literal">'moo'</span>, the code prints:</p>
<pre class="calibre16">m
o
o</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1735" id="calibre_link-600" class="calibre6">55</a>. The main difference between lists and tuples is that the contents of a tuple cannot be modified but the contents of a list can be.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1736" id="calibre_link-601" class="calibre6">56</a>. <span class="literal">list(('cat', 'dog'))</span> returns a list form of the tuple.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1737" id="calibre_link-602" class="calibre6">57</a>. <span class="literal">tuple(['cat', 'dog'])</span> returns a tuple form of the list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1738" id="calibre_link-603" class="calibre6">58</a>. You get the error message <span class="literal">TypeError: 'tuple' object does not support item assignment</span> because the contents of tuples cannot be modified.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1739" id="calibre_link-604" class="calibre6">59</a>. Technically, Python variables always contain references to values rather than the values themselves.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1740" id="calibre_link-605" class="calibre6">60</a>. In Python, the <span class="literal">=</span> assignment operator always copies references to values rather than the values themselves.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1741" id="calibre_link-606" class="calibre6">61</a>. There is only one list value in the computer’s memory; the <span class="literal">a</span>, <span class="literal">b</span>, and <span class="literal">c</span> variables all contain copies of the same reference to this one list value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1742" id="calibre_link-607" class="calibre6">62</a>. There are three separate list values in the computer’s memory, as the <span class="literal">copy()</span> method creates a copy of the list instead of just copying a reference to the list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1743" id="calibre_link-608" class="calibre6">63</a>. Use <span class="literal">deepcopy()</span> to make a copy of <span class="literal">[['cat', 'dog'], 'moose']</span>, as it is a list that contains other list values.</p></li>
</ol>
<p class="head">Pangram Detector</p>
<pre class="pre">def is_pangram(sentence):
&nbsp;&nbsp;&nbsp;&nbsp;EACH_LETTER = []
&nbsp;&nbsp;&nbsp;&nbsp;for char in sentence:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char = char.upper()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if char in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' and char not in EACH_LETTER:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EACH_LETTER.append(char)

&nbsp;&nbsp;&nbsp;&nbsp;if len(EACH_LETTER) == 26:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return True
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False

print('Enter a sentence:')
response = input()<span role="doc-pagebreak" id="calibre_link-2822" aria-label="189"></span>
if is_pangram(response):
&nbsp;&nbsp;&nbsp;&nbsp;print('That sentence is a pangram.')
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('That sentence is not a pangram.')</pre>
<p class="head">Coordinate Directions</p>
<pre class="pre">
def get_end_coordinates (directions):
&nbsp;&nbsp;&nbsp;&nbsp;# Start the x, y coordinates at 0, 0:
&nbsp;&nbsp;&nbsp;&nbsp;x = 0
&nbsp;&nbsp;&nbsp;&nbsp;y = 0

&nbsp;&nbsp;&nbsp;&nbsp;# Increase or decrease the coordinate for each direction:
&nbsp;&nbsp;&nbsp;&nbsp;for direction in directions:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if direction == 'N':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = y + 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif direction == 'S':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = y - 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif direction == 'E':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = x + 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif direction == 'W':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = x - 1
&nbsp;&nbsp;&nbsp;&nbsp;return [x, y]

# Hold the user's directions in this list:
directions = []
while True:
&nbsp;&nbsp;&nbsp;&nbsp;print('Enter N, S, E, or W to enter a direction. Enter nothing to stop.')
&nbsp;&nbsp;&nbsp;&nbsp;response = input().upper()
&nbsp;&nbsp;&nbsp;&nbsp;if response == '':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;&nbsp;# Stop accepting user directions.
&nbsp;&nbsp;&nbsp;&nbsp;if response == 'N' or response == 'S' or response == 'E' or response == 'W':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directions.append(response)

print(get_coordinates(directions))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2823" type="title" class="h3a">Chapter 7: Dictionaries and Structuring Data</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1744" id="calibre_link-609" class="calibre6">1</a>. <span class="literal">'name'</span> and <span class="literal">42</span> are the keys of the key-value pairs.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1745" id="calibre_link-610" class="calibre6">2</a>. <span class="literal">'Alice'</span> and <span class="literal">'answer'</span> are the values of the key-value pairs.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1746" id="calibre_link-611" class="calibre6">3</a>. A <span class="literal">SyntaxError</span> error appears because dictionaries use curly brackets, not square brackets.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1747" id="calibre_link-612" class="calibre6">4</a>. Change the square brackets to curly brackets: <span class="literal">{'name': 'Alice'}</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1748" id="calibre_link-613" class="calibre6">5</a>. A <span class="literal">NameError</span> error appears because, without quotes, Python thinks <span class="literal">cat</span> is a variable name instead of a string.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1749" id="calibre_link-614" class="calibre6">6</a>. Put <span class="literal">cat</span> and <span class="literal">Zophie</span> in quotes to make them strings: <span class="literal">{'cat': 'Zophie'}</span>. Alternatively, the original code would work if there existed variables named <span class="literal">cat</span> and <span class="literal">Zophie</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1750" id="calibre_link-615" class="calibre6">7</a>. <span role="doc-pagebreak" id="calibre_link-2824" aria-label="190"></span>Yes. <span class="literal">{True: True}</span> is a valid dictionary. Boolean values can be used for keys and values in Python dictionaries.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1751" id="calibre_link-616" class="calibre6">8</a>. Yes. They are the same. Python dictionaries are unordered, so it doesn’t matter in what order you enter the key-value pairs in your code.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1752" id="calibre_link-617" class="calibre6">9</a>. No. They are different dictionaries. The first has a key <span class="literal">'name'</span> with value <span class="literal">'Alice'</span> and the second has a key <span class="literal">'Alice'</span> with value <span class="literal">'name'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1753" id="calibre_link-618" class="calibre6">10</a>. No. They are different dictionaries. The value in the key-value pair for the first dictionary has a string <span class="literal">'12345'</span> while the second has an integer <span class="literal">12345</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1754" id="calibre_link-619" class="calibre6">11</a>. Yes. Python dictionaries can have strings for keys.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1755" id="calibre_link-620" class="calibre6">12</a>. Yes. Python dictionaries can have integers for keys. However, unlike integer list indexes, these integer keys don’t have anything to do with ordering, as Python dictionaries are unordered.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1756" id="calibre_link-621" class="calibre6">13</a>. Yes. Python dictionaries can have negative integers for keys. However, unlike integer list indexes, they don’t have anything to do with ordering, as Python dictionaries are unordered.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1757" id="calibre_link-622" class="calibre6">14</a>. A <span class="literal">KeyError</span> error happens if your code tries to access a non-existent key.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1758" id="calibre_link-623" class="calibre6">15</a>. No. The keys in a Python dictionary must be unique. If you enter code such as <span class="literal">{'a': 1, 'a': 2}</span>, Python evaluates this as <span class="literal">{'a': 2}</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1759" id="calibre_link-624" class="calibre6">16</a>. Yes. Multiple key-value pairs can have the same values. For example, <span class="literal">{'a': 1, 'b': 1}</span> is a valid Python dictionary in which multiple key-value pairs have a value of <span class="literal">1</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1760" id="calibre_link-625" class="calibre6">17</a>. Python dictionaries are unordered and therefore have no concept of a “first” or “last” key-value pair.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1761" id="calibre_link-626" class="calibre6">18</a>. <span class="literal">['name', 'color']</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1762" id="calibre_link-627" class="calibre6">19</a>. <span class="literal">['Alice', 'red']</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1763" id="calibre_link-628" class="calibre6">20</a>. <span class="literal">[('name', 'Alice'), ('color', 'red')]</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1764" id="calibre_link-629" class="calibre6">21</a>. This is a trick question! <span class="literal">spam[42]</span> causes a <span class="literal">KeyError</span> error because there is a key <span class="literal">'42'</span> in the dictionary but no key <span class="literal">42</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1765" id="calibre_link-630" class="calibre6">22</a>. This is a trick question! <span class="literal">spam[1]</span> causes a <span class="literal">KeyError</span> error because there is no key <span class="literal">1</span> in the dictionary. Dictionaries are not like lists; just because there are keys <span class="literal">0</span> and <span class="literal">2</span> doesn’t mean there is necessarily a key <span class="literal">1</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1766" id="calibre_link-631" class="calibre6">23</a>. No. If the <span class="literal">'color'</span> key doesn’t exist, the <span class="literal">get()</span> dictionary method returns <span class="literal">None</span> by default.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1767" id="calibre_link-632" class="calibre6">24</a>. The <span class="literal">get()</span> method returns <span class="literal">'red'</span>. The optional second argument is returned when the requested key doesn’t exist.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1768" id="calibre_link-633" class="calibre6">25</a>. <span role="doc-pagebreak" id="calibre_link-2825" aria-label="191"></span>No. The <span class="literal">setdefault()</span> method never results in a <span class="literal">KeyError</span> error.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1769" id="calibre_link-634" class="calibre6">26</a>. <span class="literal">{'time': 15, 'temp': 23.2, 'feels_like': 24.0, 'humidity': 91, 'pressure': 1014}</span>. Note that the value for <span class="literal">'feels_like'</span> must be <span class="literal">24.0</span> because <span class="literal">24</span> is an integer. Also note that the order of the key-value pairs doesn’t matter.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1770" id="calibre_link-635" class="calibre6">27</a>. <span class="literal">{15: 'Alice', 17: 'Bob', 19: 'Carol'}</span>. Note that the order of the key-value pairs doesn’t matter.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1771" id="calibre_link-636" class="calibre6">28</a>. No. The keys in Python dictionaries must be unique, so it’s not possible for two people to have a reservation at the same time if the reservation times are the keys.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1772" id="calibre_link-637" class="calibre6">29</a>. Yes. If the customer names are the keys, it’s possible for two customers to have a reservation at the same time. For example, <span class="literal">{'Alice': 15, 'Bob': 15, 'Carol': 15}</span> is a dictionary containing three customers with reservations at 3 <span class="smallcaps">pm</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1773" id="calibre_link-638" class="calibre6">30</a>. <span class="literal">[{'name': 'Alice', 'grade': 7}, {'name': 'Bob', 'grade': 7},</span> <span class="literal">{'name': 'Carol', 'grade': 7}, {'name': 'David', 'grade': 6}]</span>. The particular order of the dictionaries in the list doesn’t matter and could differ.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1774" id="calibre_link-639" class="calibre6">31</a>. <span class="literal">spam[1]['name']</span> evaluates to <span class="literal">'Zophie'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1775" id="calibre_link-640" class="calibre6">32</a>. <span class="literal">spam[0]['age']</span> evaluates to <span class="literal">3</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1776" id="calibre_link-641" class="calibre6">33</a>. <span class="literal">spam['pets'][0]</span> evaluates to <span class="literal">'Zophie'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1777" id="calibre_link-642" class="calibre6">34</a>. There are multiple correct ways to write this code, but the most straightforward is:</p>
<pre class="calibre16">for pet_name in pet_owners['Alice']:
&nbsp;&nbsp;&nbsp;&nbsp;print(pet_name)</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1778" id="calibre_link-643" class="calibre6">35</a>. <span class="literal">{'Home': {1: 0, 2: 0, 3: 1, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0}, 'Visitor': {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0}}</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1779" id="calibre_link-644" class="calibre6">36</a>. The full program looks like this:</p>
<pre class="calibre16">game = {'Home': {}, 'Visitor': {}}
for inning in range(1, 10):&nbsp;&nbsp;# The loop goes up to but doesn't include 10.
&nbsp;&nbsp;&nbsp;&nbsp;game['Home'][inning] = 0
&nbsp;&nbsp;&nbsp;&nbsp;game['Visitor'][inning] = 0
game['Home'][3] = 1&nbsp;&nbsp;# Set the one run made in the third inning.
print(game)</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1780" id="calibre_link-645" class="calibre6">37</a>. The program looks the same as the previous program, except the <span class="literal">for</span> loop has changed from <span class="literal">range(1, 10)</span> to <span class="literal">range(1, 10000)</span>:</p>
<pre class="calibre16">game = {'Home': {}, 'Visitor': {}}
for inning in range(1, 10000):&nbsp;&nbsp;# Loop from 1 to 9999.
&nbsp;&nbsp;&nbsp;&nbsp;game['Home'][inning] = 0
&nbsp;&nbsp;&nbsp;&nbsp;game['Visitor'][inning] = 0<span role="doc-pagebreak" id="calibre_link-2826" aria-label="192"></span>
game['Home'][3] = 1&nbsp;&nbsp;# Set the one run made in the third inning.
print(game)</pre></li>
</ol>
<p class="head">Random Weather Data Generator</p>
<pre class="pre">import random

def get_random_weather_data ():
&nbsp;&nbsp;&nbsp;&nbsp;temp = float(random.randint(-50, 50))
&nbsp;&nbsp;&nbsp;&nbsp;return {'temp': temp, 'feels_like': temp + random.randint(-10, 10),
&nbsp;&nbsp;&nbsp;&nbsp;'humidity': random.randint(0, 100), 'pressure': random.randint(990, 1010)}

weather = []
for i in range(100):
&nbsp;&nbsp;&nbsp;&nbsp;weather.append(get_random_weather_generator())
print(weather)</pre>
<p class="head">Average-Temperature Analyzer</p>
<pre class="pre">
import random

def get_random_weather_generator():
&nbsp;&nbsp;&nbsp;&nbsp;temp = float(random.randint(-50, 50))
&nbsp;&nbsp;&nbsp;&nbsp;return {'temp': temp, 'feels_like': temp + random.randint(-10, 10),
&nbsp;&nbsp;&nbsp;&nbsp;'humidity': random.randint(0, 100), 'pressure': random.randint(990, 1010)}

def get_average_temperature(weather_data):
&nbsp;&nbsp;&nbsp;&nbsp;total = 0
&nbsp;&nbsp;&nbsp;&nbsp;for weather in weather_data:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total += weather['temp']
&nbsp;&nbsp;&nbsp;&nbsp;return total / len(weather_data)

weather = []
for i in range(100):
&nbsp;&nbsp;&nbsp;&nbsp;weather.append(get_random_weather_generator())
print(weather)
print(get_average_temperature(weather))</pre>
<p class="head">Chess Rook Capture Predictor</p>
<pre class="pre">def white_rook_can_capture(rook, board):
&nbsp;&nbsp;&nbsp;&nbsp;can_capture = []
&nbsp;&nbsp;&nbsp;&nbsp;for square in board.keys():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;piece = board[square]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if piece[0] == 'b' and (square[0] == rook[0] or square[1] == rook[1]):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_capture.append(square)
&nbsp;&nbsp;&nbsp;&nbsp;return can_capture
print(white_rook_can_capture('d3', {'d7': 'bQ', 'd2': 'wB', 'f1': 'bP', 'a3': 'bN'}))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2827" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2828" aria-label="193" class="calibre1"></span>Chapter 8: Strings and Text Editing</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1781" id="calibre_link-647" class="calibre6">1</a>. A string literal is the string value literally in the source code, typed as text surrounded by quote characters.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1782" id="calibre_link-648" class="calibre6">2</a>. They are the same, though single-quoted strings need to escape any single-quote characters that are a part of the string, while double-quoted strings need to escape any double-quote characters that are a part of the string.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1783" id="calibre_link-649" class="calibre6">3</a>. Multiline strings start and end with a “triple quote,” which is either three single-quote characters or three double-quote characters.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1784" id="calibre_link-650" class="calibre6">4</a>. Yes. It is valid. String literals that begin and end with double quotes don’t have to escape single-quote characters.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1785" id="calibre_link-651" class="calibre6">5</a>. Yes. It is valid. String literals that begin and end with double quotes don’t have to escape single-quote characters.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1786" id="calibre_link-652" class="calibre6">6</a>. Yes. If the string uses both single and double quotes, then one of the quote types must be escaped. (The exception is that multiline strings can contain both kinds of quotes unescaped.)</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1787" id="calibre_link-653" class="calibre6">7</a>. The <span class="literal">'A\'B'</span> string literal is valid because it has an escaped single-quote character <span class="literal">\'</span>. The <span class="literal">'A\\\'B'</span> string literal is valid because it has an escaped backslash <span class="literal">\\</span> followed by an escaped single quote <span class="literal">\'</span>. But <span class="literal">'A\\'B'</span> is invalid because the first backslash escapes the second backslash, leaving the following quote unescaped. This makes Python think that the string is <span class="literal">'A\\'</span>, and the <span class="literal">B'</span> that follows is a syntax error.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1788" id="calibre_link-654" class="calibre6">8</a>. You can mark a string literal as raw with an <span class="literal">r</span> prefix: <span class="literal">r'Hello'</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1789" id="calibre_link-655" class="calibre6">9</a>. <span class="literal">print('A\\B')</span> will print one backslash because <span class="literal">\\</span> is an escape character for backslashes (just as <span class="literal">\n</span> is an escape character for newlines and <span class="literal">\t</span> is an escape character for tabs).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1790" id="calibre_link-656" class="calibre6">10</a>. <span class="literal">print(r'A\\B')</span> will print two backslashes because raw string literals (marked with the <span class="literal">r</span> prefix) don’t escape any characters and treat all backslashes as literal backslash characters in the string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1791" id="calibre_link-657" class="calibre6">11</a>. A multiline string (which begins and ends with three quote characters) can also function as a multiline comment, as a string by itself does nothing in Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1792" id="calibre_link-658" class="calibre6">12</a>. <span class="literal">'Hello'[1]</span> evaluates to <span class="literal">'e'</span> because <span class="literal">0</span> is the index of the first character in a string and <span class="literal">1</span> is the index of the second character.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1793" id="calibre_link-659" class="calibre6">13</a>. <span class="literal">'Hello'[-1]</span> evaluates to <span class="literal">'o'</span> because negative indexes count from the end of the string, with <span class="literal">-1</span> being the index of the last character.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1794" id="calibre_link-660" class="calibre6">14</a>. <span class="literal">'Hello'[4:5]</span> evaluates to <span class="literal">'o'</span> because <span class="literal">4:5</span> is a slice substring starting at index <span class="literal">4</span> and going up to, but not including, index <span class="literal">5</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1795" id="calibre_link-661" class="calibre6">15</a>. <span role="doc-pagebreak" id="calibre_link-2829" aria-label="194"></span><span class="literal">'Hello'[4:4]</span> evaluates to the blank string <span class="literal">''</span> because the slice substring starts at index <span class="literal">4</span> and goes up to, but does not include, index <span class="literal">4</span>. A slice substring with the same starting and ending indexes always translates to an empty string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1796" id="calibre_link-662" class="calibre6">16</a>. <span class="literal">'Hello'[9999]</span> causes an <span class="literal">IndexError</span> because the largest index in the string <span class="literal">'Hello'</span> is <span class="literal">4</span>, and <span class="literal">9999</span> is larger than <span class="literal">4</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1797" id="calibre_link-663" class="calibre6">17</a>. <span class="literal">'Hello'[1:9999]</span> does not cause an <span class="literal">IndexError</span>, because slices don’t cause errors in Python. Instead, because <span class="literal">9999</span> is larger than the largest index, the slice just goes all the way to the end of the string. <span class="literal">'Hello'[1:9999]</span> evaluates to <span class="literal">'ello'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1798" id="calibre_link-664" class="calibre6">18</a>. <span class="literal">'H' in 'Hello'</span> evaluates to <span class="literal">True</span>, because <span class="literal">'H'</span> does appear in <span class="literal">'Hello'</span>. You can consider this code to be the same as the expression <span class="literal">'H'</span> in <span class="literal">['H', 'e', 'l', 'l', 'o']</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1799" id="calibre_link-665" class="calibre6">19</a>. <span class="literal">'H' in ['Hello', 'Goodbye']</span> evaluates to <span class="literal">False</span>. Only <span class="literal">'Hello'</span> and <span class="literal">'Goodbye'</span> exist in this list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1800" id="calibre_link-666" class="calibre6">20</a>. <span class="literal">'Hello'</span> in <span class="literal">['Hello', 'Goodbye']</span> evaluates to <span class="literal">True</span> because <span class="literal">'Hello'</span> is one of the two values in that list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1801" id="calibre_link-667" class="calibre6">21</a>. <span class="literal">'Hello'</span> in <span class="literal">['Hi', ['Hello', 'Goodbye']]</span> evaluates to <span class="literal">False</span> because <span class="literal">'Hello'</span> is neither the string value <span class="literal">'Hi'</span> nor the list value <span class="literal">['Hello', 'Goodbye']</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1802" id="calibre_link-668" class="calibre6">22</a>. <span class="literal">['Hello', 'Goodbye']</span> in <span class="literal">['Hi', ['Hello', 'Goodbye']]</span> evaluates to <span class="literal">True</span> because the list <span class="literal">['Hello', 'Goodbye']</span> is the second value (after <span class="literal">'Hi'</span>) in the other list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1803" id="calibre_link-669" class="calibre6">23</a>. <span class="literal">'I am number ' + 42</span> causes an error because you are trying to add a string and an integer. <span class="literal">'I am number ' + str(42)</span> doesn’t cause an error, because <span class="literal">str(42)</span> evaluates to the string <span class="literal">'42'</span>, making the expression <span class="literal">'I am number ' + '42'</span>, and concatenating two string values is allowed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1804" id="calibre_link-670" class="calibre6">24</a>. No. The f-string literal <span class="literal">f'I am number {42}'</span> doesn’t cause an error, because even though <span class="literal">42</span> is an integer, the f-string syntax automatically converts it to a string value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1805" id="calibre_link-671" class="calibre6">25</a>. No. The f-string literal <span class="literal">f'I am number {str(42)}'</span> doesn’t cause an error when it puts the string that <span class="literal">str(42)</span> returns inside the f-string. While having <span class="literal">str()</span> is unnecessary, it doesn’t cause an error. The curly brackets inside an f-string can contain not just individual variables but entire expressions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1806" id="calibre_link-672" class="calibre6">26</a>. While <span class="literal">beard_length</span> just evaluates to the value in the variable, the f-string <span class="literal">f'{beard_length=}'</span> evaluates to <span class="literal">'beard_length=\'' + str(beard_length) + '\''</span> for strings. It’s a common way to have the program print the name <i class="calibre5">and</i> contents of a variable for the purposes of debugging. (Technically, <span class="literal">f'{beard_length=}'</span> evaluates to <span class="literal">'beard_length=' + repr(beard_length)</span>, but the <span class="literal">repr()</span> function is beyond the scope of this book.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1807" id="calibre_link-673" class="calibre6">27</a>. <span role="doc-pagebreak" id="calibre_link-2830" aria-label="195"></span>You still need to learn about string interpolation and the <span class="literal">format()</span> string method because you may read them in Python code written by other people. (A second reason is that f-strings were introduced in Python 3.6 and aren’t available in earlier versions.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1808" id="calibre_link-674" class="calibre6">28</a>. No. Calling the <span class="literal">upper()</span> method on a string ensures that it will never have lowercase letters. This expression can only evaluate to <span class="literal">False</span> no matter what string is in <span class="literal">spam</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1809" id="calibre_link-675" class="calibre6">29</a>. <span class="literal">'42'.isupper()</span> evaluates to <span class="literal">False</span>. The string must have at least one uppercase letter for the <span class="literal">isupper()</span> method to return <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1810" id="calibre_link-676" class="calibre6">30</a>. <span class="literal">'X42'.isupper()</span> evaluates to <span class="literal">True</span>. If the string has at least one uppercase letter and no lowercase letters, the <span class="literal">isupper()</span> method returns <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1811" id="calibre_link-677" class="calibre6">31</a>. The <span class="literal">lower()</span> method returns a string of the original string’s letters but in lowercase. The <span class="literal">islower()</span> method returns a <span class="literal">True</span> or <span class="literal">False</span> Boolean value depending on the string’s casing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1812" id="calibre_link-678" class="calibre6">32</a>. It returns <span class="literal">False</span>, because at least one word in that string doesn’t begin with an uppercase letter.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1813" id="calibre_link-679" class="calibre6">33</a>. It returns <span class="literal">'This Sentence Is Capitalized.'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1814" id="calibre_link-680" class="calibre6">34</a>. <span class="literal">spam.isdecimal()</span> is the expression that evaluates to <span class="literal">True</span> if <span class="literal">spam</span> contains only numeric digits. (The expression <span class="literal">spam.isdigit()</span> also works; there are slight differences between these two methods that are beyond the scope of this book, however, and the <span class="literal">isdecimal()</span> method is almost certainly the one you want to use.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1815" id="calibre_link-681" class="calibre6">35</a>. <span class="literal">'1,000,000'.isdecimal()</span> returns <span class="literal">False</span> because the commas are not decimal digits.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1816" id="calibre_link-682" class="calibre6">36</a>. <span class="literal">'-5'.isdecimal()</span> returns <span class="literal">False</span> because the negative sign is not a decimal digit.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1817" id="calibre_link-683" class="calibre6">37</a>. <span class="literal">str(float(42))</span> returns the string <span class="literal">'42.0'</span> because <span class="literal">float(42)</span> returns the floating-point value <span class="literal">42.0</span>, and <span class="literal">str(42.0)</span> returns <span class="literal">'42.0'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1818" id="calibre_link-684" class="calibre6">38</a>. <span class="literal">str(float(42)).isdecimal()</span> returns <span class="literal">False</span> because the period in <span class="literal">'42.0'</span> is not a decimal digit.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1819" id="calibre_link-685" class="calibre6">39</a>. <span class="literal">'headache'.startswith('he')</span> and <span class="literal">'headache'.endswith('he')</span> evaluate to <span class="literal">True</span> and <span class="literal">True</span>, respectively, which further evaluates to <span class="literal">True</span>. On the other hand, <span class="literal">'headache'.startswith('he').endswith('he')</span> evaluates to <span class="literal">True.endswith('he')</span>, which causes an error, because <span class="literal">endswith()</span> is a string method and cannot be called on Boolean values like <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1820" id="calibre_link-686" class="calibre6">40</a>. The <span class="literal">join()</span> string method returns string values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1821" id="calibre_link-687" class="calibre6">41</a>. The <span class="literal">split()</span> string method returns a list value (specifically, a list of string values).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1822" id="calibre_link-688" class="calibre6">42</a>. <span class="literal">'cat,dog,moose'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1823" id="calibre_link-689" class="calibre6">43</a>. <span role="doc-pagebreak" id="calibre_link-2831" aria-label="196"></span><span class="literal">'c,a,t,,,d,o,g,,,m,o,o,s,e'</span> because the <span class="literal">join()</span> method expects a sequence of values. If you accidentally pass a string instead of a list of strings, the joining string is put in between the characters of the string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1824" id="calibre_link-690" class="calibre6">44</a>. Calling <span class="literal">'Hello!'.rjust(10)</span> returns <span class="literal">'&nbsp;&nbsp;&nbsp;&nbsp;Hello!'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1825" id="calibre_link-691" class="calibre6">45</a>. Calling <span class="literal">'Hello!'.ljust(10)</span> returns <span class="literal">'Hello!&nbsp;&nbsp;&nbsp;&nbsp;'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1826" id="calibre_link-692" class="calibre6">46</a>. A Unicode code point is a number that identifies a text character.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1827" id="calibre_link-693" class="calibre6">47</a>. The UTF-8 encoding is almost certainly the Unicode encoding you want to use in every case.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1828" id="calibre_link-694" class="calibre6">48</a>. <span class="literal">chr()</span> returns a text character string of the Unicode code point integer you pass it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1829" id="calibre_link-695" class="calibre6">49</a>. <span class="literal">ord()</span> returns the Unicode code point integer of the text character string you pass it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1830" id="calibre_link-696" class="calibre6">50</a>. The <span class="literal">!</span> comes first before the <span class="literal">A</span> in ASCIIbetical order because the exclamation point’s code point integer is less than the uppercase letter <i class="calibre5">A</i>’s code point integer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1831" id="calibre_link-697" class="calibre6">51</a>. No. <span class="literal">pyperclip</span> is a third-party module and doesn’t come with Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1832" id="calibre_link-698" class="calibre6">52</a>. The <span class="literal">pyperclip.paste()</span> function returns a string of the text contents on the clipboard.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1833" id="calibre_link-699" class="calibre6">53</a>. The <span class="literal">pyperclip.copy()</span> function takes a string argument of text to place on the clipboard.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1834" id="calibre_link-700" class="calibre6">54</a>. This <span class="literal">pyperclip.paste()</span> call would return <span class="literal">'Goodbye'</span>, because <span class="literal">'Goodbye'</span> replaced <span class="literal">'Hello'</span> as the text stored on the clipboard.</p></li>
</ol>
<p class="head">Word Match Game</p>
<pre class="pre">def get_word_hint(secret_word, guess_word):
&nbsp;&nbsp;&nbsp;&nbsp;hint = ''
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(5):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if guess_word[i] == secret_word[i]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint += 'O'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif guess_word[i] in secret_word:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint += 'o'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint += 'x'
&nbsp;&nbsp;&nbsp;&nbsp;return hint

import random
secret = random.choice('MITTS FLOAT BRICK LIKED DWARF COMMA GNASH ROOMS UNITE
BEARS SPOOL ARMOR'.split())
print('Guess the secret five-letter word:')
for i in range(6):
&nbsp;&nbsp;&nbsp;&nbsp;guess = input().upper()
&nbsp;&nbsp;&nbsp;&nbsp;print(get_word_hint(secret, guess))
&nbsp;&nbsp;&nbsp;&nbsp;print()
&nbsp;&nbsp;&nbsp;&nbsp;if guess == secret:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<span role="doc-pagebreak" id="calibre_link-2832" aria-label="197"></span>
if guess == secret:
&nbsp;&nbsp;&nbsp;&nbsp;print('You guessed the secret word!')
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('The secret word was ' + secret + '. Better luck next time.')</pre>
<p class="head">Diagonal Stripe Scroll Animation</p>
<pre class="pre">import time

while True:
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(50):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('O' * i + '.' * (50 - i))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.01)
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(50):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('.' * i + 'O' * (50 - i))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.01)</pre>
<p class="head">mOcKiNg SpOnGeBoB mEmE</p>
<pre class="pre">def spongecase(text):
&nbsp;&nbsp;&nbsp;&nbsp;use_upper = False
&nbsp;&nbsp;&nbsp;&nbsp;sponge_text = ''

&nbsp;&nbsp;&nbsp;&nbsp;for character in text:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if character.isalpha():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if use_upper:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sponge_text += character.upper()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sponge_text += character.lower()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_upper = not use_upper
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sponge_text += character
&nbsp;&nbsp;&nbsp;&nbsp;return sponge_text

print('Enter a sentence:')
response = input()
print(spongecase(response))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2833" type="title" class="h3a">Chapter 9: Text Pattern Matching with Regular Expressions</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1835" id="calibre_link-701" class="calibre6">1</a>. The <span class="literal">re.compile()</span> function creates a <span class="literal">Pattern</span> object from a regex string, while the <span class="literal">search()</span> method finds regex matches in a given string to search.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1836" id="calibre_link-702" class="calibre6">2</a>. Three groups, from the three sets of parentheses.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1837" id="calibre_link-703" class="calibre6">3</a>. Three groups, from the three sets of parentheses (even though two sets are nested).</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1838" id="calibre_link-704" class="calibre6">4</a>. <span class="literal">r'\(\d{3}\)-(\d{3})-(\d{4})'</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1839" id="calibre_link-705" class="calibre6">5</a>. <span role="doc-pagebreak" id="calibre_link-2834" aria-label="198"></span>The following characters have special meaning in regex strings and must be escaped if you want to literally match them (the question asks for four of them): <span class="literal">#</span> <span class="literal">$</span> <span class="literal">&amp;</span> <span class="literal">(</span> <span class="literal">)</span> <span class="literal">*</span> <span class="literal">+</span> <span class="literal">-</span> <span class="literal">.</span> <span class="literal">?</span> <span class="literal">[</span> <span class="literal">\</span> <span class="literal">]</span> <span class="literal">^</span> <span class="literal">{</span> <span class="literal">|</span> <span class="literal">}</span> <span class="literal">~</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1840" id="calibre_link-706" class="calibre6">6</a>. Either <span class="literal">clutter|clue|club</span> or <span class="literal">clu(|tter|e|b)</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1841" id="calibre_link-707" class="calibre6">7</a>. It matches the two-letter strings <span class="literal">AA</span>, <span class="literal">AB</span>, <span class="literal">BA</span>, and <span class="literal">BB</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1842" id="calibre_link-708" class="calibre6">8</a>. The <span class="literal">search()</span> method returns the first match, while <span class="literal">findall()</span> returns all matches.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1843" id="calibre_link-709" class="calibre6">9</a>. <span class="literal">['415-555-9999']</span>, because the regex doesn’t have any groups, so <span class="literal">findall()</span> returns a list of strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1844" id="calibre_link-710" class="calibre6">10</a>. <span class="literal">[('415', '555', '9999')]</span>, because the regex has groups, so <span class="literal">findall()</span> returns a list of tuples of strings, one string for the text matching each group.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1845" id="calibre_link-711" class="calibre6">11</a>. Both <span class="literal">[abcd]</span> and <span class="literal">[a-d]</span> are equivalent to <span class="literal">a|b|c|d</span>, so either is an acceptable answer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1846" id="calibre_link-712" class="calibre6">12</a>. The regex <span class="literal">\w\d\w</span> will match strings like <span class="literal">a1z</span>, <span class="literal">B3x</span>, and <span class="literal">L0L</span>. The regex <span class="literal">[a-zA-Z]\d[a-zA-Z]</span> will also match those strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1847" id="calibre_link-713" class="calibre6">13</a>. No. <span class="literal">[a-z]</span> won’t match <span class="literal">é</span>, because it matches only the 26 letters from <i class="calibre5">a</i> to <i class="calibre5">z</i> and doesn’t match letters with accent marks.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1848" id="calibre_link-714" class="calibre6">14</a>. Yes. <span class="literal">\w</span> will match <span class="literal">é</span>, because it matches alphanumeric characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1849" id="calibre_link-715" class="calibre6">15</a>. No. <span class="literal">\W</span> won’t match <span class="literal">é</span>, because it matches everything that <span class="literal">\w</span> won’t match.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1850" id="calibre_link-716" class="calibre6">16</a>. No. <span class="literal">[A-Z]</span> won’t match the lowercase string <span class="literal">z</span>, because it matches only the uppercase letters <i class="calibre5">A</i> to <i class="calibre5">Z</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1851" id="calibre_link-717" class="calibre6">17</a>. Yes. The <span class="literal">.</span> will match <span class="literal">é</span>, because the period is a special character that matches any single character.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1852" id="calibre_link-718" class="calibre6">18</a>. No. <span class="literal">r'\.'</span> won’t match <span class="literal">é</span>, because it matches only literal period characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1853" id="calibre_link-719" class="calibre6">19</a>. The <span class="literal">\d</span>, <span class="literal">\w</span>, and <span class="literal">\S</span> shorthand character classes. The <span class="literal">\d</span> class will match <span class="literal">5</span> because it matches digits, while the <span class="literal">\w</span> class will match <span class="literal">5</span> because it matches all letters and digits. The <span class="literal">\S</span> class matches all characters that are not whitespace characters, which includes digits like <span class="literal">5</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1854" id="calibre_link-720" class="calibre6">20</a>. The regex will match all of these: <span class="literal">A</span>, <span class="literal">B</span>, <span class="literal">AA</span>, <span class="literal">AB</span>, <span class="literal">BA</span>, and <span class="literal">BB</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1855" id="calibre_link-721" class="calibre6">21</a>. The regex <span class="literal">Cheese\??</span> matches “Cheese” optionally followed by a literal question mark, matching <span class="literal">Cheese</span> or <span class="literal">Cheese?</span>. Adding a group for clarity also works: <span class="literal">r'Cheese(\?)?'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1856" id="calibre_link-722" class="calibre6">22</a>. <span class="literal">X?</span> and <span class="literal">X*</span> will match the blank string <span class="literal">''</span>, which has zero <span class="literal">X</span> characters. The regex <span class="literal">X+</span> can match only strings with at least one <span class="literal">X</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1857" id="calibre_link-723" class="calibre6">23</a>. <span role="doc-pagebreak" id="calibre_link-2835" aria-label="199"></span>The regex <span class="literal">X+</span> matches the same thing as <span class="literal">X{1,}</span>: one or more <span class="literal">X</span> characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1858" id="calibre_link-724" class="calibre6">24</a>. Yes. All three of the regexes match the same strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1859" id="calibre_link-725" class="calibre6">25</a>. The regex <span class="literal">Ha{3}</span> matches <span class="literal">Haaa</span>, while the regex <span class="literal">(Ha){3}</span> matches <span class="literal">HaHaHa</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1860" id="calibre_link-726" class="calibre6">26</a>. The regex is <span class="literal">https://(www\.)?\w+\.com</span>. Note that the periods must be escaped as <span class="literal">\.</span>, and there must be at least one letter in the domain name.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1861" id="calibre_link-727" class="calibre6">27</a>. <span class="literal">(1|I){3}-(1|I){4}</span> or <span class="literal">(1|I)(1|I)(1|I)-(1|I)(1|I)(1|I)(1|I)</span> but not <span class="literal">(1|I)+-(1|I)+</span>, because the pattern requires a specific number of characters. Alternatively, you can use character classes: <span class="literal">[1I]{3}-[1I]{4}</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1862" id="calibre_link-728" class="calibre6">28</a>. Greedy matching is the default behavior.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1863" id="calibre_link-729" class="calibre6">29</a>. It’s a feature of quantifier syntax because it determines how many characters are matched rather than which characters are matched.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1864" id="calibre_link-730" class="calibre6">30</a>. The regex <span class="literal">.*</span> means “do a greedy match of zero or more characters.” It effectively matches the largest amount of any text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1865" id="calibre_link-731" class="calibre6">31</a>. The regex <span class="literal">.*?</span> means “do a non-greedy match of zero or more characters.” It effectively matches the smallest amount of any text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1866" id="calibre_link-732" class="calibre6">32</a>. The <span class="literal">Pattern</span> object returned by <span class="literal">re.compile('.*')</span> matches all characters except the newline character, while the <span class="literal">Pattern</span> object returned by <span class="literal">re.compile('.*', re.DOTALL)</span> matches all characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1867" id="calibre_link-733" class="calibre6">33</a>. <span class="literal">^spam$</span> is the only regex in that list that matches the exact string <span class="literal">spam</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1868" id="calibre_link-734" class="calibre6">34</a>. <span class="literal">\B</span> matches everything that is not a word boundary. For example, while <span class="literal">re.search(r'e.*', 'An elephant')</span> would match <span class="literal">elephant</span> starting from the first <span class="literal">e</span>, <span class="literal">re.search(r'\Be.*', An elephant)</span> would start matching only from the second <span class="literal">e</span>, which is not at the boundary of a word: <span class="literal">ephant</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1869" id="calibre_link-735" class="calibre6">35</a>. No. It doesn’t do case-insensitive matching by default.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1870" id="calibre_link-736" class="calibre6">36</a>. The <span class="literal">re.I</span> and <span class="literal">re.IGNORECASE</span> arguments.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1871" id="calibre_link-737" class="calibre6">37</a>. No. It will not match, because the <span class="literal">é</span> in <span class="literal">'Sinéad'</span> won’t match <span class="literal">[A-Z]</span>, even in case-insensitive mode.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1872" id="calibre_link-738" class="calibre6">38</a>. No. It has no effect, because <span class="literal">r'\d+'</span> matches one or more digit characters, not letters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1873" id="calibre_link-739" class="calibre6">39</a>. <span class="literal">\1</span>, <span class="literal">\2</span>, and <span class="literal">\3</span> are back references (in this case, for the first, second, and third groups in the regex string).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1874" id="calibre_link-740" class="calibre6">40</a>. No. Instead, the <span class="literal">sub()</span> method returns a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1875" id="calibre_link-741" class="calibre6">41</a>. <span role="doc-pagebreak" id="calibre_link-2836" aria-label="200"></span>The <span class="literal">sub()</span> method takes two arguments: a string that replaces any matches and a regex string to do the matching.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1876" id="calibre_link-742" class="calibre6">42</a>. The <span class="literal">re.VERBOSE</span> flag enables verbose mode. (The <span class="literal">re.X</span> flag also enables verbose mode but isn’t covered in this book.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1877" id="calibre_link-743" class="calibre6">43</a>. Verbose mode makes regular expressions more readable by allowing whitespace (including newlines) and comments within the regex string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1878" id="calibre_link-744" class="calibre6">44</a>. Verbose mode comments begin with a <span class="literal">#</span> and continue to the end of the line. Unlike Python comments, they are written inside multiline strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1879" id="calibre_link-745" class="calibre6">45</a>. Humre’s functions return strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1880" id="calibre_link-746" class="calibre6">46</a>. <span class="literal">A{3}</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1881" id="calibre_link-747" class="calibre6">47</a>. <span class="literal">\\.</span> or <span class="literal">r'\.'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1882" id="calibre_link-748" class="calibre6">48</a>. <span class="literal">A{3}|B{2}</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1883" id="calibre_link-749" class="calibre6">49</a>. Benefits include the ability to indent Python code rather than regex strings in verbose mode, more helpful error messages, the ability to use Python comments, automatic handling of raw strings and escaping, and compatibility with the code editor’s parentheses matching, syntax highlighting, linting, and autocomplete features.</p></li>
</ol>
<p class="head">Hashtag-Finding Regex</p>
<pre class="pre">import re

def get_hashtags(sentence):
&nbsp;&nbsp;&nbsp;&nbsp;pattern = re.compile(r'#\w*')
&nbsp;&nbsp;&nbsp;&nbsp;return pattern.findall(sentence)

print('Enter a sentence:')
response = input()
for hashtag in get_hashtags(response):
&nbsp;&nbsp;&nbsp;&nbsp;print(hashtag)</pre>
<p class="head">Price-Finding Regex</p>
<pre class="pre">import re

def get_price(sentence):
&nbsp;&nbsp;&nbsp;&nbsp;pattern = re.compile(r'(\$\d+(\.\d\d)?)')
&nbsp;&nbsp;&nbsp;&nbsp;prices = []
&nbsp;&nbsp;&nbsp;&nbsp;for price in pattern.findall(sentence):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prices.append(price[0])
&nbsp;&nbsp;&nbsp;&nbsp;return prices

print('Enter a sentence:')
response = input()
for price in get_price(response):
&nbsp;&nbsp;&nbsp;&nbsp;print(price)</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2837" aria-label="201"></span>Creating a CSV File of PyCon Speakers</p>
<pre class="pre">import re

speakers = """&nbsp;&nbsp;&nbsp;&nbsp;A Bessas 1
&nbsp;&nbsp;&nbsp;&nbsp;A Bingham 1
&nbsp;&nbsp;&nbsp;&nbsp;A Cuni 3
&nbsp;&nbsp;&nbsp;&nbsp;A. Garassino 1
<span class="codeitalic">--snip--</span>
&nbsp;&nbsp;&nbsp;&nbsp;Žygimantas Medelis 1""".splitlines()

speaker_count = re.compile(r'^&nbsp;&nbsp;&nbsp;&nbsp;(.*)\s(\d+)')

with open('speakers.csv', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;for speaker in speakers:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line = speaker_count.sub (r'\1,\2\n', speaker)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(line)</pre>
<p class="head">Laugh Score</p>
<pre class="pre">import re

def laugh_score(laugh):
&nbsp;&nbsp;&nbsp;&nbsp;pattern = re.compile('ha(h|a)*', re.IGNORECASE)
&nbsp;&nbsp;&nbsp;&nbsp;match = pattern.search(laugh)
&nbsp;&nbsp;&nbsp;&nbsp;if match == None:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0
&nbsp;&nbsp;&nbsp;&nbsp;return len(match.group(0))

assert laugh_score('abcdefg') == 0
assert laugh_score('h') == 0
assert laugh_score('ha') == 2
assert laugh_score('HA') == 2
assert laugh_score('hahaha') == 6
assert laugh_score('ha ha ha') == 2
assert laugh_score('haaaaa') == 6
assert laugh_score('ahaha') == 4
assert laugh_score('Harry said Hahaha') == 2</pre>
<p class="head">Word Twister&mdash;ordW wisterT</p>
<pre class="pre">import re
pattern = re.compile(r'\b(\w)(\w*)\b')
print(pattern.sub(r'\2\1', 'Hello world! How are you? I am fine.'))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2838" type="title" class="h3a">Chapter 10: Reading and Writing Files</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1884" id="calibre_link-750" class="calibre6">1</a>. <i class="calibre5">Directory</i> is another term for <i class="calibre5">folder</i>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1885" id="calibre_link-751" class="calibre6">2</a>. The backslash (\) separates folders and filenames on Windows.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1886" id="calibre_link-752" class="calibre6">3</a>. The forward slash (/) separates folders and filenames on macOS and Linux.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1887" id="calibre_link-753" class="calibre6">4</a>. <span role="doc-pagebreak" id="calibre_link-2839" aria-label="202"></span>The root folder is the topmost folder in a filesystem that contains all other folders.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1888" id="calibre_link-754" class="calibre6">5</a>. An absolute filepath begins with the root folder, which is either / on macOS and Linux or C:\ on Windows.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1889" id="calibre_link-755" class="calibre6">6</a>. A relative filepath is relative to the current working directory.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1890" id="calibre_link-756" class="calibre6">7</a>. <span class="literal">from pathlib import Path</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1891" id="calibre_link-757" class="calibre6">8</a>. It evaluates to <span class="literal">Path('spam/bacon/eggs')</span> and is a relative path.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1892" id="calibre_link-758" class="calibre6">9</a>. Like the <span class="literal">Path()</span> call in the previous question, it evaluates to <span class="literal">Path('spam/bacon/eggs')</span> and is a relative path.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1893" id="calibre_link-759" class="calibre6">10</a>. Like the <span class="literal">Path()</span> call in the previous two questions, it evaluates to <span class="literal">Path('spam/bacon/eggs')</span> and is a relative path.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1894" id="calibre_link-760" class="calibre6">11</a>. No. You cannot get a <span class="literal">Path</span> object from only string values. This expression causes an error.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1895" id="calibre_link-761" class="calibre6">12</a>. <span class="literal">Path(r'C:\spam\eggs.txt')</span>, also written as <span class="literal">Path('C:/spam/eggs.txt')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1896" id="calibre_link-762" class="calibre6">13</a>. <span class="literal">os.chdir()</span> changes the Python program’s current working directory.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1897" id="calibre_link-763" class="calibre6">14</a>. <span class="literal">Path(r'C:\eggs.txt')</span>, also written as <span class="literal">Path('C:/eggs.txt')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1898" id="calibre_link-764" class="calibre6">15</a>. <span class="literal">Path.cwd()</span> returns <span class="literal">Path(r'C:\spam')</span>, also written as <span class="literal">Path('C:/spam')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1899" id="calibre_link-765" class="calibre6">16</a>. <i class="calibre5">C:\spam</i></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1900" id="calibre_link-766" class="calibre6">17</a>. <span class="literal">Path.cwd().parent</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1901" id="calibre_link-767" class="calibre6">18</a>. The <span class="literal">st_atime</span>, <span class="literal">st_ctime</span>, and <span class="literal">st_mtime</span> attributes refer to the last access time, creation time, and last modification time of a file, respectively.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1902" id="calibre_link-768" class="calibre6">19</a>. The <span class="literal">*</span> in a glob pattern means any number of any characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1903" id="calibre_link-769" class="calibre6">20</a>. The <span class="literal">?</span> in a glob pattern means one of any character.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1904" id="calibre_link-770" class="calibre6">21</a>. The returned Boolean value indicates whether the path exists as a file or folder on your computer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1905" id="calibre_link-771" class="calibre6">22</a>. They both return <span class="literal">False</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1906" id="calibre_link-772" class="calibre6">23</a>. No. Unlike PDFs or Word documents, plaintext files contain text only, and have no font, size, or color information.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1907" id="calibre_link-773" class="calibre6">24</a>. PDFs and spreadsheet files are binary files and aren’t human readable in a text editor.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1908" id="calibre_link-774" class="calibre6">25</a>. <span class="literal">Path('eggs.txt').read_text()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1909" id="calibre_link-775" class="calibre6">26</a>. The <i class="calibre5">eggs.txt</i> file will contain <span class="literal">'Goodbye'</span> because the original content gets overwritten.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1910" id="calibre_link-776" class="calibre6">27</a>. <span role="doc-pagebreak" id="calibre_link-2840" aria-label="203"></span>The UTF-8 encoding.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1911" id="calibre_link-777" class="calibre6">28</a>. Read mode.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1912" id="calibre_link-778" class="calibre6">29</a>. <span class="literal">file_obj.read()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1913" id="calibre_link-779" class="calibre6">30</a>. <span class="literal">file_obj.readlines()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1914" id="calibre_link-780" class="calibre6">31</a>. <span class="literal">Path('eggs.txt').write_text(contents)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1915" id="calibre_link-781" class="calibre6">32</a>.</p>
<pre class="pre1a">with open('eggs.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(contents)</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1916" id="calibre_link-782" class="calibre6">33</a>. A <span class="literal">with</span> statement creates context managers.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1917" id="calibre_link-783" class="calibre6">34</a>. A context manager will automatically close a file when the execution leaves the <span class="literal">with</span> statement’s block.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1918" id="calibre_link-784" class="calibre6">35</a>. No. You don’t need to specify the file extension of a shelf file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1919" id="calibre_link-785" class="calibre6">36</a>. A dictionary is similar to the structure of a shelf file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1920" id="calibre_link-786" class="calibre6">37</a>. The <span class="literal">keys()</span> and <span class="literal">values()</span> methods.</p></li>
</ol>
<p class="head">Text File Combiner</p>
<pre class="pre">def combine_two_text_files(filename1, filename2, output_filename):
&nbsp;&nbsp;&nbsp;&nbsp;with open(output_filename, 'w', encoding='UTF-8') as out_file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Write the contents of the first file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with open(filename1, encoding='UTF-8') as in_file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out_file_obj.write(in_file_obj.read())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Write the contents of the second file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with open(filename2, encoding='UTF-8') as in_file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out_file_obj.write(in_file_obj.read())

combine_two_text_files('spam.txt', 'eggs.txt', 'output.txt')</pre>
<p class="head">Zigzag File</p>
<pre class="pre">import sys

def write_zigzag():
&nbsp;&nbsp;&nbsp;&nbsp;indent = 0 # How many spaces to indent
&nbsp;&nbsp;&nbsp;&nbsp;indentIncreasing = True # Whether the indentation is increasing or not

&nbsp;&nbsp;&nbsp;&nbsp;with open('zigzag.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for i in range(1000):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(' ' * indent + '********\n')
&nbsp;&nbsp;&nbsp;&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if indentIncreasing:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Increase the number of spaces:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indent = indent + 1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if indent == 20:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Change direction:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indentIncreasing = False
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Decrease the number of spaces:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indent = indent - 1<span role="doc-pagebreak" id="calibre_link-2841" aria-label="204"></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if indent == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Change direction:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indentIncreasing = True
write_zigzag()</pre>
<p class="head">Rock, Paper, Scissors with Saved Games</p>
<pre class="pre">import random, sys, shelve

print('ROCK, PAPER, SCISSORS')
shelf_file = shelve.open('rpsSaved')

# These variables keep track of the number of wins, losses, and ties.
if 'wins' not in shelf_file and 'losses' not in shelf_file and 'ties' not in shelf_file:
&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['wins'] = 0
&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['losses'] = 0
&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['ties'] = 0

while True:&nbsp;&nbsp;# The main game loop
&nbsp;&nbsp;&nbsp;&nbsp;print(shelf_file['wins'], 'Wins')
&nbsp;&nbsp;&nbsp;&nbsp;print(shelf_file['losses'], 'Losses')
&nbsp;&nbsp;&nbsp;&nbsp;print(shelf_file['ties'], 'Ties')
&nbsp;&nbsp;&nbsp;&nbsp;while True: # The player input loop
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Enter your move: (r)ock (p)aper (s)cissors or (q)uit')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;player_move = input()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if player_move == 'q':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys.exit() # Quit the program.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if player_move == 'r' or player_move == 'p' or player_move == 's':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break # Break out of the player input loop.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Type one of r, p, s, or q.')

&nbsp;&nbsp;&nbsp;&nbsp;# Display what the player chose:
&nbsp;&nbsp;&nbsp;&nbsp;if player_move == 'r':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('ROCK versus...')
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 'p':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('PAPER versus...')
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 's':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('SCISSORS versus...')

&nbsp;&nbsp;&nbsp;&nbsp;# Display what the computer chose:
&nbsp;&nbsp;&nbsp;&nbsp;random_number = random.randint(1, 3)
&nbsp;&nbsp;&nbsp;&nbsp;if random_number == 1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computer_move = 'r'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('ROCK')
&nbsp;&nbsp;&nbsp;&nbsp;elif random_number == 2:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computer_move = 'p'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('PAPER')
&nbsp;&nbsp;&nbsp;&nbsp;elif random_number == 3:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;computer_move = 's'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('SCISSORS')

&nbsp;&nbsp;&nbsp;&nbsp;# Display and record the win/loss/tie:
&nbsp;&nbsp;&nbsp;&nbsp;if player_move == computer_move:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('It is a tie!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['ties'] = shelf_file['ties'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 'r' and computer_move == 's':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You win!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['wins'] = shelf_file['wins'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 'p' and computer_move == 'r':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You win!')<span role="doc-pagebreak" id="calibre_link-2842" aria-label="205"></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['wins'] = shelf_file['wins'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 's' and computer_move == 'p':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You win!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['wins'] = shelf_file['wins'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 'r' and computer_move == 'p':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You lose!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['losses'] = shelf_file['losses'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 'p' and computer_move == 's':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You lose!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['losses'] = shelf_file['losses'] + 1
&nbsp;&nbsp;&nbsp;&nbsp;elif player_move == 's' and computer_move == 'r':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('You lose!')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shelf_file['losses'] = shelf_file['losses'] + 1

shelf_file.close()</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2843" type="title" class="h3a">Chapter 11: Organizing Files</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1921" id="calibre_link-787" class="calibre6">1</a>. <span lang="it-IT" lang="it-IT">The</span> <i class="calibre5">shutil</i><span lang="it-IT" lang="it-IT"> module name stands for</span> <i class="calibre5">shell utilities</i><span lang="it-IT" lang="it-IT">.</span> <i class="calibre5">Shell</i><span lang="it-IT" lang="it-IT"> in this case refers to terminal or command line interfaces.</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1922" id="calibre_link-788" class="calibre6">2</a>. <span lang="it-IT" lang="it-IT">The</span> backslash (<span class="literal">\</span>) separates folders in Windows filepaths.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1923" id="calibre_link-789" class="calibre6">3</a>. The forward slash (<span class="literal">/</span>) separates folders in macOS and Linux filepaths.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1924" id="calibre_link-790" class="calibre6">4</a>. <span class="literal">shutil.copy()</span>, <span class="literal">shutil.copyfile()</span>, and <span class="literal">shutil.copytree()</span> are real functions, while <span class="literal">shutil.filecopy()</span> is not.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1925" id="calibre_link-791" class="calibre6">5</a>. Both files and folders can be moved by <span class="literal">shutil.move()</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1926" id="calibre_link-792" class="calibre6">6</a>. The <span class="literal">os</span> module contains the <span class="literal">makedirs()</span> function.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1927" id="calibre_link-793" class="calibre6">7</a>. No. There is no difference between <span class="literal">os.makedirs('eggs')</span> and <span class="literal">os.makedirs(Path('eggs'))</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1928" id="calibre_link-794" class="calibre6">8</a>. The <span class="literal">exist_ok=True</span> keyword argument.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1929" id="calibre_link-795" class="calibre6">9</a>. A dry run can help you verify that your code will delete the files you intend.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1930" id="calibre_link-796" class="calibre6">10</a>. The <span class="literal">os.unlink()</span> and <span class="literal">os.remove()</span> functions delete files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1931" id="calibre_link-797" class="calibre6">11</a>. The <span class="literal">shutil.rmtree()</span> function deletes an entire folder and its contents.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1932" id="calibre_link-798" class="calibre6">12</a>. The deletion functions in the <span class="literal">os</span> and <span class="literal">shutil</span> modules delete files and folders permanently.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1933" id="calibre_link-799" class="calibre6">13</a>. The folder name, a list of subfolders, and a list of filenames.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1934" id="calibre_link-800" class="calibre6">14</a>. Pass <span class="literal">.</span> (or <span class="literal">os.getcwd()</span> or <span class="literal">Path.cwd()</span>) to start from the current working directory.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1935" id="calibre_link-801" class="calibre6">15</a>. <span role="doc-pagebreak" id="calibre_link-2844" aria-label="206"></span>Yes. The code deletes every file. Note that it doesn’t delete folders.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1936" id="calibre_link-802" class="calibre6">16</a>. This program prints every subfolder, including the name of the folder it resides in:</p>
<pre class="calibre16">import os

for folder_name, subfolders, filenames in os.walk('eggs'):
&nbsp;&nbsp;&nbsp;&nbsp;for subfolder in subfolders:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"{folder_name}/{subfolder}")</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1937" id="calibre_link-803" class="calibre6">17</a>. Compressed files and folders are contained in a <i class="calibre5">.zip</i> file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1938" id="calibre_link-804" class="calibre6">18</a>. <span class="literal">import zipfile</span> (it’s case sensitive).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1939" id="calibre_link-805" class="calibre6">19</a>. <span class="literal">zipfile.ZipFile('example.zip')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1940" id="calibre_link-806" class="calibre6">20</a>. Without the <span class="literal">compress_type=zipfile.ZIP_DEFLATED</span> keyword argument, files are written without compression.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1941" id="calibre_link-807" class="calibre6">21</a>. As the compression level goes up, the compressed ZIP file becomes smaller in size but slower to read and write.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1942" id="calibre_link-808" class="calibre6">22</a>. The <span class="literal">namelist()</span> method gives you a list of the content in a ZIP file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1943" id="calibre_link-809" class="calibre6">23</a>. Yes. ZIP files can contain folders as well as files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1944" id="calibre_link-810" class="calibre6">24</a>. While <span class="literal">file_size</span> is the original size of the file, <span class="literal">compress_size</span> is the compressed size of the file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1945" id="calibre_link-811" class="calibre6">25</a>. The <span class="literal">extractall()</span> method extracts the entire contents of a ZIP file to the current working directory.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1946" id="calibre_link-812" class="calibre6">26</a>. The <span class="literal">extract()</span> method extracts a single file from a ZIP file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1947" id="calibre_link-813" class="calibre6">27</a>. The variable name doesn’t have to be <span class="literal">contents_zip</span>:</p>
<pre class="calibre16">import zipfile
contents_zip = zipfile.ZipFile('contents.zip', 'w',
compression=zipfile.ZIP_DEFLATED, compresslevel=9)
contents_zip.write('contents.txt')
contents_zip.close()</pre></li>
</ol>
<p class="head">Duplicate Filename Finder</p>
<pre class="pre">import os
from pathlib import Path

def find_dup_filenames(folder):
&nbsp;&nbsp;&nbsp;&nbsp;# Dictionary to store filenames as keys and absolute paths as values (in a list)
&nbsp;&nbsp;&nbsp;&nbsp;files = {}

&nbsp;&nbsp;&nbsp;&nbsp;# Walk through the directory tree starting from 'folder'
&nbsp;&nbsp;&nbsp;&nbsp;for folder_name, subfolders, filenames in os.walk(folder):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for filename in filenames:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add a new key for the filename if not already present:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files.setdefault(filename, [])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Append the full path of the file to the list for that filename:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files[filename].append(Path(folder_name) / filename)
&nbsp;&nbsp;&nbsp;&nbsp;# Prepare to remove keys (filenames) that are not duplicates:<span role="doc-pagebreak" id="calibre_link-2845" aria-label="207"></span>
&nbsp;&nbsp;&nbsp;&nbsp;keys_to_delete = []
&nbsp;&nbsp;&nbsp;&nbsp;for file in list(files.keys()): # Iterate through all files
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Duplicate filenames have two or more items in the list
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(files[file]) &lt; 2:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys_to_delete.append(file)

&nbsp;&nbsp;&nbsp;&nbsp;# Remove all non-duplicate filenames from the dictionary
&nbsp;&nbsp;&nbsp;&nbsp;for file in keys_to_delete:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del files[file]

&nbsp;&nbsp;&nbsp;&nbsp;return files&nbsp;&nbsp;# Return a dictionary of duplicate filenames and their locations.

# Call the function and print the results
for filename, absolute_filepaths in find_dup_filenames(Path.home()).items():
&nbsp;&nbsp;&nbsp;&nbsp;print(filename)&nbsp;&nbsp;# Print the duplicate filename
&nbsp;&nbsp;&nbsp;&nbsp;for absolute_filepath in absolute_filepaths:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Print each location of the duplicate file, indented for readability:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('&nbsp;&nbsp;&nbsp;&nbsp;' + str(absolute_filepath))</pre>
<p class="head">Alphabetized Folders</p>
<pre class="pre">import os
from pathlib import Path

def make_alpha_folders(folder):
&nbsp;&nbsp;&nbsp;&nbsp;# Outer loop: Iterate over the first level of letters (A-Z)
&nbsp;&nbsp;&nbsp;&nbsp;for level1 in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Inner loop: Iterate over the second level of letters (A-Z)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for level2 in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create the directory's path:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;folder_path = Path(folder) / level1 / (level1 + level2)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create the directory, including any necessary parent folders:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(folder_path)

make_alpha_folders(Path.home() / 'alpha_folders')</pre>
<p class="head">ZIP File Folder Extractor</p>
<pre class="pre">import zipfile

def extract_in_folder(zip_filename, folder):
&nbsp;&nbsp;&nbsp;&nbsp;zip_file = zipfile.ZipFile(zip_filename)

&nbsp;&nbsp;&nbsp;&nbsp;# Loop through all filenames in the ZIP archive
&nbsp;&nbsp;&nbsp;&nbsp;for name in zip_file.namelist():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check if the filename starts with the specified folder path
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# and is not the folder itself&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if name.startswith(folder + '/') and name != folder + '/':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Extract the file to the current directory:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zip_file.extract(name, '.')

extract_in_folder('test.zip', 'spam')</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2846" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2847" aria-label="208" class="calibre1"></span>Chapter 12: Designing and Deploying Command Line Programs</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1948" id="calibre_link-814" class="calibre6">1</a>. A program is a general term for a piece of software, while a command is a program that is designed to run from a text-based terminal and doesn’t have a graphical user interface.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1949" id="calibre_link-815" class="calibre6">2</a>. An application is a program that often has a graphical user interface, while a command does not. Also, applications are often larger than commands, with multiple features. Applications must be installed and uninstalled with installer and uninstaller programs.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1950" id="calibre_link-816" class="calibre6">3</a>. An interactive command is a command that asks for text input from the user while running, such as an “Are you sure? Y/N” confirmation.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1951" id="calibre_link-817" class="calibre6">4</a>. Yes. Scripts, commands, applications, and web apps are all types of programs.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1952" id="calibre_link-818" class="calibre6">5</a>. The terminal application on Windows is called Command Prompt (or PowerShell or Terminal, if you have them installed). On macOS, it is Terminal, and on Linux, it is also Terminal.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1953" id="calibre_link-819" class="calibre6">6</a>. The user’s home folder is represented by the tilde character (<span class="literal">~</span>).</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1954" id="calibre_link-820" class="calibre6">7</a>. The Python interpreter on Windows is in a file called <i class="calibre5">python.exe</i>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1955" id="calibre_link-821" class="calibre6">8</a>. The <span class="literal">pwd</span> command prints the current working directory.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1956" id="calibre_link-822" class="calibre6">9</a>. The current working directory is part of the command line prompt on Windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1957" id="calibre_link-823" class="calibre6">10</a>. The <span class="literal">dir</span> (“directory”) command on Windows and the <span class="literal">ls</span> (“list”) command on macOS and Linux display the contents of the current working directory.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1958" id="calibre_link-824" class="calibre6">11</a>. The <span class="literal">dir *.exe</span> command displays all the executable files in the current working directory on Windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1959" id="calibre_link-825" class="calibre6">12</a>. The <span class="literal">file * | grep executable</span> command displays all the executable files in the current working directory on macOS and Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1960" id="calibre_link-826" class="calibre6">13</a>. The <span class="literal">start example.txt</span> command opens the <i class="calibre5">example.txt</i> file with the default text editor app on Windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1961" id="calibre_link-827" class="calibre6">14</a>. The <span class="literal">open example.txt</span> command opens the <i class="calibre5">example.txt</i> file with the default text editor app on macOS.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1962" id="calibre_link-828" class="calibre6">15</a>. You can enter the name of the program to run it; enter <span class="literal">eggs</span> or <span class="literal">eggs.exe</span> on Windows and <span class="literal">./eggs</span> on macOS and Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1963" id="calibre_link-829" class="calibre6">16</a>. <span role="doc-pagebreak" id="calibre_link-2848" aria-label="209"></span>If the <i class="calibre5">eggs</i> program is in a folder listed in the <span class="literal">PATH</span> environment variable, it will run. If not, you will get an error message saying that Python cannot find a program with that name.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1964" id="calibre_link-830" class="calibre6">17</a>. The <span class="literal">echo %PATH%</span> command on Windows and the <span class="literal">echo $PATH</span> command on macOS and Linux show the contents of the <span class="literal">PATH</span> environment variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1965" id="calibre_link-831" class="calibre6">18</a>. The semicolon character (<span class="literal">;</span>) on Windows and the colon character (<span class="literal">:</span>) on macOS and Linux separate the folder names in the <span class="literal">PATH</span> environment variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1966" id="calibre_link-832" class="calibre6">19</a>. No. Entering <i class="calibre5">spam.exe</i> would not run <i class="calibre5">C:\Users\al\Scripts\subfolder\spam.exe</i>, because <i class="calibre5">C:\Users\al\Scripts\subfolder</i> is not in the <span class="literal">PATH</span> environment variable.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1967" id="calibre_link-833" class="calibre6">20</a>. Edit the <i class="calibre5">.zshrc</i> file in your home folder to edit the <span class="literal">PATH</span> environment variable on macOS.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1968" id="calibre_link-834" class="calibre6">21</a>. Edit the <i class="calibre5">.bashrc</i> file in your home folder to edit the <span class="literal">PATH</span> environment variable on Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1969" id="calibre_link-835" class="calibre6">22</a>. The <span class="literal">where</span> command on Windows and <span class="literal">which</span> command on macOS and Linux would tell you the folder location of the program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1970" id="calibre_link-836" class="calibre6">23</a>. Yes. You can use virtual environments to have multiple different versions of the same package installed at the same time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1971" id="calibre_link-837" class="calibre6">24</a>. The built-in <span class="literal">venv</span> module creates virtual environments.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1972" id="calibre_link-838" class="calibre6">25</a>. The conventional name for virtual environment folders is <i class="calibre5">.venv</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1973" id="calibre_link-839" class="calibre6">26</a>. Running <span class="literal">where python</span> on Windows or <span class="literal">which python3</span> on macOS and Linux can let you verify that you are using the virtual environment’s Python interpreter and not the system’s Python interpreter.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1974" id="calibre_link-840" class="calibre6">27</a>. The command <span class="literal">python -m pip list</span> (or <span class="literal">pip list</span> or <span class="literal">pip3 list</span>) shows all of the third-party packages that are currently installed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1975" id="calibre_link-841" class="calibre6">28</a>. The pip or pip3 program (or running <span class="literal">python - m pip</span>) installs third-party Python packages.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1976" id="calibre_link-842" class="calibre6">29</a>. The pip tool downloads third-party Python packages from the Python Package Index (PyPI) at <i class="calibre5"><a href="https://pypi.org" class="calibre6">https://pypi.org</a></i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1977" id="calibre_link-843" class="calibre6">30</a>. The command <span class="literal">pip install automateboringstuff3</span> installs the automateboringstuff3 package, a package that includes all of the third-party packages in <i class="calibre5">Automate the Boring Stuff with Python</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1978" id="calibre_link-844" class="calibre6">31</a>. The <span class="literal">__file__</span> variable stores a string of the full path of the current <i class="calibre5">.py</i> file being run.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1979" id="calibre_link-845" class="calibre6">32</a>. Using <span class="literal">__file__</span> in the interactive shell results in a <span class="literal">NameError</span> because this variable is created only when the Python interpreter runs a <i class="calibre5">.py</i> file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1980" id="calibre_link-846" class="calibre6">33</a>. <span role="doc-pagebreak" id="calibre_link-2849" aria-label="210"></span>The <span class="literal">sys.executable</span> variable holds the filepath of the Python interpreter program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1981" id="calibre_link-847" class="calibre6">34</a>. The <span class="literal">sys.version</span> variable is a string. It looks like this: <span class="literal">'3.13.0 (tags/v3.13.0:60403°5, Oct&nbsp;&nbsp;7 2024, 09:38:07) [MSC v.1941 64 bit (AMD64)]'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1982" id="calibre_link-848" class="calibre6">35</a>. The <span class="literal">sys.version_info.major</span> and <span class="literal">sys.version_info.minor</span> variables are integers.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1983" id="calibre_link-849" class="calibre6">36</a>. <span class="literal">if sys.version_info.major &gt;= 3:</span> checks whether the Python program is being <span lang="it-IT" lang="it-IT">run by a Python interpreter version 3 or later.</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1984" id="calibre_link-850" class="calibre6">37</a>. <span lang="it-IT" lang="it-IT">The</span> <span class="literal">sys.platform</span><span lang="it-IT" lang="it-IT"> variable contains</span> <span class="literal">'win32'</span><span lang="it-IT" lang="it-IT"> on Windows,</span> <span class="literal">'darwin'</span><span lang="it-IT" lang="it-IT"> on macO</span>S, and <span class="literal">'linux'</span> on Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1985" id="calibre_link-851" class="calibre6">38</a>. The <span class="literal">ModuleNotFoundError</span> exception is raised if you try to import a module that isn’t installed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1986" id="calibre_link-852" class="calibre6">39</a>. Commands should have short names because they are typed often, while variables should have long, descriptive names because they are read often.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1987" id="calibre_link-853" class="calibre6">40</a>. The <span class="literal">sys.argv</span> variable contains <span class="literal">['yourScript.py', 'download',</span> <span class="literal">'confirm']</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1988" id="calibre_link-854" class="calibre6">41</a>. The <span class="literal">sys.argv</span> variable cont<span lang="it-IT" lang="it-IT">ains</span> <span class="literal">['yourScript.py', 'download_confirm']</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1989" id="calibre_link-855" class="calibre6">42</a>. <span lang="it-IT" lang="it-IT">Yes. The order of command line a</span>rguments matters for the item order in the <span class="literal">sys.argv</span> list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1990" id="calibre_link-856" class="calibre6">43</a>. <span class="literal">pyperclip.paste()</span> returns the text that is currently on the clipboard.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1991" id="calibre_link-857" class="calibre6">44</a>. <span class="literal">pyperclip.copy()</span> puts text on the clipboard.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1992" id="calibre_link-858" class="calibre6">45</a>. <span class="literal">clear</span> is the command to clear the terminal window of text on macOS and Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1993" id="calibre_link-859" class="calibre6">46</a>. <span class="literal">cls</span> is the command to clear the terminal window of text on Windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1994" id="calibre_link-860" class="calibre6">47</a>. <span class="literal">playsound.playsound('hello.mp3')</span> will play the audio in a file named <i class="calibre5">hello.mp3</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1995" id="calibre_link-861" class="calibre6">48</a>. A function call blocking means it won’t return from the function call until the function has finished executing.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1996" id="calibre_link-862" class="calibre6">49</a>. The term <i class="calibre5">quiet mode</i> means the program won’t print any output, and <i class="calibre5">verbose mode</i> means it will print extra information.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1997" id="calibre_link-863" class="calibre6">50</a>. No. PyMsgBox’s dialog boxes don’t appear in the terminal window.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1998" id="calibre_link-864" class="calibre6">51</a>. <span class="literal">pymsgbox.prompt()</span> and <span class="literal">pymsgbox.password()</span> allow the user to enter text into a dialog box.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1999" id="calibre_link-865" class="calibre6">52</a>. <span class="literal">pymsgbox.alert()</span> displays a text message in a dialog box to the user.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2000" id="calibre_link-866" class="calibre6">53</a>. <span role="doc-pagebreak" id="calibre_link-2850" aria-label="211"></span><span class="literal">pymsgbox.confirm()</span> presents the user with OK and Cancel buttons.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2001" id="calibre_link-867" class="calibre6">54</a>. Yes. You can create an entire program that uses PyMsgBox functions instead of <span class="literal">print()</span> and <span class="literal">input()</span>. This kind of program has a simple graphical user interface.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2002" id="calibre_link-868" class="calibre6">55</a>. Windows uses batch files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2003" id="calibre_link-869" class="calibre6">56</a>. The <span class="literal">pause</span> command prints the text <span class="literal">Press any key to continue...</span> and blocks until the user presses a key.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2004" id="calibre_link-870" class="calibre6">57</a>. The macOS operating system uses <i class="calibre5">.command</i> files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2005" id="calibre_link-871" class="calibre6">58</a>. A command file or shell script named <i class="calibre5">yourScript</i> becomes executable on macOS and Linux after you’ve run the <span class="literal">chmod u+x yourScript</span> command.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2006" id="calibre_link-872" class="calibre6">59</a>. Yes. The virtual environment must be activated by the batch file, command file, or shell script before it runs your program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2007" id="calibre_link-873" class="calibre6">60</a>. Python programs are mostly run by interpreters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2008" id="calibre_link-874" class="calibre6">61</a>. Compiled Python programs don’t require the user to have Python installed to run.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2009" id="calibre_link-875" class="calibre6">62</a>. <span class="literal">python -m PyInstaller --onefile yourScript.py</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2010" id="calibre_link-876" class="calibre6">63</a>. The <i class="calibre5">dist</i> folder contains the compiled program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2011" id="calibre_link-877" class="calibre6">64</a>. No. PyInstaller can only compile programs for the operating system that PyInstaller is run on. If you run PyInstaller on Windows, it can compile the Python program to run on Windows only.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2012" id="calibre_link-878" class="calibre6">65</a>. The smallest compiled Python programs are several megabyte<span lang="it-IT" lang="it-IT">s in size.</span></p></li>
</ol>
<p class="head">Guess the Number with PyMsgBox</p>
<pre class="pre"># This is a guess the number game.
import random, pymsgbox
secret_number = random.randint(1, 20)
pymsgbox.alert('I am thinking of a number between 1 and 20.')

# Ask the player to guess 6 times.
for guesses_taken in range(1, 7):
&nbsp;&nbsp;&nbsp;&nbsp;guess = int(pymsgbox.prompt('Take a guess.'))

&nbsp;&nbsp;&nbsp;&nbsp;if guess &lt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pymsgbox.alert('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;elif guess &gt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pymsgbox.alert('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;&nbsp;&nbsp;&nbsp;# This condition is the correct guess!

if guess == secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;pymsgbox.alert('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
else:
&nbsp;&nbsp;&nbsp;&nbsp;pymsgbox.alert('Nope. The number was ' + str(secret_number))</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2851" aria-label="212"></span>Timer with PyMsgBox</p>
<pre class="pre">import pymsgbox, time

delay = int(pymsgbox.prompt('Enter number of seconds to wait:'))
time.sleep(delay)
pymsgbox.alert("Time's up!")</pre>
<p class="head">Compiling the Timer and Guess the Number Programs</p>
<p class="noindent">You can compile these programs by running <span class="literal">python -m PyInstaller --onefile msgBoxGuess.py</span> (or <span class="literal">msgBoxTimer.py</span>) on Windows. On macOS and Linux, run <span class="literal">python3</span> instead of <span class="literal">python</span>.</p>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2852" type="title" class="h3a">Chapter 13: Web Scraping</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2013" id="calibre_link-879" class="calibre6">1</a>. No, because HTTPS encrypts the content passed between the web server and your browser, including form data such as credit cards and passwords.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2014" id="calibre_link-880" class="calibre6">2</a>. Yes, because HTTPS doesn’t prevent an eavesdropper from knowing <i class="calibre5">which</i> websites you access.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2015" id="calibre_link-881" class="calibre6">3</a>. While a VPN prevents eavesdroppers from knowing what websites or URLs you access, the VPN provider will be able to record this information.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2016" id="calibre_link-882" class="calibre6">4</a>. This code uses Python’s <span class="literal">webbrowser</span> module to open a web browser to a given URL:</p>
<pre class="calibre16">import webbrowser
webbrowser.open('https://docs.python.org/3')</pre></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2017" id="calibre_link-883" class="calibre6">5</a>. This code retrieves the home page of <i class="calibre5"><a href="https://nostarch.com" class="calibre6">https://nostarch.com</a></i>:</p>
<pre class="calibre16">import requests
response = requests.get('https://nostarch.com')</pre></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2018" id="calibre_link-884" class="calibre6">6</a>. This code downloads the file at <i class="calibre5"><a href="https://autbor.com/hello.mp3" class="calibre6">https://autbor.com/hello.mp3</a></i> and saves it as <i class="calibre5">hi.mp3</i>:</p>
<pre class="calibre16">import requests
response = requests.get("https://autbor.com/hello.mp3")
with open("hi.mp3", "wb") as file:
&nbsp;&nbsp;&nbsp;&nbsp;file.write(response.content)</pre></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2019" id="calibre_link-885" class="calibre6">7</a>. 404.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2020" id="calibre_link-886" class="calibre6">8</a>. 200.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2021" id="calibre_link-887" class="calibre6">9</a>. The <span class="literal">raise_for_status()</span> method of <span class="literal">Response</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2022" id="calibre_link-888" class="calibre6">10</a>. HTTP (or HTTPS).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2023" id="calibre_link-889" class="calibre6">11</a>. <span role="doc-pagebreak" id="calibre_link-2853" aria-label="213"></span>No. While some APIs are free to use (or have free plans), some require paid subscriptions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2024" id="calibre_link-890" class="calibre6">12</a>. JSON is the most popular format used for response data from API calls.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2025" id="calibre_link-891" class="calibre6">13</a>. Unauthorized users can use your API key, either exhausting your free plan or charging credits to your API account.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2026" id="calibre_link-892" class="calibre6">14</a>. The <span class="literal">json.loads()</span> function.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2027" id="calibre_link-893" class="calibre6">15</a>. The scheme is <i class="calibre5">https</i> and the domain is <i class="calibre5">openweathermap.org/api</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2028" id="calibre_link-894" class="calibre6">16</a>. <i class="calibre5">HTML</i> stands for <i class="calibre5">Hypertext Markup Language</i> and <i class="calibre5">CSS</i> stands for <i class="calibre5">Cascading Style Sheets</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2029" id="calibre_link-895" class="calibre6">17</a>. The <span class="literal">&lt;b&gt;</span> and <span class="literal">&lt;/b&gt;</span> are tags, while <span class="literal">&lt;b&gt;Hello&lt;/b&gt;</span> is an element.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2030" id="calibre_link-896" class="calibre6">18</a>. You see the HTML source for the current page in the web browser.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2031" id="calibre_link-897" class="calibre6">19</a>. The browser’s developer tools show you the HTML of the current page (along with the Document Object Model, JavaScript Console, network traffic, and other features that are beyond the scope of the chapter).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2032" id="calibre_link-898" class="calibre6">20</a>. No. You should use an HTML parser rather than regular expressions to find text in HTML source code.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2033" id="calibre_link-899" class="calibre6">21</a>. CSS selectors.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2034" id="calibre_link-900" class="calibre6">22</a>. Beautiful Soup parses HTML source code.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2035" id="calibre_link-901" class="calibre6">23</a>. <span class="literal">beautifulsoup4</span> is Beautiful Soup’s package name on PyPI.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2036" id="calibre_link-902" class="calibre6">24</a>. <span class="literal">bs4</span> is the name you use to import the Beautiful Soup module.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2037" id="calibre_link-903" class="calibre6">25</a>. Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2038" id="calibre_link-904" class="calibre6">26</a>. It returns an HTML element with an ID of <span class="literal">'p'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2039" id="calibre_link-905" class="calibre6">27</a>. Make the function call <span class="literal">bs4.BeautifulSoup(source_html, 'html</span><span class="literal">.parser')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2040" id="calibre_link-906" class="calibre6">28</a>. The <span class="literal">select()</span> method returns an <span class="literal">Element</span> object based on a CSS selector.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2041" id="calibre_link-907" class="calibre6">29</a>. A <span class="literal">ResultSet</span> object contains <span class="literal">Tag</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2042" id="calibre_link-908" class="calibre6">30</a>. The <span class="literal">attrs</span> Python attribute.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2043" id="calibre_link-909" class="calibre6">31</a>. The <span class="literal">getText()</span> method of <span class="literal">Tag</span> objects returns a string of the inner text between the opening and closing tags.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2044" id="calibre_link-910" class="calibre6">32</a>. <span class="literal">elem.get('href')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2045" id="calibre_link-911" class="calibre6">33</a>. A browser’s user agent.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2046" id="calibre_link-912" class="calibre6">34</a>. <span class="literal">from selenium import webdriver</span> (and not just <span class="literal">import selenium</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2047" id="calibre_link-913" class="calibre6">35</a>. <span role="doc-pagebreak" id="calibre_link-2854" aria-label="214"></span>A <span class="literal">WebDriver</span> object represents a browser in Selenium.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2048" id="calibre_link-914" class="calibre6">36</a>. <span class="literal">browser.get('https://nostarch.com')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2049" id="calibre_link-915" class="calibre6">37</a>. The <span class="literal">back()</span> and <span class="literal">forward()</span> methods simulate pressing the Back and Forward buttons.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2050" id="calibre_link-916" class="calibre6">38</a>. The <span class="literal">quit()</span> method closes the browser.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2051" id="calibre_link-917" class="calibre6">39</a>. The <span class="literal">find_element()</span> method returns the first matching element, while <span class="literal">find_elements()</span> returns all matching elements in a list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2052" id="calibre_link-918" class="calibre6">40</a>. <span class="literal">from selenium.webdriver.common.by import By</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2053" id="calibre_link-919" class="calibre6">41</a>. The <span class="literal">By.LINK_TEXT</span> setting matches the full link text, and <span class="literal">By.PARTIAL_LINK_TEXT</span> matches partial link text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2054" id="calibre_link-920" class="calibre6">42</a>. <span class="literal">browser.find_element(By.NAME, 'bday')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2055" id="calibre_link-921" class="calibre6">43</a>. <span class="literal">browser.find_element(By.TAG_NAME, 'input')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2056" id="calibre_link-922" class="calibre6">44</a>. <span class="literal">intro_paragraph.get_property("innerHTML")</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2057" id="calibre_link-923" class="calibre6">45</a>. <span class="literal">first_name_field.send_keys('Albert')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2058" id="calibre_link-924" class="calibre6">46</a>. <span class="literal">first_name_field.submit()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2059" id="calibre_link-925" class="calibre6">47</a>. This code finds and clicks a link with the text “Click here”:</p>
<pre class="calibre16">link = browser.find_element(By.LINK_TEXT, "Click here")
link.click()</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2060" id="calibre_link-926" class="calibre6">48</a>. <span class="literal">Keys.HOME</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2061" id="calibre_link-927" class="calibre6">49</a>. Headless mode means running a browser without displaying the browser window on the screen.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2062" id="calibre_link-928" class="calibre6">50</a>. <span class="literal">python -m playwright install</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2063" id="calibre_link-929" class="calibre6">51</a>. <span class="literal">from playwright.sync_api import sync_playwright</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2064" id="calibre_link-930" class="calibre6">52</a>. The <span class="literal">new_page()</span> method opens a new browser tab.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2065" id="calibre_link-931" class="calibre6">53</a>. <span class="literal">page.goto('https://nostarch.com')</span> (assuming that the <span class="literal">Page</span> object is stored in a variable named <span class="literal">page</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2066" id="calibre_link-932" class="calibre6">54</a>. The <span class="literal">close()</span> method closes the browser.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2067" id="calibre_link-933" class="calibre6">55</a>. The <span class="literal">go_back()</span> and <span class="literal">go_forward()</span> methods simulate pressing the Back and Forward buttons in the browser.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2068" id="calibre_link-934" class="calibre6">56</a>. <span class="literal">page.get_by_text('Click here')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2069" id="calibre_link-935" class="calibre6">57</a>. <span class="literal">page.locator('#author')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2070" id="calibre_link-936" class="calibre6">58</a>. The <span class="literal">inner_text()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2071" id="calibre_link-937" class="calibre6">59</a>. The <span class="literal">inner_html()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2072" id="calibre_link-938" class="calibre6">60</a>. <span role="doc-pagebreak" id="calibre_link-2855" aria-label="215"></span>The <span class="literal">check()</span> and <span class="literal">uncheck()</span> methods will check and uncheck the checkbox (no matter its current state), while the <span class="literal">click()</span> method will set it to the opposite state, and the <span class="literal">set_checked()</span> method will set it based on the Boolean argument passed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2073" id="calibre_link-939" class="calibre6">61</a>. The <span class="literal">click()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2074" id="calibre_link-940" class="calibre6">62</a>. <span class="literal">page.locator('html').press('Home')</span></p></li>
</ol>
<p class="head">Headline Downloader</p>
<p class="noindent">This example solution uses Requests and Beautiful Soup to download headlines from Slashdot:</p>
<pre class="pre">import requests
import bs4

# Download the Slashdot home page:
response = requests.get('https://slashdot.org')
response.raise_for_status()

# Create a parser and find all the headline elements.
soup = bs4.BeautifulSoup(response.text, 'html.parser')
elems = soup.select('.story-title')

# Print the headlines:
for elem in elems:
&nbsp;&nbsp;&nbsp;&nbsp;print(elem.text)</pre>
<p class="indent">This example solution uses Playwright to download headlines from Slashdot:</p>
<pre class="pre">from playwright.sync_api import sync_playwright

playwright = sync_playwright().start()
browser = playwright.firefox.launch(headless=True, slow_mo=50)
page = browser.new_page()

# Open the Slashdot home page:
page.goto('https://slashdot.org')

# Find all of the headline elements:
locator = page.locator('.story-title')

# Print the headlines:
for i in range(locator.count()):
&nbsp;&nbsp;&nbsp;&nbsp;print(locator.nth(i).inner_text())

browser.close()</pre>
<p class="head">Image Downloader</p>
<pre class="pre">import requests
import bs4

def download_images_from(website):
&nbsp;&nbsp;&nbsp;&nbsp;# Download the web page:
&nbsp;&nbsp;&nbsp;&nbsp;response = requests.get(website)
&nbsp;&nbsp;&nbsp;&nbsp;response.raise_for_status()
&nbsp;&nbsp;&nbsp;&nbsp;# Parse the web page for all &lt;img&gt; tags:<span role="doc-pagebreak" id="calibre_link-2856" aria-label="216"></span>
&nbsp;&nbsp;&nbsp;&nbsp;soup = bs4.BeautifulSoup(response.text, 'html.parser')
&nbsp;&nbsp;&nbsp;&nbsp;elems = soup.select('img')

&nbsp;&nbsp;&nbsp;&nbsp;# Download the image for each &lt;img&gt; tag:
&nbsp;&nbsp;&nbsp;&nbsp;for elem in elems:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src = elem.attrs['src']

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if src.startswith('http'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_url = src
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_url = website + '/' + src

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f'Downloading {img_url}...')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the filename for the image:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_filename = img_url[img_url.rfind('/') + 1:]

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Download the image:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response = requests.get(img_url)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response.raise_for_status()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with open(img_filename, 'wb') as img_file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for chunk in response.iter_content(10000):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_file.write(chunk)

download_images_from('https://inventwithpython.com/')</pre>
<p class="head">Breadcrumb Follower</p>
<p class="noindent">This example solution uses Requests and Beautiful Soup to follow the trail of web pages:</p>
<pre class="pre">import requests
import bs4

# Set the initial web page to download:
base = 'https://autbor.com/breadcrumbs/'
page = 'index.html'

while True:
&nbsp;&nbsp;&nbsp;&nbsp;# Download the web page:
&nbsp;&nbsp;&nbsp;&nbsp;print(f'Downloading {base + page}...')
&nbsp;&nbsp;&nbsp;&nbsp;response = requests.get(base + page)
&nbsp;&nbsp;&nbsp;&nbsp;response.raise_for_status()

&nbsp;&nbsp;&nbsp;&nbsp;# Parse the web page for the "Go to" text:
&nbsp;&nbsp;&nbsp;&nbsp;soup = bs4.BeautifulSoup(response.text, 'html.parser')
&nbsp;&nbsp;&nbsp;&nbsp;page_text = soup.select('#hello')[0].text

&nbsp;&nbsp;&nbsp;&nbsp;if 'Go to' in page_text:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If "Go to" is found, get the next page name:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page = page_text[len('Go to '):]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f'Next page is {page}')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Otherwise, this is the last page:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(page_text)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;&nbsp;# Stop looping.</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2857" aria-label="217"></span>HTML Chessboard</p>
<pre class="pre">import random

def get_random_chessboard():
&nbsp;&nbsp;&nbsp;&nbsp;pieces = 'bP bN bR bB bQ bK wP wN wR wB wQ wK'.split()

&nbsp;&nbsp;&nbsp;&nbsp;board = {}
&nbsp;&nbsp;&nbsp;&nbsp;for board_rank in '87654321':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for board_file in 'abcdefgh':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if pieces == []:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if random.randint(1, 6) == 1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;board[board_file + board_rank] = random.choice(pieces)
&nbsp;&nbsp;&nbsp;&nbsp;return board

def write_html_chessboard(board):
&nbsp;&nbsp;&nbsp;&nbsp;# Open an html file for writing the chessboard html
&nbsp;&nbsp;&nbsp;&nbsp;with open('chessboard.html', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Start the table element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&lt;table&gt;\n')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_white_square = True&nbsp;&nbsp;# Start with a white square.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Loop over all the rows ("ranks") on the board:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for board_rank in '87654321':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Start the table row element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&nbsp;&nbsp;&lt;tr&gt;\n')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Loop over all the columns ("files") on the board:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for board_file in 'abcdefgh':
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Start the table data cell element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&nbsp;&nbsp;&nbsp;&nbsp;&lt;td style="background: ')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Give it a white or black background:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if write_white_square:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('white')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('black')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Switch square color:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_white_square = not write_white_square

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('; width: 60px; height: 60px;"&gt;')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Write the html for a chess piece image:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;square = board_file + board_rank
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if square in board:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&lt;center&gt;&lt;img src="' + board[square] + '.png"&gt;&lt;/center&gt;')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Finish the table data cell element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&lt;/td&gt;\n')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Finish the table row element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&nbsp;&nbsp;&lt;/tr&gt;\n')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Switch square color for the next row:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_white_square = not write_white_square
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Finish the table element:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write('&lt;/table&gt;')

'''
# Here is the dictionary for a starting chess board layout:
write_html_chessboard({'a8': 'bR', 'b8': 'bN', 'c8': 'bB', 'd8': 'bQ',
<span role="doc-pagebreak" id="calibre_link-2858" aria-label="218"></span>'e8': 'bK', 'f8': 'bB', 'g8': 'bN', 'h8': 'bR', 'a7': 'bP', 'b7': 'bP',
'c7': 'bP', 'd7': 'bP', 'e7': 'bP', 'f7': 'bP', 'g7': 'bP', 'h7': 'bP',
'a1': 'wR', 'b1': 'wN', 'c1': 'wB', 'd1': 'wQ', 'e1': 'wK', 'f1': 'wB',
'g1': 'wN', 'h1': 'wR', 'a2': 'wP', 'b2': 'wP', 'c2': 'wP', 'd2': 'wP',
'e2': 'wP', 'f2': 'wP', 'g2': 'wP', 'h2': 'wP'})
'''

write_html_chessboard(get_random_chessboard())</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2859" type="title" class="h3a">Chapter 14: Excel Spreadsheets</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2075" id="calibre_link-941" class="calibre6">1</a>. A <span class="literal">Workbook</span> object.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2076" id="calibre_link-942" class="calibre6">2</a>. The active worksheet is the worksheet that is selected and viewable when the Excel file is opened.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2077" id="calibre_link-943" class="calibre6">3</a>. Worksheets have titles; workbooks do not. The <i class="calibre5">.xlsx</i> filename acts as the “title” for a workbook.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2078" id="calibre_link-944" class="calibre6">4</a>. <span class="literal">wb.sheetnames</span> is a list of strings of all <span class="literal">Worksheet</span> titles.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2079" id="calibre_link-945" class="calibre6">5</a>. An int. Even though Excel labels columns with letters, the <span class="literal">column</span> attribute for a <span class="literal">Cell</span> object is an int that begins at 1 for the first column.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2080" id="calibre_link-946" class="calibre6">6</a>. B1, because cell A1 is <span class="literal">cell(row=1, column=1)</span>, not <span class="literal">cell(row=0,</span> <span class="literal">column=0)</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2081" id="calibre_link-947" class="calibre6">7</a>. <span class="literal">max_row</span> and <span class="literal">max_column</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2082" id="calibre_link-948" class="calibre6">8</a>. After running <span class="literal">from openpyxl.utils import get_column_letter</span>, the function call <span class="literal">get_column_letter(900)</span> returns the column letters <span class="literal">'AHP'</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2083" id="calibre_link-949" class="calibre6">9</a>. After running <span class="literal">from openpyxl.utils import column_index_from_string</span>, the function call <span class="literal">column_index_from_string('ZZ')</span> returns the column number <span class="literal">702</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2084" id="calibre_link-950" class="calibre6">10</a>. Nine cells: A1, A2, A3, B1, B2, B3, C1, C2, and C3.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2085" id="calibre_link-951" class="calibre6">11</a>. <span class="literal">list(sheet.columns)[2]</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2086" id="calibre_link-952" class="calibre6">12</a>. <span class="literal">openpyxl.Workbook()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2087" id="calibre_link-953" class="calibre6">13</a>. The <span class="literal">wb.create_sheet()</span> method creates a new, empty <span class="literal">Worksheet</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2088" id="calibre_link-954" class="calibre6">14</a>. With the <span class="literal">del</span> operator; for example, <span class="literal">del wb['Sheet1']</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2089" id="calibre_link-955" class="calibre6">15</a>. It renames the <span class="literal">Worksheet</span> object’s title to <span class="literal">'New Title'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2090" id="calibre_link-956" class="calibre6">16</a>. Save the <span class="literal">Workbook</span> object with a new filename. Changes to the <span class="literal">Workbook</span> object do not change the original file unless you save it with the original filename.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2091" id="calibre_link-957" class="calibre6">17</a>. <span role="doc-pagebreak" id="calibre_link-2860" aria-label="219"></span>The code creates a new <span class="literal">Worksheet</span> object, positioned at the end of the existing <span class="literal">Worksheet</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2092" id="calibre_link-958" class="calibre6">18</a>. <span class="literal">sheet['A3'] = 'Hello'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2093" id="calibre_link-959" class="calibre6">19</a>. It changes the value in cell A1, because the rows and columns are 1-based, not 0-based like Python list indexes.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2094" id="calibre_link-960" class="calibre6">20</a>. <span class="literal">from openpyxl.styles import Font</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2095" id="calibre_link-961" class="calibre6">21</a>. <span class="literal">name</span>, <span class="literal">size</span>, <span class="literal">bold</span>, and <span class="literal">italic</span>. There are other keyword arguments you can find out about by running <span class="literal">help(Font)</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2096" id="calibre_link-962" class="calibre6">22</a>. <span class="literal">Font(size=24, italic=True)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2097" id="calibre_link-963" class="calibre6">23</a>. <span class="literal">Font(name='Times New Roman', bold=True)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2098" id="calibre_link-964" class="calibre6">24</a>. <span class="literal">sheet['B3'].font = font</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2099" id="calibre_link-965" class="calibre6">25</a>. No. You must separately increase the row height.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2100" id="calibre_link-966" class="calibre6">26</a>. Passing <span class="literal">strike=True</span> adds a horizontal strikethrough line to the text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2101" id="calibre_link-967" class="calibre6">27</a>. Cells with Excel formulas begin with an equal sign (=).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2102" id="calibre_link-968" class="calibre6">28</a>. Excel formulas include SUM, IFERROR, TRIM, IF, LEN, VLOOKUP, SUBSTITUTE, and many others.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2103" id="calibre_link-969" class="calibre6">29</a>. No. Excel formulas are different from Python functions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2104" id="calibre_link-970" class="calibre6">30</a>. No. Excel formulas are evaluated by the Excel application or another spreadsheet application, not by Python or OpenPyXL.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2105" id="calibre_link-971" class="calibre6">31</a>. Pass the <span class="literal">data_only=True</span> keyword argument to <span class="literal">openpyxl.load_workbook()</span> to have OpenPyXL return the resulting calculation of an Excel formula in a cell, instead of the text of the formula itself.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2106" id="calibre_link-972" class="calibre6">32</a>. You don’t need to do anything to have OpenPyXL return the text of the formula in a cell, instead of the resulting calculation. This is OpenPyXL’s default behavior. (Alternatively, you could pass <span class="literal">data_only=False</span> to <span class="literal">openpyxl.load_workbook()</span>.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2107" id="calibre_link-973" class="calibre6">33</a>. <span class="literal">sheet.row_dimensions[3].height = 100</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2108" id="calibre_link-974" class="calibre6">34</a>. <span class="literal">sheet.column_dimensions['D'].width = 200</span> and <span class="literal">sheet.row_dimensions[2].height = 200</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2109" id="calibre_link-975" class="calibre6">35</a>. Rows do not have a <span class="literal">width</span> attribute; they have a <span class="literal">height</span> attribute only.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2110" id="calibre_link-976" class="calibre6">36</a>. <span class="literal">sheet.merge_cells('A10:A22')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2111" id="calibre_link-977" class="calibre6">37</a>. <span class="literal">sheet.unmerge_cells('A10:A22')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2112" id="calibre_link-978" class="calibre6">38</a>. Row 1 is frozen.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2113" id="calibre_link-979" class="calibre6">39</a>. No rows are frozen; there are no freeze panes at all.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2114" id="calibre_link-980" class="calibre6">40</a>. <span class="literal">sheet.freeze_panes = None</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2115" id="calibre_link-981" class="calibre6">41</a>. <span role="doc-pagebreak" id="calibre_link-2861" aria-label="220"></span><span class="literal">BarChart</span>, <span class="literal">LineChart</span>, <span class="literal">PieChart</span>, and <span class="literal">ScatterChart</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2116" id="calibre_link-982" class="calibre6">42</a>. The <span class="literal">Worksheet</span> object, the column and row of the top-left cell, and the column and row of the bottom-right cell.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2117" id="calibre_link-983" class="calibre6">43</a>. The <span class="literal">Reference</span> object and a string title.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2118" id="calibre_link-984" class="calibre6">44</a>. The <span class="literal">Chart</span> object and a string of the cell coordinate location for the top-left corner<span lang="it-IT" lang="it-IT"> of the chart.</span></p></li>
</ol>
<p class="head">Search Term Finder</p>
<pre class="pre">import openpyxl, os
from openpyxl.utils import get_column_letter, column_index_from_string

def find_in_excel(search_text):
&nbsp;&nbsp;&nbsp;&nbsp;# Lowercase the search text to do a case-insensitive search:
&nbsp;&nbsp;&nbsp;&nbsp;search_text = search_text.lower()

&nbsp;&nbsp;&nbsp;&nbsp;# The found results begin as a blank dictionary:
&nbsp;&nbsp;&nbsp;&nbsp;results = {}

&nbsp;&nbsp;&nbsp;&nbsp;# Loop through all files in the current working directory:
&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir('.'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not filename.endswith('.xlsx'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-Excel files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wb = openpyxl.load_workbook(filename, data_only=True)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sheet = wb.active
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Loop through every row and column in the worksheet:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for row in sheet['A1:' + get_column_letter(sheet.max_column) + str(sheet.max_row)]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for cell in row:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Check for a match:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if search_text in str(cell.value).lower():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Append the match to results:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results.setdefault(filename, [])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results[filename].append(cell.coordinate)
&nbsp;&nbsp;&nbsp;&nbsp;return results

print(find_in_excel('name'))&nbsp;&nbsp;# Test this function.</pre>
<p class="head">Excel Home Folder Report</p>
<pre class="pre">import openpyxl, os
from pathlib import Path

def get_home_folder_size():
&nbsp;&nbsp;&nbsp;&nbsp;filenames_and_sizes = []

&nbsp;&nbsp;&nbsp;&nbsp;# Loop over everything in the home folder:
&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir(Path.home()):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;absolute_file_path = Path.home() / filename

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip folders/directories:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if absolute_file_path.is_dir():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<span role="doc-pagebreak" id="calibre_link-2862" aria-label="221"></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get file size:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_size = absolute_file_path.stat().st_size
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip files with permissions errors:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Record filename and size:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filenames_and_sizes.append((filename, file_size))

&nbsp;&nbsp;&nbsp;&nbsp;return filenames_and_sizes

def make_excel_report(filenames_and_sizes):
&nbsp;&nbsp;&nbsp;&nbsp;# Create a new Workbook object:
&nbsp;&nbsp;&nbsp;&nbsp;wb = openpyxl.Workbook()
&nbsp;&nbsp;&nbsp;&nbsp;sheet = wb.active

&nbsp;&nbsp;&nbsp;&nbsp;row = 1&nbsp;&nbsp;# Start writing data at row 1.
&nbsp;&nbsp;&nbsp;&nbsp;for filename_and_size in filenames_and_sizes:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sheet.cell(row=row, column=1).value = filename_and_size[0]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sheet.cell(row=row, column=2).value = filename_and_size[1]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row += 1&nbsp;&nbsp;# Increment to the next row.

&nbsp;&nbsp;&nbsp;&nbsp;# Save the Workbook as an Excel file:
&nbsp;&nbsp;&nbsp;&nbsp;wb.save('homeFilesReport.xlsx')

# Uncomment to print the hundred largest filenames and sizes:
#print(get_home_folder_size())

make_excel_report(get_home_folder_size())</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2863" type="title" class="h3a">Chapter 15: Google Sheets</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2119" id="calibre_link-985" class="calibre6">1</a>. Yes. You need a Google account to use Google Sheets, but Google accounts are free. You may need to submit a phone number to sign up for an account. Google also offers paid tiers that enable you to make heavy, commercial-level use of its APIs.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2120" id="calibre_link-986" class="calibre6">2</a>. No. Your Google account password should never appear in the source code of your Python programs. This is a security risk, as you may accidentally share these files, and anyone can read them. Don’t rely on “clever” obfuscation techniques like writing the password backward or using base64 encoding; these do not prevent people from recovering the password.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2121" id="calibre_link-987" class="calibre6">3</a>. You can download the credentials JSON file for your Google account from the Google Cloud Console at <i class="calibre5"><a href="https://console.cloud.google.com" class="calibre6">https://console.cloud.google.com</a></i>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2122" id="calibre_link-988" class="calibre6">4</a>. The Google Sheets API and the Google Drive API.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2123" id="calibre_link-989" class="calibre6">5</a>. <span role="doc-pagebreak" id="calibre_link-2864" aria-label="222"></span>After you run <span class="literal">import ezsheets</span> for the first time, <i class="calibre5">token-sheets.pickle</i> and <i class="calibre5">token-drive.pickle</i> files are created.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2124" id="calibre_link-990" class="calibre6">6</a>. You should revoke the credentials from the Google Cloud Console website.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2125" id="calibre_link-991" class="calibre6">7</a>. No. The project name and ID are not visible.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2126" id="calibre_link-992" class="calibre6">8</a>. The <span class="literal">ezsheets.Spreadsheet()</span> function creates a new spreadsheet.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2127" id="calibre_link-993" class="calibre6">9</a>. The <span class="literal">ezsheets.upload()</span> function uploads a <i class="calibre5">.xlsx</i> spreadsheet to Google Sheets.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2128" id="calibre_link-994" class="calibre6">10</a>. <span class="literal">Spreadsheet</span> objects have titles as a string in their <span class="literal">title</span> attribute.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2129" id="calibre_link-995" class="calibre6">11</a>. If you’re logged in to a Google account with the appropriate permissions, you’ll load the Google Sheets web app and see the spreadsheet.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2130" id="calibre_link-996" class="calibre6">12</a>. The <span class="literal">ezsheets.downloadAsExcel()</span> function converts a spreadsheet to an Excel file and downloads it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2131" id="calibre_link-997" class="calibre6">13</a>. The six spreadsheet formats in which you can download your Google Sheets spreadsheet are Excel, OpenOffice, CSV, TSV, PDF, and a ZIP of HTML files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2132" id="calibre_link-998" class="calibre6">14</a>. The <span class="literal">ezsheets.listSpreadsheets()</span> function lists all spreadsheets in your Google account.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2133" id="calibre_link-999" class="calibre6">15</a>. No. You must also call the <span class="literal">delete()</span> method with <span class="literal">permanent=True</span> to permanently delete it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2134" id="calibre_link-1000" class="calibre6">16</a>. Call the <span class="literal">refresh()</span> method to update the local <span class="literal">Spreadsheet</span> object in your program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2135" id="calibre_link-1001" class="calibre6">17</a>. The <span class="literal">Sheet()</span> method for <span class="literal">Spreadsheet</span> objects creates a new, blank <span class="literal">Sheet</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2136" id="calibre_link-1002" class="calibre6">18</a>. The <span class="literal">sheets</span> attribute accesses the <span class="literal">Sheet</span> objects of a <span class="literal">Spreadsheet</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2137" id="calibre_link-1003" class="calibre6">19</a>. Yes. <span class="literal">Sheet</span> objects have a title, stored as a string in their <span class="literal">title</span> attribute.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2138" id="calibre_link-1004" class="calibre6">20</a>. <span class="literal">sheet['C5'] = 'Hello'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2139" id="calibre_link-1005" class="calibre6">21</a>. It returns a string, even if the value is a number, such as 30.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2140" id="calibre_link-1006" class="calibre6">22</a>. Call the <span class="literal">copyTo()</span> method for <span class="literal">Sheet</span> objects to copy the entire sheet to a different Google Sheets spreadsheet.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2141" id="calibre_link-1007" class="calibre6">23</a>. <span class="literal">'AHP'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2142" id="calibre_link-1008" class="calibre6">24</a>. <span class="literal">702</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2143" id="calibre_link-1009" class="calibre6">25</a>. It returns <span class="literal">'B3'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2144" id="calibre_link-1010" class="calibre6">26</a>. It returns <span class="literal">(1, 2)</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2145" id="calibre_link-1011" class="calibre6">27</a>. <span role="doc-pagebreak" id="calibre_link-2865" aria-label="223"></span>The <span class="literal">getRow()</span> and <span class="literal">getColumn()</span> methods for <span class="literal">Sheet</span> objects can return an entire column or an entire row of cells at once.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2146" id="calibre_link-1012" class="calibre6">28</a>. Google Forms can add data from submitted forms to a spreadsheet in Google Sheets.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2147" id="calibre_link-1013" class="calibre6">29</a>. Call the <span class="literal">refresh()</span> method to update the local <span class="literal">Spreadsheet</span> object in your program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2148" id="calibre_link-1014" class="calibre6">30</a>. Yes. As of this writing, the limit is 250 new spreadsheets per day.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2149" id="calibre_link-1015" class="calibre6">31</a>. Exceeding the activity limit of the Google Sheets API results in EZSheets raising the <span class="literal">googleapiclient.errors.HttpError "Quota exceeded for quota group"</span> exception.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2150" id="calibre_link-1016" class="calibre6">32</a>. Yes. You can monitor your API usage on the Google Cloud Console web page, in the APIs &amp; Services section.</p></li>
</ol>
<p class="head">Uploading All Files in a Folder</p>
<pre class="pre">import ezsheets, os

def upload_all_spreadsheets():
&nbsp;&nbsp;&nbsp;&nbsp;# Loop through all files in the current working directory:
&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir('.'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not (filename.endswith('.xlsx') or filename.endswith('.csv')):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-Excel and non-CSV files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Upload the spreadsheet file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f'Uploading {filename}...')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ezsheets.upload(filename)

upload_all_spreadsheets()</pre>
<p class="head">Google Sheets Home Folder Report</p>
<pre class="pre">import ezsheets, os
from pathlib import Path

def get_home_folder_size():
&nbsp;&nbsp;&nbsp;&nbsp;filenames_and_sizes = []

&nbsp;&nbsp;&nbsp;&nbsp;# Loop over everything in the home folder:
&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir(Path.home()):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;absolute_file_path = Path.home() / filename

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip folders/directories:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if absolute_file_path.is_dir():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get file size:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_size = absolute_file_path.stat().st_size
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip files with permissions errors:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<span role="doc-pagebreak" id="calibre_link-2866" aria-label="224"></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Record filename and size:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filenames_and_sizes.append((filename, file_size))

&nbsp;&nbsp;&nbsp;&nbsp;return filenames_and_sizes

def make_google_sheets_report(filenames_and_sizes):
&nbsp;&nbsp;&nbsp;&nbsp;# Create a new spreadsheet:
&nbsp;&nbsp;&nbsp;&nbsp;ss = ezsheets.Spreadsheet()
&nbsp;&nbsp;&nbsp;&nbsp;ss.title = 'Home Files Report'
&nbsp;&nbsp;&nbsp;&nbsp;sheet = ss.sheets[0]

&nbsp;&nbsp;&nbsp;&nbsp;row = 1&nbsp;&nbsp;# Start writing data at row 1.
&nbsp;&nbsp;&nbsp;&nbsp;for filename_and_size in filenames_and_sizes:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sheet['A' + str(row)] = filename_and_size[0]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sheet['B' + str(row)] = filename_and_size[1]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row += 1&nbsp;&nbsp;# Increment to the next row.

make_google_sheets_report(get_home_folder_size())</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2867" type="title" class="h3a">Chapter 16: SQLite Databases</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2151" id="calibre_link-1017" class="calibre6">1</a>. There are several common pronunciations, including “sequel-ite,” “es-cue-lite,” and “es-cue-el-ite”; any of these answers is acceptable.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2152" id="calibre_link-1018" class="calibre6">2</a>. Tables are to databases what sheets are to spreadsheets.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2153" id="calibre_link-1019" class="calibre6">3</a>. A database can have one or more tables.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2154" id="calibre_link-1020" class="calibre6">4</a>. A unique, unchanging identifier for a row in a table.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2155" id="calibre_link-1021" class="calibre6">5</a>. In SQLite, the primary key column is often named <span class="literal">rowid</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2156" id="calibre_link-1022" class="calibre6">6</a>. No. Records never change their primary key value.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2157" id="calibre_link-1023" class="calibre6">7</a>. No. Database tables are best suited for spreadsheets that have a variable number of rows of data and a repeated columns.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2158" id="calibre_link-1024" class="calibre6">8</a>. No. Using SQLite doesn’t require running separate database software.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2159" id="calibre_link-1025" class="calibre6">9</a>. No. SQLite doesn’t strictly enforce the data types of its columns.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2160" id="calibre_link-1026" class="calibre6">10</a>. SQLite does not have built-in permissions or roles.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2161" id="calibre_link-1027" class="calibre6">11</a>. No. SQLite is public domain software and free to use for any purpose.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2162" id="calibre_link-1028" class="calibre6">12</a>. Import <span class="literal">sqlite3</span> to use SQLite in Python.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2163" id="calibre_link-1029" class="calibre6">13</a>. <span class="literal">conn = sqlite3.connect('example.db')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2164" id="calibre_link-1030" class="calibre6">14</a>. <span role="doc-pagebreak" id="calibre_link-2868" aria-label="225"></span>It enables autocommit mode, so your queries will be immediately committed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2165" id="calibre_link-1031" class="calibre6">15</a>. This query creates a new table in the database, but only if the table doesn’t already exist.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2166" id="calibre_link-1032" class="calibre6">16</a>. The SQLite data types <span class="literal">NULL</span>, <span class="literal">INTEGER</span>, <span class="literal">REAL</span>, <span class="literal">TEXT</span>, and <span class="literal">BLOB</span> are analogous to Python’s <span class="literal">NoneType</span>, <span class="literal">int</span>, <span class="literal">float</span>, <span class="literal">str</span>, and <span class="literal">bytes</span> data types.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2167" id="calibre_link-1033" class="calibre6">17</a>. SQLite’s type affinity feature will convert the <span class="literal">TEXT</span> value <span class="literal">'42'</span> to the <span class="literal">INTEGER</span> value <span class="literal">42</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2168" id="calibre_link-1034" class="calibre6">18</a>. Because <span class="literal">'Hello'</span> cannot be converted to an <span class="literal">INTEGER</span>, SQLite inserts it as a <span class="literal">TEXT</span> value even though the column has <span class="literal">INTEGER</span> affinity. There is no error.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2169" id="calibre_link-1035" class="calibre6">19</a>. You can enable strict mode on a per-table basis by including the <span class="literal">STRICT</span> keyword at the end of the <span class="literal">CREATE TABLE</span> statement.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2170" id="calibre_link-1036" class="calibre6">20</a>. No. SQLite doesn’t have a data type for times and dates. Use the <span class="literal">TEXT</span> type instead.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2171" id="calibre_link-1037" class="calibre6">21</a>. No. SQLite doesn’t have a data type for Boolean values. Use the <span class="literal">INT</span> type instead, with <span class="literal">0</span> meaning false and <span class="literal">1</span> meaning true.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2172" id="calibre_link-1038" class="calibre6">22</a>. <span class="literal">conn.execute('PRAGMA TABLE_INFO (cats)').fetchall()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2173" id="calibre_link-1039" class="calibre6">23</a>. <span class="literal">conn.execute('SELECT name FROM sqlite_schema WHERE type="table"').fetchall()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2174" id="calibre_link-1040" class="calibre6">24</a>. An <span class="literal">INSERT</span> query creates data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2175" id="calibre_link-1041" class="calibre6">25</a>. A <span class="literal">SELECT</span> query reads data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2176" id="calibre_link-1042" class="calibre6">26</a>. An <span class="literal">UPDATE</span> query updates data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2177" id="calibre_link-1043" class="calibre6">27</a>. A <span class="literal">DELETE</span> query deletes data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2178" id="calibre_link-1044" class="calibre6">28</a>. The query is missing the <span class="literal">VALUES</span> keyword. It should read: <span class="literal">'INSERT INTO cats VALUES ("Zophie", "2021-01-24", "black", 5.6)'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2179" id="calibre_link-1045" class="calibre6">29</a>. No. SQLite’s <span class="literal">INSERT</span> queries are atomic and either completely succeed to insert the data or fail to insert any data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2180" id="calibre_link-1046" class="calibre6">30</a>. No. SQLite is isolated, and transactions cannot affect other transactions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2181" id="calibre_link-1047" class="calibre6">31</a>. Using <span class="literal">?</span> placeholders instead of f-strings prevents SQL injection attacks.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2182" id="calibre_link-1048" class="calibre6">32</a>. The <span class="literal">*</span> means “all columns except for <span class="literal">rowid</span>.”</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2183" id="calibre_link-1049" class="calibre6">33</a>. The <span class="literal">SELECT</span> query is missing the columns in the table to select.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2184" id="calibre_link-1050" class="calibre6">34</a>. A <span class="literal">WHERE</span> clause allows a <span class="literal">SELECT</span> query to filter the data it returns by having it match the search parameters in the <span class="literal">WHERE</span> clause.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2185" id="calibre_link-1051" class="calibre6">35</a>. <span role="doc-pagebreak" id="calibre_link-2869" aria-label="226"></span>The 10 operators you can use in a <span class="literal">WHERE</span> clause are <span class="literal">=</span>, <span class="literal">!=</span>, <span class="literal">&lt;</span>, <span class="literal">&gt;</span>, <span class="literal">&lt;=</span>, <span class="literal">&gt;=</span>, <span class="literal">AND</span>, <span class="literal">OR</span>, <span class="literal">NOT</span>, and <span class="literal">LIKE</span>. Note that, in SQLite, the equality operator is <span class="literal">=</span> and not <span class="literal">==</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2186" id="calibre_link-1052" class="calibre6">36</a>. The <span class="literal">LIKE</span> operator does pattern matching, using <span class="literal">%</span> in a manner similar to <span class="literal">*</span> in glob pattern matching.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2187" id="calibre_link-1053" class="calibre6">37</a>. Add an <span class="literal">ORDER BY</span> clause to the query so that it looks as follows: <span class="literal">'SELECT rowid, name FROM cats ORDER BY rowid'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2188" id="calibre_link-1054" class="calibre6">38</a>. The <span class="literal">LIMIT</span> clause limits the number of rows returned by a query.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2189" id="calibre_link-1055" class="calibre6">39</a>. A column index speeds up the process of reading data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2190" id="calibre_link-1056" class="calibre6">40</a>. A column index slows down the process of inserting or updating data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2191" id="calibre_link-1057" class="calibre6">41</a>. The Python code <span class="literal">conn.execute("SELECT name FROM sqlite_schema WHERE type = 'index' AND tbl_name = 'cats'").fetchall()</span> returns a list all of the indexes for a table named <span class="literal">cats</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2192" id="calibre_link-1058" class="calibre6">42</a>. This query will update the <span class="literal">fur</span> column in every row of the table to <span class="literal">"black"</span>, which is unlikely to have been the user’s intention.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2193" id="calibre_link-1059" class="calibre6">43</a>. This query will delete every row in the table, which is unlikely to have been the user’s intention.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2194" id="calibre_link-1060" class="calibre6">44</a>. The second instruction returns an empty list, because no record with a <span class="literal">rowid</span> of <span class="literal">42</span> exists after that record was deleted.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2195" id="calibre_link-1061" class="calibre6">45</a>. Yes. This code raises an exception with an <span class="literal">OperationalError</span> error message.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2196" id="calibre_link-1062" class="calibre6">46</a>. No. It just returns an empty list.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2197" id="calibre_link-1063" class="calibre6">47</a>. It begins a transaction.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2198" id="calibre_link-1064" class="calibre6">48</a>. All of the data will be inserted into the database when you finish the transaction. Until then, none of the data is inserted.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2199" id="calibre_link-1065" class="calibre6">49</a>. <span class="literal">conn.commit()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2200" id="calibre_link-1066" class="calibre6">50</a>. <span class="literal">conn.rollback()</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2201" id="calibre_link-1067" class="calibre6">51</a>. No. You can’t roll back a transaction after it has been committed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2202" id="calibre_link-1068" class="calibre6">52</a>. Copying the database file is the easiest way to make a backup if no program is currently connected to it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2203" id="calibre_link-1069" class="calibre6">53</a>. The <span class="literal">backup()</span> method of <span class="literal">Connection</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2204" id="calibre_link-1070" class="calibre6">54</a>. <span class="literal">for line in conn.iterdump(): print(line)</span> will print the text of SQLite queries needed to re-create a database and its data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2205" id="calibre_link-1071" class="calibre6">55</a>. <span class="literal">'ALTER TABLE spam RENAME TO eggs'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2206" id="calibre_link-1072" class="calibre6">56</a>. <span class="literal">'ALTER TABLE spam RENAME COLUMN foo TO bar'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2207" id="calibre_link-1073" class="calibre6">57</a>. <span class="literal">'ALTER TABLE spam ADD COLUMN price INTEGER DEFAULT 42'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2208" id="calibre_link-1074" class="calibre6">58</a>. <span role="doc-pagebreak" id="calibre_link-2870" aria-label="227"></span><span class="literal">'DROP TABLE spam'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2209" id="calibre_link-1075" class="calibre6">59</a>. You can assume the values in the <span class="literal">cat_id</span> column match the <span class="literal">rowid</span> values in a table named <span class="literal">cats</span> or <span class="literal">cat</span>, but this is just a database convention; the column name can be anything.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2210" id="calibre_link-1076" class="calibre6">60</a>. The <span class="literal">orders</span> table should have a foreign key column named <span class="literal">customer_id</span>, as each customer could have made multiple orders.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2211" id="calibre_link-1077" class="calibre6">61</a>. <span class="literal">FOREIGN KEY(cat_id) REFERENCES cats(rowid)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2212" id="calibre_link-1078" class="calibre6">62</a>. In-memory SQLite databases are faster than disk-based SQLite database files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2213" id="calibre_link-1079" class="calibre6">63</a>. The data in an in-memory SQLite database is lost when the program terminates if it isn’t saved to a file-based database.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2214" id="calibre_link-1080" class="calibre6">64</a>. <span class="literal">memory_db_conn.backup(file_db_conn)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2215" id="calibre_link-1081" class="calibre6">65</a>. You can’t recover the data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2216" id="calibre_link-1082" class="calibre6">66</a>. The data is saved, because the <span class="literal">backup()</span> method call in the exception handler copies the database to the <i class="calibre5">cats.db</i> file.</p></li>
</ol>
<p class="head">Monitoring Free Disk Space Levels</p>
<pre class="pre">import sqlite3, psutil, time, datetime

# Set up database connection and table:
conn = sqlite3 .connect('monitorFreeSpace.db', isolation_level=None)
conn.execute('CREATE TABLE IF NOT EXISTS freespace (free INT, timestamp TEXT) STRICT')

print('Monitoring disk free space. Press Ctrl-C to quit.')
try:
&nbsp;&nbsp;&nbsp;&nbsp;while True:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free = psutil.disk_usage('C:\\').free&nbsp;&nbsp;# Windows
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#free = psutil.disk_usage('/').free&nbsp;&nbsp;# macOS and Linux

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timestamp = str(datetime.datetime.now())

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.execute('INSERT INTO freespace VALUES (?, ?)', [free, timestamp])

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(free, timestamp)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(1)
except KeyboardInterrupt:
&nbsp;&nbsp;&nbsp;&nbsp;pass</pre>
<p class="head">Database-to-String Converter</p>
<pre class="pre">import sqlite3

def db_to_txt(db_filename):
&nbsp;&nbsp;&nbsp;&nbsp;conn = sqlite3 .connect(db_filename, isolation_level=None)

&nbsp;&nbsp;&nbsp;&nbsp;# Get the name of the table:
&nbsp;&nbsp;&nbsp;&nbsp;table_name = conn.execute('SELECT rowid, name FROM sqlite_schema WHERE
type="table"').fetchall()[0][0]<span role="doc-pagebreak" id="calibre_link-2871" aria-label="228"></span>
&nbsp;&nbsp;&nbsp;&nbsp;# Get the names of all the columns in the table:
&nbsp;&nbsp;&nbsp;&nbsp;column_names = ['rowid']
&nbsp;&nbsp;&nbsp;&nbsp;for column in conn.execute(f'PRAGMA TABLE_INFO({table_name})').fetchall():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_names.append(column[1])

&nbsp;&nbsp;&nbsp;&nbsp;#print(column_names)&nbsp;&nbsp;# Print column names.

&nbsp;&nbsp;&nbsp;&nbsp;with open(db_filename + '.txt', 'w', encoding='utf-8') as text_file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text_file.write(','.join(column_names) + '\n')

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Read in the table data and write it to the text file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for row in conn.execute(f'SELECT * FROM {table_name}'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Convert all the items in the row list to strings:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_as_strings = []
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for item in row:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_as_strings.append(str(item))

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Write data to text file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text_file.write(','.join(row_as_strings) + '\n')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#print(row)&nbsp;&nbsp;# Print row data.

db_to_txt('example.db')</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2872" type="title" class="h3a">Chapter 17: PDF and Word Documents</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2217" id="calibre_link-1083" class="calibre6">1</a>. Pass a string filename to the <span class="literal">pypdf.PdfReader()</span> function to open a PDF file.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2218" id="calibre_link-1084" class="calibre6">2</a>. The <span class="literal">pages</span> attribute of <span class="literal">PdfReader</span> objects stores the individual <span class="literal">Page</span> objects.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2219" id="calibre_link-1085" class="calibre6">3</a>. Here is a function that returns the number of pages in a PDF:</p>
<pre class="calibre16">def get_num_pages(filename):
&nbsp;&nbsp;&nbsp;&nbsp;reader = pypdf.PdfReader(filename)
&nbsp;&nbsp;&nbsp;&nbsp;return len(reader.pages)</pre></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2220" id="calibre_link-1086" class="calibre6">4</a>. The <span class="literal">extract_text()</span> method of <span class="literal">Page</span> objects extracts text from a PDF.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2221" id="calibre_link-1087" class="calibre6">5</a>. The code <span class="literal">reader.pages[1].extract_text()</span> extracts the text of page 2 of a PDF file.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2222" id="calibre_link-1089" class="calibre6">6</a>. The <span class="literal">pdfminer.high_level.extract_text()</span> function extracts text from a PDF when you pass it the PDF’s filename as a string.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2223" id="calibre_link-1090" class="calibre6">7</a>. LLMs such as ChatGPT can automatically clean up the extracted text strings from a PDF.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2224" id="calibre_link-1091" class="calibre6">8</a>. The <span class="literal">pypdf.PdfWriter()</span> function lets you create new PDF files.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2225" id="calibre_link-1092" class="calibre6">9</a>. No. The PyPDF package cannot write arbitrary text to a PDF file the way Python can write arbitrary text to a <i class="calibre5">.txt</i> file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2226" id="calibre_link-1093" class="calibre6">10</a>. <span role="doc-pagebreak" id="calibre_link-2873" aria-label="229"></span>No. You cannot rotate a page by 45 degrees using <span class="literal">pydpdf</span> or <span class="literal">pdfminer</span>. These modules can rotate pages in 90-degree increments only.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2227" id="calibre_link-1094" class="calibre6">11</a>. The following code rotates all pages in <i class="calibre5">example.pdf</i> by 90 degrees and saves them in <i class="calibre5">rotated.pdf</i>. Your code may differ but can be considered correct as long as it produces a file named <i class="calibre5">rotated.pdf</i> with the correctly rotated pages:</p>
<pre class="calibre16">import pypdf
writer = pypdf.PdfWriter()
writer.append('example.pdf')
for i in range(len(writer.pages)):
&nbsp;&nbsp;&nbsp;&nbsp;writer.pages[i].rotate(90)
with open('rotated.pdf', 'wb') as file:
&nbsp;&nbsp;&nbsp;&nbsp;writer.write(file)</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2228" id="calibre_link-1095" class="calibre6">12</a>. The <span class="literal">merge_page()</span> method of <span class="literal">Page</span> objects allows you to add a watermark to a page.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2229" id="calibre_link-1096" class="calibre6">13</a>. The <span class="literal">add_blank_page()</span> method adds a blank page to the end of a PDF.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2230" id="calibre_link-1097" class="calibre6">14</a>. The code <span class="literal">writer.insert_blank_page(index=2)</span> inserts a blank page as the new page 3.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2231" id="calibre_link-1099" class="calibre6">15</a>. Use the <span class="literal">'AES-256'</span> encryption algorithm to encrypt your PDF files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2232" id="calibre_link-1100" class="calibre6">16</a>. The password <span class="literal">'elephant'</span> is a poor choice because it is an English word and can easily be brute-forced.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2233" id="calibre_link-1101" class="calibre6">17</a>. PDF files support a user password for viewing the PDF and an owner password for printing, commenting, extracting text, and taking other actions.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2234" id="calibre_link-1102" class="calibre6">18</a>. The code <span class="literal">doc = docx.Document('demo.docx')</span> opens a file named <i class="calibre5">demo.docx</i> and stores the <span class="literal">Document</span> object in a variable named <span class="literal">doc</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2235" id="calibre_link-1103" class="calibre6">19</a>. The code <span class="literal">doc.paragraphs[1].text</span> contains the string value of the text in the second paragraph.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2236" id="calibre_link-1104" class="calibre6">20</a>. The code <span class="literal">len(doc.paragraphs)</span> returns the number of paragraphs in a <span class="literal">Document</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2237" id="calibre_link-1105" class="calibre6">21</a>. True. <span class="literal">Document</span> objects contain <span class="literal">Paragraph</span> objects, which in turn contain <span class="literal">Run</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2238" id="calibre_link-1106" class="calibre6">22</a>. False. Setting the <span class="literal">Paragraph</span> object’s <span class="literal">bold</span> and <span class="literal">italic</span> attributes to <span class="literal">True</span> will set the entire text of the paragraph to bold and italic. To italicize some text in a paragraph and bold some other text, you must set the <span class="literal">bold</span> and <span class="literal">italic</span> attributes of the <span class="literal">Run</span> objects in the <span class="literal">Paragraph</span> object to <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2239" id="calibre_link-1107" class="calibre6">23</a>. <span class="literal">Paragraph</span> objects and <span class="literal">Run</span> objects have <span class="literal">text</span> attributes, while <span class="literal">Document</span> objects do not.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2240" id="calibre_link-1108" class="calibre6">24</a>. <span role="doc-pagebreak" id="calibre_link-2874" aria-label="230"></span>You can set <span class="literal">bold</span>, <span class="literal">italic</span>, <span class="literal">strike</span>, and other attributes to <span class="literal">True</span> (meaning always enabled), <span class="literal">False</span> (meaning always disabled), or <span class="literal">None</span> (meaning enabled or disabled based on the <span class="literal">Run</span> object’s existing style).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2241" id="calibre_link-1109" class="calibre6">25</a>. The code <span class="literal">doc.add_paragraph('Hello, world!', 'Title')</span> adds a paragraph with the text “Hello, world!” in the built-in Title style.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2242" id="calibre_link-1110" class="calibre6">26</a>. <span class="literal">Document</span> objects have the <span class="literal">add_paragraph()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2243" id="calibre_link-1111" class="calibre6">27</a>. <span class="literal">Paragraph</span> objects have the <span class="literal">add_run()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2244" id="calibre_link-1112" class="calibre6">28</a>. A blank <i class="calibre5">.docx</i> document has one <span class="literal">Paragraph</span> object that contains zero <span class="literal">Run</span> objects.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2245" id="calibre_link-1113" class="calibre6">29</a>. Here is the code for creating a <i class="calibre5">millionstars.docx</i> file with exactly one million <span class="literal">*</span> asterisk characters:</p>
<pre class="calibre16">import docx
doc = docx. Document()
doc.add_paragraph('*' * 1000000)
doc.save('millionstars.docx')</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2246" id="calibre_link-1114" class="calibre6">30</a>. Here is the code for creating a <i class="calibre5">countdown.docx</i> file that counts down from 1,000 to 0:</p>
<pre class="calibre16">import docx
doc = docx.Document()
for number in range(1000, -1, -1):
&nbsp;&nbsp;&nbsp;&nbsp;doc.add_paragraph(str(number))
doc.save('countdown.docx')</pre></li>
</ol>
<p class="head">PDF Document Word Counter</p>
<pre class="pre">import pypdf

def pdf_word_count(pdf_filename):
&nbsp;&nbsp;&nbsp;&nbsp;reader = pypdf.PdfReader(pdf_filename)
&nbsp;&nbsp;&nbsp;&nbsp;text = ''
&nbsp;&nbsp;&nbsp;&nbsp;for page in reader.pages:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text += page.extract_text()

&nbsp;&nbsp;&nbsp;&nbsp;return len(text.split())

print(pdf_word_count('example.pdf'))</pre>
<p class="head">Searching All PDFs in a Folder</p>
<pre class="pre">import pypdf, os

def search_all_PDFs(text, folder='.', case_sensitive=False):
&nbsp;&nbsp;&nbsp;&nbsp;matches = []

&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir(folder):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not filename.lower().endswith('.pdf'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-PDF files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<span role="doc-pagebreak" id="calibre_link-2875" aria-label="231"></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader = pypdf.PdfReader(filename)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for page_number, page_obj in enumerate(reader.pages):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page_text = page_obj.extract_text()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if not case_sensitive and text.lower() in page_text.lower():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches.append(f'In {filename} on page {page_number}')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif case_sensitive and text in page_text:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches.append(f'In {filename} on page {page_number}')

&nbsp;&nbsp;&nbsp;&nbsp;return matches

print('\n'.join(search_all_PDFs('hello', '.')))</pre>
<p class="head">Word Document Logger for Guess the Number</p>
<pre class="pre"># This is a guess the number game.
import random, docx
from pathlib import Path

# Open the existing or create a new Word document:
if Path('guessWordLog.docx').exists():
&nbsp;&nbsp;&nbsp;&nbsp;word_log = docx.Document('guessWordLog.docx')
else:
&nbsp;&nbsp;&nbsp;&nbsp;word_log = docx.Document()

secret_number = random.randint(1, 20)
print('I am thinking of a number between 1 and 20.')
word_log.add_paragraph('I am thinking of a number between 1 and 20.')

# Ask the player to guess 6 times.
for guesses_taken in range(1, 7):
&nbsp;&nbsp;&nbsp;&nbsp;guess = int(input('Take a guess. '))

&nbsp;&nbsp;&nbsp;&nbsp;word_log.add_paragraph(f'Take a guess. {guess}')

&nbsp;&nbsp;&nbsp;&nbsp;if guess &lt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word_log.add_paragraph('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;elif guess &gt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word_log.add_paragraph('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break&nbsp;&nbsp;&nbsp;&nbsp;# This condition is the correct guess!

# Show the game results:
if guess == secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;print('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
&nbsp;&nbsp;&nbsp;&nbsp;word_log.add_paragraph('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('Nope. The number was ' + str(secret_number))
&nbsp;&nbsp;&nbsp;&nbsp;word_log.add_paragraph('Nope. The number was ' + str(secret_number))

# Save the Word log file:
word_log.save('guessWordLog.docx')</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2876" aria-label="232"></span>Converting Text Files to Word Documents</p>
<pre class="pre">import docx, os
from pathlib import Path

def str_to_docx(text, word_filename):
&nbsp;&nbsp;&nbsp;&nbsp;doc = docx.Document()
&nbsp;&nbsp;&nbsp;&nbsp;for line in text.splitlines():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc.add_paragraph(line)
&nbsp;&nbsp;&nbsp;&nbsp;doc.save(word_filename)

for filename in os.listdir('.'):
&nbsp;&nbsp;&nbsp;&nbsp;if not filename.endswith('.txt'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-text files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;print(f'Converting {filename}...')
&nbsp;&nbsp;&nbsp;&nbsp;with open(filename, encoding='utf-8') as text_file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the contents of the text file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content = text_file.read()

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create a Word document from the text:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str_to_docx(content, filename + '.docx')</pre>
<p class="head">Bolding Words in a Word Document</p>
<pre class="pre">import docx

def bold_words(filename, word):
&nbsp;&nbsp;&nbsp;&nbsp;# Open the original document and the new document:
&nbsp;&nbsp;&nbsp;&nbsp;original_doc = docx.Document(filename)
&nbsp;&nbsp;&nbsp;&nbsp;bold_doc = docx.Document()

&nbsp;&nbsp;&nbsp;&nbsp;# Loop through all the paragraphs in the original document:
&nbsp;&nbsp;&nbsp;&nbsp;for original_paragraph in original_doc.paragraphs:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text = original_paragraph.text

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create the paragraph for the new document:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;para_with_bold_words = bold_doc.add_paragraph()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while word in text:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Get the text that appears before the word:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before_word = text[0:text.find(word)]

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add the text before the word as an unbold run:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;para_with_bold_words.add_run(before_word)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add the bold word as a bold run:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run_with_bold_words = para_with_bold_words.add_run(word)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run_with_bold_words.bold = True

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Remove this from text and continue looping:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text = text[text.find(word) + len(word):]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add any remaining text to the new paragraph:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;para_with_bold_words.add_run(text)

&nbsp;&nbsp;&nbsp;&nbsp;# After processing all the paragraphs, save the new document:
&nbsp;&nbsp;&nbsp;&nbsp;bold_doc.save(filename + '.bold.docx')

bold_words('demo.docx', 'hello')</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2877" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2878" aria-label="233" class="calibre1"></span>Chapter 18: CSV, JSON, and XML Files</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2247" id="calibre_link-1115" class="calibre6">1</a>. The CSV format most closely resembles a spreadsheet.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2248" id="calibre_link-1116" class="calibre6">2</a>. <i class="calibre5">CSV</i> stands for <i class="calibre5">comma-separated values</i>. It’s called that, oddly enough, because the values in the file are separated by commas.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2249" id="calibre_link-1117" class="calibre6">3</a>. Yes. CSV files are plaintext files, and you can view them in a text editor such as Notepad or TextEdit.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2250" id="calibre_link-1118" class="calibre6">4</a>. Text strings are the only data type CSV files support.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2251" id="calibre_link-1119" class="calibre6">5</a>. The main advantage of CSV files compared to Excel spreadsheets is their simplicity.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2252" id="calibre_link-1120" class="calibre6">6</a>. False. CSV files can include commas in their data, so long as they’re escaped with slashes. The <span class="literal">csv</span> module handles this escaping for you automatically.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2253" id="calibre_link-1121" class="calibre6">7</a>. You must pass a <span class="literal">File</span> object (like the one returned by <span class="literal">open()</span>) to <span class="literal">csv.reader()</span> and <span class="literal">csv.writer()</span>, not a filename string.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2254" id="calibre_link-1122" class="calibre6">8</a>. Pass the <span class="literal">reader</span> object to the <span class="literal">list()</span> function, as in <span class="literal">list(reader_obj)</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2255" id="calibre_link-1123" class="calibre6">9</a>. Use a <span class="literal">for</span> loop to iterate over the <span class="literal">reader</span> object, as in <span class="literal">for row in reader_obj:</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2256" id="calibre_link-1124" class="calibre6">10</a>. <span class="literal">example_data[6][1]</span> accesses the data in the seventh row and second column.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2257" id="calibre_link-1125" class="calibre6">11</a>. The <span class="literal">writerow()</span> method accepts a list of strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2258" id="calibre_link-1126" class="calibre6">12</a>. A <span class="literal">DictReader</span> object represents each row as a dictionary.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2259" id="calibre_link-1127" class="calibre6">13</a>. The keys in the dictionaries of a <span class="literal">DictReader</span> object come from the first row of the CSV file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2260" id="calibre_link-1128" class="calibre6">14</a>. The <span class="literal">writerow()</span> method of <span class="literal">DictWriter</span> objects accepts a dictionary.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2261" id="calibre_link-1129" class="calibre6">15</a>. The <span class="literal">File</span> object passed to <span class="literal">csv.writer()</span> was opened in read mode instead of write mode.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2262" id="calibre_link-1130" class="calibre6">16</a>. <i class="calibre5">TSV</i> stands for <i class="calibre5">tab-separated values</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2263" id="calibre_link-1131" class="calibre6">17</a>. Pass the <span class="literal">delimiter='\t'</span> keyword argument to <span class="literal">csv.reader()</span> or <span class="literal">csv</span><span class="literal">.writer()</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2264" id="calibre_link-1132" class="calibre6">18</a>. In other programming languages, dictionary-like data structures are called <i class="calibre5">mappings</i>, <i class="calibre5">hash maps</i>, <i class="calibre5">hash tables</i>, or <i class="calibre5">associative arrays</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2265" id="calibre_link-1133" class="calibre6">19</a>. In other programming languages, list-like data structures are called <i class="calibre5">arrays</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2266" id="calibre_link-1134" class="calibre6">20</a>. Plaintext formats like JSON and XML have the benefit of being easy to read by humans using text editors.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2267" id="calibre_link-1135" class="calibre6">21</a>. <span role="doc-pagebreak" id="calibre_link-2879" aria-label="234"></span><i class="calibre5">JSON</i> stands for <i class="calibre5">JavaScript Object Notation</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2268" id="calibre_link-1136" class="calibre6">22</a>. <i class="calibre5">XML</i> stands for <i class="calibre5">eXtensible Markup Language</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2269" id="calibre_link-1137" class="calibre6">23</a>. JSON resembles Python syntax more closely than XML.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2270" id="calibre_link-1138" class="calibre6">24</a>. <span class="literal">['cat', 'dog',]</span> is Python syntax and <span class="literal">["cat", "dog"]</span> is JSON syntax, because trailing commas aren’t allowed in JSON, and JSON requires double quotes for strings.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2271" id="calibre_link-1139" class="calibre6">25</a>. <span class="literal">[True, False]</span> is Python syntax because Python capitalizes Boolean values, while <span class="literal">[true, false]</span> is JSON syntax because JavaScript uses lowercase Boolean values.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2272" id="calibre_link-1140" class="calibre6">26</a>. APIs usually deliver JSON data instead of XML data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2273" id="calibre_link-1141" class="calibre6">27</a>. The <i class="calibre5">s</i> stands for <i class="calibre5">string</i>. That’s because the <span class="literal">json.loads()</span> function loads a string of JSON-formatted text, and the <span class="literal">json.dumps()</span> function returns a string of JSON-formatted text representing the Python dictionary or list passed to it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2274" id="calibre_link-1142" class="calibre6">28</a>. <span class="literal">json.dumps({'temperature': 72})</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2275" id="calibre_link-1143" class="calibre6">29</a>. XML syntax resembles HTML syntax.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2276" id="calibre_link-1144" class="calibre6">30</a>. <span class="literal">&lt;/spam&gt;</span> is the closing XML tag for <span class="literal">&lt;spam&gt;</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2277" id="calibre_link-1145" class="calibre6">31</a>. The XML syntax is invalid because the <span class="literal">&lt;/person&gt;</span> and <span class="literal">&lt;/name&gt;</span> closing tags are in the wrong order.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2278" id="calibre_link-1146" class="calibre6">32</a>. The JSON syntax is the same as the Python syntax in this case: <span class="literal">{"address": {"street": "100 Larkin St.", "city": "San Francisco", "zip": "94102"}}</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2279" id="calibre_link-1147" class="calibre6">33</a>. The XML syntax is <span class="literal">&lt;address&gt;&lt;street&gt;100 Larkin St.&lt;/street&gt;&lt;city&gt;San Francisco&lt;/city&gt;&lt;zip&gt;94102&lt;/zip&gt;&lt;/address&gt;</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2280" id="calibre_link-1148" class="calibre6">34</a>. The XML attribute names are <span class="literal">street</span>, <span class="literal">city</span>, and <span class="literal">zip</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2281" id="calibre_link-1149" class="calibre6">35</a>. The root element is the first element in an XML document that contains all other elements.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2282" id="calibre_link-1150" class="calibre6">36</a>. <i class="calibre5">DOM</i> stands for <i class="calibre5">Document Object Model</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2283" id="calibre_link-1151" class="calibre6">37</a>. <i class="calibre5">SAX</i> stands for <i class="calibre5">Simple API for XML</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2284" id="calibre_link-1152" class="calibre6">38</a>. SAX is the approach of reading XML documents one element at a time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2285" id="calibre_link-1153" class="calibre6">39</a>. The benefit of the DOM approach of reading XML documents entirely into memory is convenience; you can access any XML element at any time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2286" id="calibre_link-1154" class="calibre6">40</a>. The <span class="literal">ET.fromstring()</span> function returns the <span class="literal">Element</span> object for the root element in the XML string passed to it.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2287" id="calibre_link-1155" class="calibre6">41</a>. <span role="doc-pagebreak" id="calibre_link-2880" aria-label="235"></span>The <span class="literal">tostring()</span> function doesn’t take string arguments like <span class="literal">'&lt;person&gt;Albert&lt;/person&gt;'</span>. Instead, you must pass it an <span class="literal">ET.Element</span> object: <span class="literal">ET.tostring(ET.Element('person'), encoding='utf-8')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2288" id="calibre_link-1156" class="calibre6">42</a>. <span class="literal">ET.tostring(person, encoding='utf-8').decode('utf-8')</span> decodes the <span class="literal">bytes</span> object and returns a string.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2289" id="calibre_link-1157" class="calibre6">43</a>. This code iterates over every element in the XML, printing the element name and the text in between the element’s opening and closing tags.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2290" id="calibre_link-1158" class="calibre6">44</a>. This code iterates over every <span class="literal">&lt;number&gt;</span> element in the XML, printing the element name (<span class="literal">'number'</span>) and the text in between the <span class="literal">&lt;number&gt;</span> and <span class="literal">&lt;/number&gt;</span> tags.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2291" id="calibre_link-1159" class="calibre6">45</a>. The <span class="literal">text</span> attribute is set to <span class="literal">None</span>.</p></li>
</ol>
<p class="head">Fizz Buzz (CSV)</p>
<pre class="pre">import csv

csv_file = csv.writer(open('fizzBuzz.csv', 'w', newline=''))
row = []
for number in range(1, 10001):
&nbsp;&nbsp;&nbsp;&nbsp;# Figure out what the Fizz Buzz&nbsp;&nbsp;entry for this number is:
&nbsp;&nbsp;&nbsp;&nbsp;if number % 15 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row.append('Fizz Buzz')
&nbsp;&nbsp;&nbsp;&nbsp;elif number % 3 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row.append('Fizz')
&nbsp;&nbsp;&nbsp;&nbsp;elif number % 5 == 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row.append('Buzz')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row.append(number)

&nbsp;&nbsp;&nbsp;&nbsp;if len(row) == 10:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Once we have 10 entries, write them to a row:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csv_file.writerow(row)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row = []&nbsp;&nbsp;# Reset row to empty.</pre>
<p class="head">Guess the Number Statistics (CSV)</p>
<pre class="pre"># This is a guess the number game.
import random, csv
from pathlib import Path

if not Path('guessStats.csv').exists():
&nbsp;&nbsp;&nbsp;&nbsp;# The guessStats.csv file doesn't exist, so create it:
&nbsp;&nbsp;&nbsp;&nbsp;csv_file = csv.writer(open('guessStats.csv', 'w', newline=''))
&nbsp;&nbsp;&nbsp;&nbsp;csv_file.writerow(['Secret Number', 'Won', 'Attempts', 'Guess 1',
'Guess 2', 'Guess 3', 'Guess 4', 'Guess 5', 'Guess 6'])
else:
&nbsp;&nbsp;&nbsp;&nbsp;# The guessStats.csv file already exists, so just open it.
&nbsp;&nbsp;&nbsp;&nbsp;csv_file = csv.writer(open('guessStats.csv', 'a', newline=''))

# Record all the guesses in this list:
all_guesses = []

secret_number = random.randint(1, 20)<span role="doc-pagebreak" id="calibre_link-2881" aria-label="236"></span>
print('I am thinking of a number between 1 and 20.')

# Ask the player to guess 6 times.
for guesses_taken in range(1, 7):
&nbsp;&nbsp;&nbsp;&nbsp;print('Take a guess.')
&nbsp;&nbsp;&nbsp;&nbsp;guess = int(input('&gt;'))
&nbsp;&nbsp;&nbsp;&nbsp;# Record the guess:
&nbsp;&nbsp;&nbsp;&nbsp;all_guesses.append(guess)

&nbsp;&nbsp;&nbsp;&nbsp;if guess &lt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;elif guess &gt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break # This condition is the correct guess!

if guess == secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;print('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
&nbsp;&nbsp;&nbsp;&nbsp;# Create the list of values we'll store in the CSV file:
&nbsp;&nbsp;&nbsp;&nbsp;csv_row = [secret_number, True, guesses_taken] + all_guesses

&nbsp;&nbsp;&nbsp;&nbsp;csv_file.writerow(csv_row)
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('Nope. The number was ' + str(secret_number))
&nbsp;&nbsp;&nbsp;&nbsp;csv_file.writerow([secret_number, False, guesses_taken] + all_guesses])</pre>
<p class="head">Guess the Number Statistics (JSON)</p>
<pre class="pre"># This is a guess the number game.
import random, json
from pathlib import Path

if not Path('guessStats.json').exists():
&nbsp;&nbsp;&nbsp;&nbsp;# Start with a blank stats list:
&nbsp;&nbsp;&nbsp;&nbsp;stats = []
else:
&nbsp;&nbsp;&nbsp;&nbsp;# guessStats.json already exists, so read in its data:
&nbsp;&nbsp;&nbsp;&nbsp;with open('guessStats.json', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stats = json.loads(file_obj.read())

secret_number = random.randint(1, 20)
print('I am thinking of a number between 1 and 20.')

game_stat = {'Secret Number': secret_number, 'Guesses': []}

# Ask the player to guess 6 times.
for guesses_taken in range(1, 7):
&nbsp;&nbsp;&nbsp;&nbsp;print('Take a guess.')
&nbsp;&nbsp;&nbsp;&nbsp;guess = int(input('&gt;'))
&nbsp;&nbsp;&nbsp;&nbsp;# Record the guess:
&nbsp;&nbsp;&nbsp;&nbsp;game_stat['Guesses'].append(guess)

&nbsp;&nbsp;&nbsp;&nbsp;if guess &lt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;elif guess &gt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break # This condition is the correct guess!<span role="doc-pagebreak" id="calibre_link-2882" aria-label="237"></span>
if guess == secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;print('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
&nbsp;&nbsp;&nbsp;&nbsp;game_stat['Won'] = True
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('Nope. The number was ' + str(secret_number))
&nbsp;&nbsp;&nbsp;&nbsp;game_stat['Won'] = False
stats.append(game_stat)

with open('guessStats.json', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(json.dumps(stats))</pre>
<p class="head">Guess the Number Statistics (XML)</p>
<pre class="pre"># This is a guess the number game.
import random
import xml.etree.ElementTree as ET
from pathlib import Path

if not Path('guessStats.xml').exists():
&nbsp;&nbsp;&nbsp;&nbsp;# Create a new guessStats.xml file:
&nbsp;&nbsp;&nbsp;&nbsp;stats_element = ET.Element('stats')
else:
&nbsp;&nbsp;&nbsp;&nbsp;# guessStats.xml already exists, so read in its data:
&nbsp;&nbsp;&nbsp;&nbsp;with open('guessStats.xml', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stats_element = ET.fromstring(file_obj.read())
game_element = ET.SubElement(stats_element, 'game')

secret_number = random.randint(1, 20)
print('I am thinking of a number between 1 and 20.')
# Record the secret number:
game_element.set('secret_number', str(secret_number))

# Ask the player to guess 6 times.
for guesses_taken in range(1, 7):
&nbsp;&nbsp;&nbsp;&nbsp;print('Take a guess.')
&nbsp;&nbsp;&nbsp;&nbsp;guess = int(input('&gt;'))
&nbsp;&nbsp;&nbsp;&nbsp;# Record the guess:
&nbsp;&nbsp;&nbsp;&nbsp;guess_element = ET.SubElement(game_element, 'guess')
&nbsp;&nbsp;&nbsp;&nbsp;guess_element.text = str(guess)

&nbsp;&nbsp;&nbsp;&nbsp;if guess &lt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too low.')
&nbsp;&nbsp;&nbsp;&nbsp;elif guess &gt; secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Your guess is too high.')
&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break # This condition is the correct guess!

if guess == secret_number:
&nbsp;&nbsp;&nbsp;&nbsp;print('Good job! You got it in ' + str(guesses_taken) + ' guesses!')
&nbsp;&nbsp;&nbsp;&nbsp;game_element.set('won', 'True')
else:
&nbsp;&nbsp;&nbsp;&nbsp;print('Nope. The number was ' + str(secret_number))
&nbsp;&nbsp;&nbsp;&nbsp;game_element.set('won', 'False')

# Write the root &lt;stats&gt; element out to guessStats.xml:
with open('guessStats.xml', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(ET.tostring(stats_element, encoding='utf-8').decode('utf-8'))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2883" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2884" aria-label="238" class="calibre1"></span>Chapter 19: Keeping Time, Scheduling Tasks, and Launching Programs</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2292" id="calibre_link-1160" class="calibre6">1</a>. The Unix epoch timestamp is in the UTC time zone.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2293" id="calibre_link-1161" class="calibre6">2</a>. The <span class="literal">time.ctime()</span> function returns a string of the current time, such as <span class="literal">'Tue Mar 17 11:05:45 2026'</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2294" id="calibre_link-1162" class="calibre6">3</a>. The <span class="literal">time.time()</span> function returns a float of the current time, such as <span class="literal">1773813875.3518236</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2295" id="calibre_link-1163" class="calibre6">4</a>. <span class="literal">time</span> is a module, and <span class="literal">time.time()</span> is a function call to the <span class="literal">time()</span> function inside the <span class="literal">time</span> module. (It’s also correct to refer to the <span class="literal">time.time()</span> function.)</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2296" id="calibre_link-1164" class="calibre6">5</a>. The expression <span class="literal">time.time() + 10</span> evaluates to a timestamp 10 seconds after the current time.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2297" id="calibre_link-1165" class="calibre6">6</a>. The expression <span class="literal">time.ctime(time.time() - 10)</span> evaluates to a timestamp 10 seconds ago.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2298" id="calibre_link-1166" class="calibre6">7</a>. Profiling code means measuring how long it takes to run. This can be helpful for finding performance bottlenecks or estimating how long processing a larger amount of data might take.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2299" id="calibre_link-1167" class="calibre6">8</a>. Calling <span class="literal">time.sleep(0.5)</span> will make your program pause its execution for one-half of a second.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2300" id="calibre_link-1168" class="calibre6">9</a>. The code <span class="literal">round(time.time())</span> returns the current time rounded to the nearest second.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2301" id="calibre_link-1169" class="calibre6">10</a>. The correct function call is <span class="literal">datetime.datetime.now()</span>, not <span class="literal">datetime.now()</span>. This is a bit confusing: The first <span class="literal">datetime</span> is a module, and the second is a data type in the <span class="literal">datetime</span> module, also named <span class="literal">datetime</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2302" id="calibre_link-1170" class="calibre6">11</a>. The expression <span class="literal">current_time.year</span> evaluates to an integer of the current year.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2303" id="calibre_link-1171" class="calibre6">12</a>. January 1, 1970, at 12:00 <span class="smallcaps">am</span>. This timestamp is also known as the Unix epoch.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2304" id="calibre_link-1172" class="calibre6">13</a>. <span class="literal">datetime.datetime</span> objects represent a moment in time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2305" id="calibre_link-1173" class="calibre6">14</a>. <span class="literal">datetime.timedelta</span> objects represent a duration of time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2306" id="calibre_link-1174" class="calibre6">15</a>. Because different months and years contain different numbers of days, hours, minutes, and seconds.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2307" id="calibre_link-1175" class="calibre6">16</a>. <span class="literal">datetime.timedelta(days=1000)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2308" id="calibre_link-1176" class="calibre6">17</a>. <span class="literal">datetime.timedelta(days=1000) * 2</span> or <span class="literal">datetime.timedelta(days=1000) + datetime.timedelta(days=1000)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2309" id="calibre_link-1177" class="calibre6">18</a>. <span role="doc-pagebreak" id="calibre_link-2885" aria-label="239"></span>Adding a <span class="literal">datetime.datetime</span> object to a <span class="literal">datetime.timedelta</span> object evaluates to a <span class="literal">datetime.datetime</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2310" id="calibre_link-1178" class="calibre6">19</a>. Adding a <span class="literal">datetime.timedelta</span> object to a <span class="literal">datetime.timedelta</span> object evaluates to a <span class="literal">datetime.timedelta</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2311" id="calibre_link-1179" class="calibre6">20</a>. The expression <span class="literal">timedelta(seconds=15) - timedelta(seconds=5) == timedelta(seconds=10)</span> evaluates to <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2312" id="calibre_link-1180" class="calibre6">21</a>. You cannot add a <span class="literal">timedelta</span> object to an integer, so this expression raises an exception.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2313" id="calibre_link-1181" class="calibre6">22</a>. The expression <span class="literal">datetime.timedelta(seconds=60) == datetime.timedelta(minutes=1)</span> evaluates to <span class="literal">True</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2314" id="calibre_link-1182" class="calibre6">23</a>. Format.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2315" id="calibre_link-1183" class="calibre6">24</a>. Parse.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2316" id="calibre_link-1184" class="calibre6">25</a>. <span class="literal">strptime()</span> takes a human-readable string of a date and time along with a string to parse it, then returns a <span class="literal">datetime.datetime</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2317" id="calibre_link-1185" class="calibre6">26</a>. <span class="literal">strftime()</span> returns a human-readable string of a date and time.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2318" id="calibre_link-1186" class="calibre6">27</a>. The code <span class="literal">datetime.datetime.strptime('26',&nbsp;&nbsp;'%y')</span> returns a <span class="literal">datetime</span> object with the year 2026.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2319" id="calibre_link-1187" class="calibre6">28</a>. The code <span class="literal">datetime.datetime.strptime('76',&nbsp;&nbsp;'%y')</span> returns a <span class="literal">datetime</span> object with the year 1976.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2320" id="calibre_link-1188" class="calibre6">29</a>. The code <span class="literal">datetime.datetime.strptime("October of '26", "%B of '%y")</span> returns <span class="literal">datetime.datetime(2026, 10, 1, 0, 0)</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2321" id="calibre_link-1189" class="calibre6">30</a>. The code <span class="literal">datetime.timedelta(days=0, hours=0, minutes=1, seconds=5).total_seconds()</span> returns <span class="literal">65.0</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2322" id="calibre_link-1190" class="calibre6">31</a>. A process is a running instance of a program. If you have a calculator program on your computer running multiple times, each of those instances is a separate process of the same program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2323" id="calibre_link-1191" class="calibre6">32</a>. The <span class="literal">subprocess.run()</span> function takes a list of strings representing the program to run and its command line arguments.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2324" id="calibre_link-1192" class="calibre6">33</a>. Unlike on Windows and Linux, on macOS you must run the <span class="literal">open</span> program followed by the program’s filepath; you can’t specify the filepath alone.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2325" id="calibre_link-1193" class="calibre6">34</a>. The <span class="literal">subprocess.Popen()</span> function launches a program and then immediately returns, while the <span class="literal">subprocess.run()</span> function launches a program and doesn’t return until the launched program quits.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2326" id="calibre_link-1194" class="calibre6">35</a>. The <span class="literal">poll()</span> method returns <span class="literal">None</span> if the launched program is still running.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2327" id="calibre_link-1195" class="calibre6">36</a>. The <span class="literal">poll()</span> method returns the integer exit code if the launched program has quit.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2328" id="calibre_link-1196" class="calibre6">37</a>. <span role="doc-pagebreak" id="calibre_link-2886" aria-label="240"></span>A program that quits without error has an exit code of <span class="literal">0</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2329" id="calibre_link-1197" class="calibre6">38</a>. The <span class="literal">kill()</span> method quits the launched program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2330" id="calibre_link-1198" class="calibre6">39</a>. The <span class="literal">wait()</span> method blocks and won’t return until the launched program has quit.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2331" id="calibre_link-1199" class="calibre6">40</a>. Run the <span class="literal">'start'</span> program and pass it <span class="literal">'hello.txt'</span> as a command line argument (and pass <span class="literal">shell=True</span>): <span class="literal">subprocess.run(['start', 'hello</span><span class="literal">.txt'], shell=True)</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2332" id="calibre_link-1200" class="calibre6">41</a>. Run the <span class="literal">'open'</span> program and pass it <span class="literal">'hello.txt'</span> as a command line argument: <span class="literal">subprocess.run(['open', 'hello.txt'])</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2333" id="calibre_link-1201" class="calibre6">42</a>. <span class="literal">subprocess.run(['python', 'spam.py'])</span> (or <span class="literal">'python3'</span> on macOS and Linux)</p></li>
</ol>
<p class="head">Alarm with Sound</p>
<pre class="pre">import subprocess, datetime, time
from pathlib import Path

def alarm_with_audio(alarm_time, audio_filename):
&nbsp;&nbsp;&nbsp;&nbsp;# Check to make sure that the audio file exists:
&nbsp;&nbsp;&nbsp;&nbsp;if not Path(audio_filename).exists():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise Exception('Cannot find file ' + str(audio_filename))

&nbsp;&nbsp;&nbsp;&nbsp;while datetime.datetime.now() &lt; alarm_time:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.1)&nbsp;&nbsp;# Pause a little before checking again.

&nbsp;&nbsp;&nbsp;&nbsp;# Windows version to play audio file:
&nbsp;&nbsp;&nbsp;&nbsp;subprocess.run(['start', audio_filename], shell=True)
&nbsp;&nbsp;&nbsp;&nbsp;# macOS/Linux version to play audio file:
&nbsp;&nbsp;&nbsp;&nbsp;#subprocess.run(['open', audio_filename])

# Set the alarm for 5 seconds from now:
alarm_with_audio(datetime.datetime.now() + datetime.timedelta(seconds=5), 'hello.wav')</pre>
<p class="head">Image Opener</p>
<pre class="pre">import subprocess, os
from pathlib import Path

def open_images_by_name(image_folder, name_match):
&nbsp;&nbsp;&nbsp;&nbsp;for filename in os.listdir(image_folder):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if filename.endswith('.jpg') or filename.endswith('.png') or
filename.endswith('.webp'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if name_match.lower() in filename.lower():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Windows version, open the image:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subprocess.run(['start', Path(image_folder) / filename],
shell=True)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# macOS/Linux version, open the image:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#subprocess.run(['open', Path(image_folder) / filename])

# Open images contains 'cat' in filename:
#open_images_by_name(r'C:\memes', 'cat')</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2887" aria-label="241"></span>“Next Holiday” Reporter</p>
<pre class="pre">import datetime

# This constant is the format for how the holiday data is given to us:
HOLIDAYS = {'October 31': 'Halloween', 'February 14': "Valentine's Day",
&nbsp;&nbsp;&nbsp;&nbsp;'April 1': "April Fool's Day", 'May 1': 'May Day',
&nbsp;&nbsp;&nbsp;&nbsp;'May 5': 'Cinco de Mayo'}

def next_holiday(from_date):
&nbsp;&nbsp;&nbsp;&nbsp;one_day = datetime.timedelta(days=1)

&nbsp;&nbsp;&nbsp;&nbsp;while True:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Convert the datetime object to a string.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# The day of the month must NOT have a leading 0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month = from_date.strftime('%B')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day = from_date.strftime('%d').lstrip('0')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month_day = month + ' ' + day

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# See if from_date is a holiday and return it:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if month_day in HOLIDAYS:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return HOLIDAYS[month_day]

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Move from_date forward by one day:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from_date += one_day

print('The next holiday starting from', datetime.datetime.now(), 'is:')
print(next_holiday(datetime.datetime.now()))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2888" type="title" class="h3a">Chapter 20: Sending Email, Texts, and Push Notifications</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2334" id="calibre_link-1202" class="calibre6">1</a>. You should revoke your credentials at the Google Cloud Console website if the credentials or token files for the Gmail API are inadvertently shared.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2335" id="calibre_link-1203" class="calibre6">2</a>. <span class="literal">ezgmail.EMAIL_ADDRESS</span> contains the email address you are sending email from.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2336" id="calibre_link-1204" class="calibre6">3</a>. This function call sends an email to <i class="calibre5"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="accdc0c5cfc9ecc9d4cdc1dcc0c982cfc3c1">[email&#160;protected]</a></i> with the subject “Hello!” and body “Here is that graduation photo.” It also attaches the file <i class="calibre5">grad.jpg</i> to the email.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2337" id="calibre_link-1205" class="calibre6">4</a>. A single received email is represented as a <span class="literal">GmailMessage</span> object.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2338" id="calibre_link-1206" class="calibre6">5</a>. A series of back-and-forth emails is represented as a <span class="literal">GmailThread</span> object.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2339" id="calibre_link-1207" class="calibre6">6</a>. <span class="literal">GmailMessage</span> objects have the attributes <span class="literal">subject</span>, <span class="literal">body</span>, <span class="literal">timestamp</span>, <span class="literal">sender</span>, and <span class="literal">recipient</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2340" id="calibre_link-1208" class="calibre6">7</a>. The function call <span class="literal">ezgmail.recent(maxResults=50)</span> returns the 50 most recent email threads. Without <span class="literal">maxResults=50</span>, the <span class="literal">ezgmail.recent()</span> function returns up to 25 emails by default.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2341" id="calibre_link-1209" class="calibre6">8</a>. <span role="doc-pagebreak" id="calibre_link-2889" aria-label="242"></span>The function call <span class="literal">ezgmail.search('cake recipes')</span> returns email messages that mention “cake recipes.”</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2342" id="calibre_link-1210" class="calibre6">9</a>. This function call returns email sent from the email address <i class="calibre5"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7d1c11141e183d18051c100d1118531e1210">[email&#160;protected]</a></i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2343" id="calibre_link-1211" class="calibre6">10</a>. This function call prints a summary of the unread email in the Gmail account, including the sender, subject, and timestamp information.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2344" id="calibre_link-1212" class="calibre6">11</a>. <span class="literal">spam.downloadAllAttachments()</span> downloads all of the file attachments in that email.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2345" id="calibre_link-1213" class="calibre6">12</a>. The downloaded attachment overwrites any existing files with the same name.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2346" id="calibre_link-1214" class="calibre6">13</a>. <i class="calibre5">SMS</i> stands for <i class="calibre5">Short Message Service</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2347" id="calibre_link-1215" class="calibre6">14</a>. <i class="calibre5">MMS</i> stands for <i class="calibre5">Multimedia Messaging Service</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2348" id="calibre_link-1216" class="calibre6">15</a>. Yes. However, this isn’t a reliable way to send text messages.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2349" id="calibre_link-1217" class="calibre6">16</a>. No. You cannot receive text messages this way.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2350" id="calibre_link-1218" class="calibre6">17</a>. You must know the recipient’s cellular service provider in addition to the recipient’s phone number.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2351" id="calibre_link-1219" class="calibre6">18</a>. SMS email gateways are free to use, but they are an unreliable way to send text messages.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2352" id="calibre_link-1220" class="calibre6">19</a>. Disadvantages of using SMS email gateways include requiring you to know the recipient’s cellular service provider, not knowing if a text message has been sent, not knowing if a text message has been delayed, not knowing how many text messages can be sent before your program is blocked, and not knowing if the gateway will still work in the future.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2353" id="calibre_link-1221" class="calibre6">20</a>. The book uses <span class="literal">requests</span> for interacting with the ntfy service, but any module that can make HTTP requests will work.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2354" id="calibre_link-1222" class="calibre6">21</a>. You can receive ntfy notifications on your smartphone using the free ntfy Android or iOS app.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2355" id="calibre_link-1223" class="calibre6">22</a>. Yes, you can receive ntfy notifications on your laptop by going to the <i class="calibre5"><a href="https://ntfy.sh" class="calibre6">https://ntfy.sh</a></i> website.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2356" id="calibre_link-1224" class="calibre6">23</a>. The ntfy service uses HTTPS to send and receive push notifications.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2357" id="calibre_link-1225" class="calibre6">24</a>. The <span class="literal">requests.post()</span> function sends a push notification to the ntfy service.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2358" id="calibre_link-1226" class="calibre6">25</a>. The ntfy service is free to use for low volumes of notifications. You can also run your own ntfy server for unlimited notifications.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2359" id="calibre_link-1227" class="calibre6">26</a>. The lowest priority level is 1 and the highest priority level is 5.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2360" id="calibre_link-1228" class="calibre6">27</a>. <span role="doc-pagebreak" id="calibre_link-2890" aria-label="243"></span>This code posts a notification for the topic <span class="literal">'hello'</span> with the message <span class="literal">'goodbye'</span> to the public ntfy server at <i class="calibre5"><a href="https://ntfy.sh" class="calibre6">https://ntfy.sh</a></i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2361" id="calibre_link-1229" class="calibre6">28</a>. Keyword arguments for the <span class="literal">headers</span> parameter in <span class="literal">requests.post()</span> can set the notification title, priority level, and tags.</p></li>
</ol>
<p class="head">“Quote of the Day” Email</p>
<pre class="pre">import ezgmail, datetime, sys, random
from pathlib import Path

RECIPIENT = '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3e5f4d495b57595f4c4a7e59535f5752105d5153">[email&#160;protected]</a>'

# If qotdLastSent.txt doesn't exist, make a blank file:
if not Path('qotdLastSent.txt').exists():
&nbsp;&nbsp;&nbsp;&nbsp;with open('qotdLastSent.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass&nbsp;&nbsp;# Do nothing, just create a blank file.

# Open qotdLastSent.txt to see if an email was already sent today:
with open('qotdLastSent.txt', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;contents = file_obj.read()
if contents == str(datetime.date.today()):
&nbsp;&nbsp;&nbsp;&nbsp;# Don't send an email and exit the program:
&nbsp;&nbsp;&nbsp;&nbsp;print('Email already sent today. Exiting...')
&nbsp;&nbsp;&nbsp;&nbsp;sys.exit()

# Open the quote-of-the-day file and randomly select a quote:
with open('qotd.txt', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;quotes = file_obj.readlines()

quote = random.choice(quotes)
ezgmail.send(RECIPIENT, 'Quote of the day', quote)
print(f'Email sent to {RECIPIENT}: {quote}')

# Open qotdLastSent.txt and write today's date:
with open('qotdLastSent.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(str(datetime.date.today()))</pre>
<p class="head">“Quote of the Day” Push Notification</p>
<pre class="pre">import requests, datetime, sys, random
from pathlib import Path

TOPIC = 'qotd-test-py'

# If qotdLastSent.txt doesn't exist, make a blank file:
if not Path('qotdLastSent.txt').exists():
&nbsp;&nbsp;&nbsp;&nbsp;with open('qotdLastSent.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass&nbsp;&nbsp;# Do nothing, just create a blank file.

# Open qotdLastSent.txt to see if an notification was already sent today:
with open('qotdLastSent.txt', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;contents = file_obj.read()
&nbsp;&nbsp;&nbsp;&nbsp;if contents == str(datetime.date.today()):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Don't send an notification and exit the program:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Notification already sent today. Exiting...')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys.exit()<span role="doc-pagebreak" id="calibre_link-2891" aria-label="244"></span>

# Open the quote-of-the-day file and randomly select a quote:
with open('qotd.txt', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;quotes = file_obj.readlines()

quote = random.choice(quotes)
requests.post(f'https://ntfy.sh/{TOPIC}', quote)
print(f'Notification sent to {TOPIC}: {quote}')

# Open qotdLastSent.txt and write today's date:
with open('qotdLastSent.txt', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(str(datetime.date.today()))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2892" type="title" class="h3a">Chapter 21: Making Graphs and Manipulating Images</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2362" id="calibre_link-1230" class="calibre6">1</a>. The red-green-blue-alpha tuple <span class="literal">(0, 255, 0, 0)</span> represents the color green.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2363" id="calibre_link-1231" class="calibre6">2</a>. The <i class="calibre5">A</i> in <i class="calibre5">RGBA</i>, which stands for <i class="calibre5">alpha</i>, represents how transparent the color is.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2364" id="calibre_link-1232" class="calibre6">3</a>. The function call <span class="literal">ImageColor.getcolor('chocolate', 'RGBA')</span> returns the RGBA value of the color “chocolate.”</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2365" id="calibre_link-1233" class="calibre6">4</a>. <span class="literal">list(ImageColor .colormap)</span> returns a list of all the color names in the Pillow library.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2366" id="calibre_link-1234" class="calibre6">5</a>. 0, 0 are the x- and y-coordinates of the origin.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2367" id="calibre_link-1235" class="calibre6">6</a>. The origin is in the top-left corner of an image.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2368" id="calibre_link-1236" class="calibre6">7</a>. <span class="literal">(128, 0, 128, 255)</span> is the RGBA tuple for the color purple.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2369" id="calibre_link-1237" class="calibre6">8</a>. The color white is represented by the tuple <span class="literal">(255, 255, 255, 255)</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2370" id="calibre_link-1238" class="calibre6">9</a>. The color black is represented by the tuple <span class="literal">(0, 0, 0, 255)</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2371" id="calibre_link-1239" class="calibre6">10</a>. 99, 99 is the coordinate for the pixel in the bottom-right corner. It is one less than the width and height, because the topmost and leftmost coordinates are 0, not 1.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2372" id="calibre_link-1240" class="calibre6">11</a>. A box tuple is a tuple of four integers corresponding to the left, top, right, and bottom edges of a rectangular area. The right and bottom coordinates are one pixel greater than the right and bottom edges of the area (similar to how <span class="literal">range(10)</span> goes up to but does not include <span class="literal">10</span>).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2373" id="calibre_link-1241" class="calibre6">12</a>. Subtract the right edge from the left edge in a box tuple to calculate the width.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2374" id="calibre_link-1242" class="calibre6">13</a>. The width is 5 and the height is 10.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2375" id="calibre_link-1243" class="calibre6">14</a>. <span role="doc-pagebreak" id="calibre_link-2893" aria-label="245"></span>While the package name is “Pillow,” the module name is <span class="literal">PIL</span>, so you must run <span class="literal">from PIL import Image</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2376" id="calibre_link-1244" class="calibre6">15</a>. Yes. Pillow can read images in the <i class="calibre5">.png</i>, <i class="calibre5">.jpg</i>, and <i class="calibre5">.gif</i> formats.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2377" id="calibre_link-1245" class="calibre6">16</a>. The <span class="literal">Image.open()</span> function returns an <span class="literal">Image</span> object of an image file on your computer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2378" id="calibre_link-1246" class="calibre6">17</a>. The <span class="literal">show()</span> method opens an <span class="literal">Image</span> object in the default image-viewing app on your computer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2379" id="calibre_link-1247" class="calibre6">18</a>. The function call <span class="literal">Image.new('RGBA', (100,100), 'purple').show()</span> creates a 100×100 image with a purple background and then displays it in the default image-viewing app on your computer.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2380" id="calibre_link-1248" class="calibre6">19</a>. The code <span class="literal">im = Image.open('zophie.png')</span> and <span class="literal">im.size</span> gives you the width and height of the image in pixels.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2381" id="calibre_link-1249" class="calibre6">20</a>. <span class="literal">im.crop((345, 355, 565, 560))</span> is correct; the method expects a box tuple argument and not four separate integer arguments.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2382" id="calibre_link-1250" class="calibre6">21</a>. No. The <span class="literal">crop()</span> method returns a new <span class="literal">Image</span> object. It doesn’t change the <span class="literal">Image</span> object it was called on.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2383" id="calibre_link-1251" class="calibre6">22</a>. The <span class="literal">copy()</span> method returns a copy of the image as a new <span class="literal">Image</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2384" id="calibre_link-1252" class="calibre6">23</a>. No. The <span class="literal">copy()</span> method takes no arguments at all. To get a copy of just a portion of the image, call the <span class="literal">crop()</span> method on the <span class="literal">Image</span> object that <span class="literal">copy()</span> returned.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2385" id="calibre_link-1253" class="calibre6">24</a>. This method call returns a new <span class="literal">Image</span> object with the <span class="literal">face_im</span> image in the top-left corner of the <span class="literal">cat_im</span> image.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2386" id="calibre_link-1254" class="calibre6">25</a>. No. You must pass <span class="literal">face_im</span> as a third argument to <span class="literal">paste()</span>, or else the transparent pixels will show up as opaque white pixels.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2387" id="calibre_link-1255" class="calibre6">26</a>. The correct method call is <span class="literal">im.resize((im.width * 2, im.height * 2))</span>, which passes the new dimensions as an exact number of pixels, not as an amount proportional to the current size.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2388" id="calibre_link-1256" class="calibre6">27</a>. No. The <span class="literal">resize()</span> method returns a new <span class="literal">Image</span> object. It doesn’t change the <span class="literal">Image</span> object it was called on.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2389" id="calibre_link-1257" class="calibre6">28</a>. <span class="literal">im.transpose(Image.FLIP_LEFT_RIGHT)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2390" id="calibre_link-1258" class="calibre6">29</a>. <span class="literal">im.transpose(Image.FLIP_TOP_BOTTOM)</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2391" id="calibre_link-1259" class="calibre6">30</a>. No. They do not produce the same image. The rotated image will be upside down.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2392" id="calibre_link-1260" class="calibre6">31</a>. The image rotated 90 degrees will be 100×200. If you didn’t pass <span class="literal">expand=True</span> in the method call, however, the rotated image will be the original size, 200×100.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2393" id="calibre_link-1261" class="calibre6">32</a>. The image rotated 180 degrees will be 200×100.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2394" id="calibre_link-1262" class="calibre6">33</a>. <span role="doc-pagebreak" id="calibre_link-2894" aria-label="246"></span>The image rotated 45 degrees will be 200×100, because the <span class="literal">expand=True</span> keyword argument wasn’t passed to the method call, so the image maintains its original size.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2395" id="calibre_link-1263" class="calibre6">34</a>. The rotated image will be larger, because the <span class="literal">expand=True</span> keyword argument was passed to the method call.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2396" id="calibre_link-1264" class="calibre6">35</a>. The <span class="literal">getpixel()</span> method returns the color of a single pixel.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2397" id="calibre_link-1265" class="calibre6">36</a>. No. The <span class="literal">putpixel()</span> method modifies the <span class="literal">Image</span> object in place and returns <span class="literal">None</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2398" id="calibre_link-1266" class="calibre6">37</a>. This code draws a 100×100 image of a blue square with a red border.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2399" id="calibre_link-1267" class="calibre6">38</a>. The following code draws a 100×100 image that is green on the top half and yellow on the bottom half by first drawing a green square and then filling in the bottom half with yellow:</p>
<pre class="calibre16">from PIL import Image

# Make a green square:
im = Image.new('RGBA', (100, 100), 'green')

for x in range(100):
&nbsp;&nbsp;&nbsp;&nbsp;# Make the bottom half yellow:
&nbsp;&nbsp;&nbsp;&nbsp;for y in range(50, 100):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;im.putpixel((x, y), (255, 255, 0, 255))
im.show()</pre>
<p class="indent">And this program does the same thing by first drawing a yellow square, then filling in the top half with green:</p>
<pre class="calibre16">from PIL import Image

# Make a yellow square:
im = Image.new('RGBA', (100, 100), (255, 255, 0, 255))

for x in range(100):
&nbsp;&nbsp;&nbsp;&nbsp;# Make the top half green:
&nbsp;&nbsp;&nbsp;&nbsp;for y in range(50):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;im.putpixel((x, y), (0, 255, 0, 255))
im.show()</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2400" id="calibre_link-1268" class="calibre6">39</a>. <span class="literal">from PIL import ImageDraw</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2401" id="calibre_link-1269" class="calibre6">40</a>. <span class="literal">ImageDraw.Draw(im)</span> returns an <span class="literal">ImageDraw</span> object for <span class="literal">im</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2402" id="calibre_link-1270" class="calibre6">41</a>. The <span class="literal">ellipse()</span> method draws a circle if you pass it a box tuple representing a square, with an equal width and height.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2403" id="calibre_link-1271" class="calibre6">42</a>. The <span class="literal">rectangle()</span> method draws a square if you pass it a box tuple representing a square, with an equal width and height.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2404" id="calibre_link-1272" class="calibre6">43</a>. That method call draws two lines: one from 10, 10 to 20, 20 and a second one from 20, 20 to 40, 60.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2405" id="calibre_link-1273" class="calibre6">44</a>. <span role="doc-pagebreak" id="calibre_link-2895" aria-label="247"></span>The <span class="literal">polygon()</span> method can draw a diamond shape. For example, <span class="literal">draw.polygon([50, 0, 100, 50, 50, 100, 0, 50], (0, 0, 0, 255))</span> draws a black diamond on an <span class="literal">Image</span> object that is at least 100×100 in size.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2406" id="calibre_link-1274" class="calibre6">45</a>. The <span class="literal">(20, 150)</span> argument is the coordinate pair for the top-left coordinates of the text, the <span class="literal">'Hello'</span> is the text to draw, and the <span class="literal">fill='purple'</span> is the color to use for the text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2407" id="calibre_link-1275" class="calibre6">46</a>. The method call uses the default font, as it doesn’t specify a <span class="literal">font</span> keyword argument.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2408" id="calibre_link-1276" class="calibre6">47</a>. The function call <span class="literal">ImageFont.truetype('no_such_font.ttf', 32)</span> raises an <span class="literal">OSError: cannot open resource</span> error.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2409" id="calibre_link-1277" class="calibre6">48</a>. This code creates a 1,000×1,000 image that says “Hello” in black text on a white background:</p>
<pre class="calibre16">from PIL import Image, ImageDraw
im = Image.new('RGBA', (100, 100), 'white')
draw = ImageDraw.Draw(im)
draw.text((0, 0), 'Hello', fill='black')
im = im.resize((1000, 1000))</pre>
<p class="indent">Your code may be slightly different but is considered correct so long as it produces a similar <span class="literal">Image</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2410" id="calibre_link-1278" class="calibre6">49</a>. Yes. <span class="literal">pyperclipimg</span> requires Pillow to be installed. (Installing the pyperclipimg package will automatically install Pillow too.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2411" id="calibre_link-1279" class="calibre6">50</a>. The code <span class="literal">pyperclipimg.paste().show()</span> displays the image currently on the clipboard.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2412" id="calibre_link-1280" class="calibre6">51</a>. The <span class="literal">pyperclipimg.paste()</span> function returns a Pillow <span class="literal">Image</span> object.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2413" id="calibre_link-1281" class="calibre6">52</a>. The <span class="literal">pyperclipimg.paste()</span> function returns the <span class="literal">None</span> value if the clipboard contains text and not an image.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2414" id="calibre_link-1282" class="calibre6">53</a>. The code <span class="literal">pyperclipimg.copy(pyperclipimg.paste().resize((100, 100)))</span> resizes the image on the clipboard to 100×100 and then copies it as the new image on the clipboard. You can run <span class="literal">pyperclipimg.paste().show()</span> to view this new image.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2415" id="calibre_link-1283" class="calibre6">54</a>. The code <span class="literal">pyperclipimg.paste().save('contents.png')</span> saves the image currently on the clipboard as a file named <i class="calibre5">contents.png</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2416" id="calibre_link-1284" class="calibre6">55</a>. <span class="literal">import matplotlib.pyplot as plt</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2417" id="calibre_link-1285" class="calibre6">56</a>. Three points.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2418" id="calibre_link-1286" class="calibre6">57</a>. The code <span class="literal">plt.plot([10, 20, 30], [10, 5, 40])</span> creates a plot with points connected by lines.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2419" id="calibre_link-1287" class="calibre6">58</a>. A scatter plot.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2420" id="calibre_link-1288" class="calibre6">59</a>. <span class="literal">plt.savefig('plot.png')</span> saves the plot as an image file.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2421" id="calibre_link-1289" class="calibre6">60</a>. <span role="doc-pagebreak" id="calibre_link-2896" aria-label="248"></span>The two arguments to <span class="literal">plt.bar()</span> are a list of string categories and a list of integer or floating-point values. The lists must have the same number of items.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2422" id="calibre_link-1290" class="calibre6">61</a>. The <span class="literal">plt.xlabel()</span> and <span class="literal">plt.ylabel()</span> functions add labels to the x-axis and y-axis, respectively.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2423" id="calibre_link-1291" class="calibre6">62</a>. <span class="literal">plt.grid(True)</span> adds grid lines to the background of a plot.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2424" id="calibre_link-1292" class="calibre6">63</a>. The <span class="literal">plt.show()</span> function displays an interactive preview window of a plot.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2425" id="calibre_link-1293" class="calibre6">64</a>. This code displays an interactive preview window of a pie chart with two sections, one labeled “Part that looks like Pacman” and the other labeled “Part that does not look like Pacman.” The pie chart does kind of look like Pacman.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2426" id="calibre_link-1294" class="calibre6">65</a>. The code <span class="literal">plt.title('The plot thickens.')</span> adds a title to the top of the plot.</p></li>
</ol>
<p class="head">Snowpal Image</p>
<pre class="pre">from PIL import Image, ImageDraw

# Start with a 1000 x 1000 white image:
im = Image.new('RGBA', (1000, 1000), 'white')
draw = ImageDraw.Draw(im)

# Draw a blue sky:
SKY_COLOR = (150, 240, 255, 255)
draw.rectangle((0, 0, 1000, 700), SKY_COLOR)

# Draw three ellipses for the body:
SNOWPAL_FILL = (255, 255, 255, 255)
SNOWPAL_OUTLINE = (0, 0, 0, 255)
draw.ellipse((400, 300, 650, 500), SNOWPAL_FILL, SNOWPAL_OUTLINE, 10)
draw.ellipse((380, 450, 670, 700), SNOWPAL_FILL, SNOWPAL_OUTLINE, 10)
draw.ellipse((360, 650, 690, 900), SNOWPAL_FILL, SNOWPAL_OUTLINE, 10)

# Draw two rectangles for the top hat:
TOP_HAT_COLOR = (0, 0, 0, 255)
draw.rectangle((450, 150, 600, 350), TOP_HAT_COLOR)
draw.rectangle((350, 320, 700, 350), TOP_HAT_COLOR)

# Draw two lines for the arms:
ARM_COLOR = (160, 82, 45, 255)
draw.line([400, 550, 300, 400], ARM_COLOR, 10)
draw.line([650, 520, 850, 400], ARM_COLOR, 10)

im.show()</pre>
<p class="head"><span role="doc-pagebreak" id="calibre_link-2897" aria-label="249"></span>Rainbow Flag Image Generator</p>
<pre class="pre">from PIL import Image, ImageDraw

def create_rainbow_flag(width, height):
&nbsp;&nbsp;&nbsp;&nbsp;# Create a blank image with the given size:
&nbsp;&nbsp;&nbsp;&nbsp;flag_im = Image.new('RGBA', (width, height))

&nbsp;&nbsp;&nbsp;&nbsp;# Create the ImageDraw object of the blank image:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw = ImageDraw.Draw(flag_im)

&nbsp;&nbsp;&nbsp;&nbsp;# Calculate the height of each stripe:
&nbsp;&nbsp;&nbsp;&nbsp;stripe_height = int(height / 6)

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the red stripe at the top of the image:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, 0, width, stripe_height), 'red')

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the orange stripe below the red stripe:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, stripe_height, width, stripe_height * 2), 'orange')

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the yellow stripe below the orange stripe:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, stripe_height * 2, width, stripe_height * 3), 'yellow')

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the green stripe below the yellow stripe:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, stripe_height * 3, width, stripe_height * 4), 'green')

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the blue stripe below the green stripe:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, stripe_height * 4, width, stripe_height * 5), 'blue')

&nbsp;&nbsp;&nbsp;&nbsp;# Draw the purple stripe below the blue stripe:
&nbsp;&nbsp;&nbsp;&nbsp;flag_draw.rectangle((0, stripe_height * 5, width, height), 'purple')

&nbsp;&nbsp;&nbsp;&nbsp;return flag_im

im = create_rainbow_flag(640, 480)
im.show()</pre>
<p class="head">Clipboard Image Recorder</p>
<pre class="pre">import pyperclipimg, time, datetime
print('Recording clipboard images... (Ctrl-C to stop)')
previous_content = None
try:
&nbsp;&nbsp;&nbsp;&nbsp;while True:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content = pyperclipimg.paste()&nbsp;&nbsp;# Get clipboard contents.

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if content != previous_content and content != None:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# If it's different from the previous, save it:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename = f'clipboard-{str(datetime.datetime.now()).replace(":", "_")}.png'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content.save(filename)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f'Saved {filename}')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;previous_content = content

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.01)&nbsp;&nbsp;# Pause to avoid hogging the CPU.
except KeyboardInterrupt:
&nbsp;&nbsp;&nbsp;&nbsp;pass</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2898" type="title" class="h3a"><span role="doc-pagebreak" id="calibre_link-2899" aria-label="250" class="calibre1"></span>Chapter 22: Recognizing Text in Images</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2427" id="calibre_link-1295" class="calibre6">1</a>. Tesseract is the actual OCR engine, and PyTesseract is the Python package that works with Tesseract.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2428" id="calibre_link-1296" class="calibre6">2</a>. No. Your Python scripts require both PyTesseract and Tesseract to be installed.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2429" id="calibre_link-1297" class="calibre6">3</a>. The <i class="calibre5">eng.traineddata</i> and <i class="calibre5">jpn.traineddata</i> files contain the language packs for English and Japanese, respectively.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2430" id="calibre_link-1298" class="calibre6">4</a>. No. Tesseract has different installation steps for Windows, macOS, and Linux.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2431" id="calibre_link-1299" class="calibre6">5</a>. Yes. PyTesseract requires Pillow to be installed.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2432" id="calibre_link-1300" class="calibre6">6</a>. The <span class="literal">image_to_string()</span> function takes an <span class="literal">Image</span> object argument and returns a string of the text in that image.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2433" id="calibre_link-1301" class="calibre6">7</a>. No. PyTesseract cannot identify fonts, font sizes, and font colors. Tesseract returns only plaintext strings.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2434" id="calibre_link-1302" class="calibre6">8</a>. Yes. PyTesseract can extract text from a scanned document of typed text.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2435" id="calibre_link-1303" class="calibre6">9</a>. No. PyTesseract cannot extract text from a scanned document of handwritten text (or, at least, not with any degree of reliability). That’s because the language pack models have been trained on typed text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2436" id="calibre_link-1304" class="calibre6">10</a>. No. PyTesseract cannot extract the text of a license plate (or any other text) from photographs. That’s because the language pack models have been trained on typed text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2437" id="calibre_link-1305" class="calibre6">11</a>. Yes. PyTesseract preserves the layout of text such as hyphenated words broken across lines.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2438" id="calibre_link-1306" class="calibre6">12</a>. LLMs are somewhat reliable at “cleaning up” the extracted text from PyTesseract, but this output always requires human review to confirm its accuracy.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2439" id="calibre_link-1307" class="calibre6">13</a>. Yes and no. While the spellchecker can identify incorrectly extracted words from PyTesseract, the spellchecker will also identify correctly extracted words misspelled in the original image.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2440" id="calibre_link-1308" class="calibre6">14</a>. No. The spellchecker does not identify correctly or incorrectly extracted numbers.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2441" id="calibre_link-1309" class="calibre6">15</a>. Tesseract identifies English characters by default.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2442" id="calibre_link-1310" class="calibre6">16</a>. The <span class="literal">get_languages()</span> function returns a list of all the languages that Tesseract supports.<span role="doc-pagebreak" id="calibre_link-2900" aria-label="251"></span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2443" id="calibre_link-1311" class="calibre6">17</a>. The <span class="literal">lang='jpn'</span> keyword argument makes the <span class="literal">image_to_string()</span> function recognize Japanese characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2444" id="calibre_link-1312" class="calibre6">18</a>. The <span class="literal">image_to_string()</span> function returns nonsense garbage text because it tries to interpret the Japanese characters as English characters.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2445" id="calibre_link-1313" class="calibre6">19</a>. The <span class="literal">lang='eng+jpn'</span> keyword argument makes the <span class="literal">image_to_string()</span> function recognize English and Japanese characters in the same document.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2446" id="calibre_link-1314" class="calibre6">20</a>. The NAPS2 app is free.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2447" id="calibre_link-1315" class="calibre6">21</a>. The NAPS2 app runs on Windows, macOS, and Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2448" id="calibre_link-1316" class="calibre6">22</a>. The <span class="literal">subprocess</span> module allows your Python programs to run the NAPS2 app.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2449" id="calibre_link-1317" class="calibre6">23</a>. The command line flag <span class="literal">-i</span> followed by <span class="literal">frankenstein.png</span> specifies the <i class="calibre5">frankenstein.png</i> image as the input to NAPS2.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2450" id="calibre_link-1318" class="calibre6">24</a>. The command line flag <span class="literal">-o</span> followed by <span class="literal">output.pdf</span> causes the NAPS2 app to output the PDF to a file named <i class="calibre5">output.pdf</i>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2451" id="calibre_link-1319" class="calibre6">25</a>. If you already have the English language pack installed for NAPS2, these command line flags do nothing. You should include them in case NAPS2 doesn’t already have the English language pack installed.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2452" id="calibre_link-1320" class="calibre6">26</a>. The command line flags <span class="literal">--install</span> followed by <span class="literal">ocr-jpn</span> installs the Japanese language pack for NAPS2.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2453" id="calibre_link-1321" class="calibre6">27</a>. The command line flag <span class="literal">-n</span> followed by <span class="literal">0</span> runs NAPS2 without requiring a flatbed scanner to perform any scans.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2454" id="calibre_link-1322" class="calibre6">28</a>. The command line flag <span class="literal">-i</span> followed by <span class="literal">page1.png;page2.png</span> causes NAPS2 to use the <i class="calibre5">page1.png</i> and <i class="calibre5">page2.png</i> image files as the inputs on which to perform OCR.</p></li>
</ol>
<p class="head">Searchable Web Comics</p>
<pre class="pre">import pytesseract as tess
import os, json

image_text = {}
# Go through all the files in the current working directory:
for filename in os.listdir('.'):
&nbsp;&nbsp;&nbsp;&nbsp;if not filename.endswith('.png'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-png files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;# Extract the text from the image:
&nbsp;&nbsp;&nbsp;&nbsp;print(f'{filename}...')
&nbsp;&nbsp;&nbsp;&nbsp;text = tess.image_to_string(Image.open(filename))
&nbsp;&nbsp;&nbsp;&nbsp;#print(text)&nbsp;&nbsp;# Uncomment to preview the text.
&nbsp;&nbsp;&nbsp;&nbsp;image_text[filename] = text<span role="doc-pagebreak" id="calibre_link-2901" aria-label="252"></span>
# Write the dictionary to a JSON file:
with open('imageText.json', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(json.dumps(image_text, indent=2))</pre>
<p class="head">Enhancing Text in Web Comics</p>
<pre class="pre">import pytesseract as tess
import os, json
from PIL import Image

image_text = {}
# Go through all the files in the current working directory:
for filename in os.listdir('.'):
&nbsp;&nbsp;&nbsp;&nbsp;if not filename.endswith('.png'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Skip non-png files:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue

&nbsp;&nbsp;&nbsp;&nbsp;# Enlarge the image and extract the text from it:
&nbsp;&nbsp;&nbsp;&nbsp;print(f'{filename}...')
&nbsp;&nbsp;&nbsp;&nbsp;im = Image.open(filename)
&nbsp;&nbsp;&nbsp;&nbsp;im = im.resize((im.width * 2, im.height * 2))
&nbsp;&nbsp;&nbsp;&nbsp;text = tess.image_to_string(im)
&nbsp;&nbsp;&nbsp;&nbsp;#print(text)&nbsp;&nbsp;# Uncomment to preview the text.
&nbsp;&nbsp;&nbsp;&nbsp;image_text[filename] = text

# Write the dictionary to a JSON file:
with open('imageTextEnlarged.json', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(json.dumps(image_text, indent=2))</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2902" type="title" class="h3a">Chapter 23: Controlling the Keyboard and Mouse</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2455" id="calibre_link-1323" class="calibre6">1</a>. While controlling the mouse, your program may have clicked other windows to put them into focus, keeping you from pressing <span class="smallcaps">ctrl</span>-C in the Python program’s window.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2456" id="calibre_link-1324" class="calibre6">2</a>. Slide the mouse cursor into one of the four corners of the screen to stop the Python program by raising the <span class="literal">pyautogui.FailSafeException</span> exception.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2457" id="calibre_link-1325" class="calibre6">3</a>. Setting <span class="literal">pyautogui.PAUSE</span> to <span class="literal">0.1</span> adds a 0.1-second delay after PyAuto GUI function calls.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2458" id="calibre_link-1326" class="calibre6">4</a>. The <span class="literal">pyautogui.FailSafeException</span> exception is raised if the mouse pointer is in one of the four corners of the screen.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2459" id="calibre_link-1327" class="calibre6">5</a>. The origin’s x- and y-coordinates are 0, 0.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2460" id="calibre_link-1328" class="calibre6">6</a>. The origin is the top-left corner of your screen.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2461" id="calibre_link-1329" class="calibre6">7</a>. The letter <i class="calibre5">x</i> represents the horizontal coordinate.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2462" id="calibre_link-1330" class="calibre6">8</a>. The letter <i class="calibre5">y</i> represents the vertical coordinate.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2463" id="calibre_link-1331" class="calibre6">9</a>. The y-coordinate increases as you move the mouse down the screen.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2464" id="calibre_link-1332" class="calibre6">10</a>. <span role="doc-pagebreak" id="calibre_link-2903" aria-label="253"></span>The x-coordinate doesn’t change as you move the mouse down the screen, because it is the horizontal coordinate.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2465" id="calibre_link-1333" class="calibre6">11</a>. The coordinate of the lower-right corner is 1919, 1079. (Coordinates behave similarly to the list indexes; the indexes of a list with five items are <span class="literal">0</span> through <span class="literal">4</span>.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2466" id="calibre_link-1334" class="calibre6">12</a>. The <span class="literal">pyautogui.size()</span> function returns the screen resolution as a <span class="literal">Size</span> named tuple value.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2467" id="calibre_link-1335" class="calibre6">13</a>. <span class="literal">screen_size[1]</span> evaluates to <span class="literal">1080</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2468" id="calibre_link-1336" class="calibre6">14</a>. <span class="literal">screen_size.height</span> evaluates to <span class="literal">1080</span>, the same as <span class="literal">screen_size[1]</span>. You can access the height by name or by integer index.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2469" id="calibre_link-1337" class="calibre6">15</a>. Call <span class="literal">pyautogui.moveTo(10, 20)</span> to move the mouse cursor to the coordinates 10, 20.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2470" id="calibre_link-1338" class="calibre6">16</a>. Call <span class="literal">pyautogui.moveTo(110, 220)</span> to move the mouse cursor to the coordinates 10, 20 within the window (and 110, 220 on the screen).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2471" id="calibre_link-1339" class="calibre6">17</a>. The mouse cursor doesn’t move left or right at all, because this function call moves the mouse cursor zero pixels horizontally.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2472" id="calibre_link-1340" class="calibre6">18</a>. The function call <span class="literal">pyautogui.move(-100, 0)</span> moves the mouse cursor left by 100 pixels because horizontal x-coordinates decrease as they move left.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2473" id="calibre_link-1341" class="calibre6">19</a>. The <span class="literal">pyautogui.moveTo()</span> function moves the cursor to the absolute coordinates on the screen, while the <span class="literal">pyautogui.move()</span> function moves the cursor relative to its current position.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2474" id="calibre_link-1342" class="calibre6">20</a>. Adding the <span class="literal">duration=0.25</span> keyword argument makes the mouse cursor move to its destination in one-quarter of a second, rather than instantly.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2475" id="calibre_link-1343" class="calibre6">21</a>. It would return <span class="literal">Point(310, 220)</span> because <span class="literal">pyautogui.move(10, 20)</span> moves the mouse cursor 10 pixels to the right and 20 pixels down relative to its current position.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2476" id="calibre_link-1344" class="calibre6">22</a>. It evaluates to <span class="literal">True</span>, because the index <span class="literal">0</span> and attribute <span class="literal">x</span> of the <span class="literal">Point</span> named tuple returned by <span class="literal">pyautogui.position()</span> are the same thing, as are the index <span class="literal">1</span> and attribute <span class="literal">y</span>. (This answer assumes you didn’t move the mouse cursor in between the two instructions.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2477" id="calibre_link-1345" class="calibre6">23</a>. The difference is that <span class="literal">pyautogui.click()</span> clicks the mouse at its current location, whereas <span class="literal">pyautogui.click(10, 20)</span> moves the mouse cursor to the coordinates 10, 20 and then clicks.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2478" id="calibre_link-1346" class="calibre6">24</a>. Pass the <span class="literal">button='right'</span> keyword argument to <span class="literal">pyautogui.click()</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2479" id="calibre_link-1347" class="calibre6">25</a>. The <span class="literal">pyautogui.drag()</span> and <span class="literal">pyautogui.dragTo()</span> functions hold down the left mouse button as they drag the mouse.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2480" id="calibre_link-1348" class="calibre6">26</a>. The active, or focused, window is the window that accepts keyboard input.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2481" id="calibre_link-1349" class="calibre6">27</a>. <span role="doc-pagebreak" id="calibre_link-2904" aria-label="254"></span>Calling <span class="literal">pyautogui.scroll(10)</span> scrolls the mouse wheel 10 units up. (What counts as one “unit” depends on your operating system.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2482" id="calibre_link-1350" class="calibre6">28</a>. Pass a negative integer to <span class="literal">pyautogui.scroll()</span> to scroll the mouse wheel down.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2483" id="calibre_link-1351" class="calibre6">29</a>. The MouseInfo app gives you the x- and y-coordinates and the RGB color information of the pixel where the mouse cursor is.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2484" id="calibre_link-1352" class="calibre6">30</a>. Call <span class="literal">pyautogui.mouseInfo()</span> to launch the MouseInfo app.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2485" id="calibre_link-1353" class="calibre6">31</a>. Launch the MouseInfo app and leave it in focus. Then, move the mouse over each of the 20 buttons, pressing F6 to record the x, y coordinate for each button in the MouseInfo app’s text field.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2486" id="calibre_link-1354" class="calibre6">32</a>. A screenshot is an image that contains the exact, pixel-perfect contents of the screen.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2487" id="calibre_link-1355" class="calibre6">33</a>. The Pillow module (covered in <a href="#calibre_link-29" class="calibre6">Chapter 21</a> of <i class="calibre5">Automate the Boring Stuff with Python</i>) provides the <span class="literal">Image</span> data type and handles screenshots for PyAutoGUI.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2488" id="calibre_link-1356" class="calibre6">34</a>. The <span class="literal">pyautogui.pixel()</span> function returns a tuple of three integers, ranging from <span class="literal">0</span> to <span class="literal">255</span>, for the red, green, blue (RGB) value of the pixel at the coordinates given.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2489" id="calibre_link-1357" class="calibre6">35</a>. No, because screenshots are fully opaque and never contain any alpha (transparency) values. The <span class="literal">pyautogui.pixel()</span> function returns RGB tuples, not RGBA tuples.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2490" id="calibre_link-1358" class="calibre6">36</a>. If your program is supposed to click, say, a button that has a known color, you can check that pixel’s color before clicking to have some assurance that the button is actually there. This can ensure that your program is doing what you intended it to do.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2491" id="calibre_link-1359" class="calibre6">37</a>. Call the <span class="literal">save()</span> method on the <span class="literal">Image</span> object with the string argument <span class="literal">'screenshot.png'</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2492" id="calibre_link-1360" class="calibre6">38</a>. You can call <span class="literal">pyautogui.screenshot()</span> while the button is visible on the screen to obtain an image of the screen, then crop the image in an image editing program.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2493" id="calibre_link-1361" class="calibre6">39</a>. Call <span class="literal">pyautogui.locateOnScreen('submit.png')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2494" id="calibre_link-1362" class="calibre6">40</a>. The <span class="literal">pyautogui.locateOnScreen()</span> function returns <span class="literal">Box</span> named tuples that contain four integers representing an area on the screen: the x- and y-coordinates of the top-left corner, the width, and the height.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2495" id="calibre_link-1363" class="calibre6">41</a>. No. The entire image passed to <span class="literal">pyautogui.locateOnScreen()</span> must appear on the screen, because the function does a pixel-perfect match.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2496" id="calibre_link-1364" class="calibre6">42</a>. If the image isn’t found, the function raises the <span class="literal">pyautogui.ImageNotFoundException</span> exception.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2497" id="calibre_link-1365" class="calibre6">43</a>. <span role="doc-pagebreak" id="calibre_link-2905" aria-label="255"></span>If the image appears multiple times on the screen, <span class="literal">pyautogui.locateOnScreen()</span> returns the first one it finds.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2498" id="calibre_link-1366" class="calibre6">44</a>. The code prints <span class="literal">'Found submit button on screen.'</span> three times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2499" id="calibre_link-1367" class="calibre6">45</a>. <span class="literal">win.title</span> would evaluate to a string of the window’s title bar text.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2500" id="calibre_link-1368" class="calibre6">46</a>. Calling <span class="literal">pyautogui.getAllWindows()</span> returns <span class="literal">Window</span> objects for all windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2501" id="calibre_link-1369" class="calibre6">47</a>. Calling <span class="literal">pyautogui.getWindowsWithTitle ('Notepad')</span> would return <span class="literal">Window</span> objects for instances of the Notepad app (as well as any other windows that coincidently had “Notepad” in their title).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2502" id="calibre_link-1370" class="calibre6">48</a>. Calling <span class="literal">pyautogui.getWindowsAt (100, 200)</span> would return <span class="literal">Window</span> objects for every window underneath the mouse cursor at coordinates 100, 200.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2503" id="calibre_link-1371" class="calibre6">49</a>. Changing the <span class="literal">top</span> or <span class="literal">left</span> attributes will move the window around the screen.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2504" id="calibre_link-1372" class="calibre6">50</a>. Changing the <span class="literal">width</span> or <span class="literal">height</span> attributes will resize the window.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2505" id="calibre_link-1373" class="calibre6">51</a>. The active or focused window receives the keyboard key presses.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2506" id="calibre_link-1374" class="calibre6">52</a>. <span class="literal">pyautogui.write('x' * 1000)</span> would simulate pressing the X key 1,000 times.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2507" id="calibre_link-1375" class="calibre6">53</a>. <span class="literal">pyautogui.write('leftleft')</span> enters the eight letters in the string <span class="literal">'leftleft'</span>, while <span class="literal">pyautogui.write(['left', 'left'])</span> does two presses of the left arrow key.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2508" id="calibre_link-1376" class="calibre6">54</a>. <span class="literal">pyautogui.KEYBOARD_KEYS</span> contains a list of strings of all the keyboard keys in PyAutoGUI.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2509" id="calibre_link-1377" class="calibre6">55</a>. While the <span class="literal">pyautogui.write('left')</span> function call enters the four letters in the word <i class="calibre5">left</i>, the <span class="literal">pyautogui.press('left')</span> function call simulates pressing the left arrow key once.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2510" id="calibre_link-1378" class="calibre6">56</a>. <span class="literal">pyautogui.hotkey('ctrl', 'c')</span></p></li>
</ol>
<p class="head">Jackson Pollock Bot</p>
<pre class="pre">import pyautogui
import random

print('Hover the mouse cursor at the top-left corner of the canvas...')
pyautogui.countdown(5)
left, top = pyautogui.position()
print('Top-left corner recorded as', left, top)

print('Hover the mouse cursor at the bottom-right corner of the canvas...')
pyautogui.countdown(5)
right, bottom = pyautogui.position()
print('Bottom-right corner recorded as', right, bottom)

for i in range(1, 31):<span role="doc-pagebreak" id="calibre_link-2906" aria-label="256"></span>
&nbsp;&nbsp;&nbsp;&nbsp;print('Stroke', i)
&nbsp;&nbsp;&nbsp;&nbsp;pyautogui.moveTo(random.randint(left, right), random.randint(top, bottom))
&nbsp;&nbsp;&nbsp;&nbsp;pyautogui.dragTo(random.randint(left, right), random.randint(top, bottom))</pre>
<p class="head">Mouse Movement Recorder</p>
<pre class="pre">import pyautogui, json

# Begin recording XY mouse positions to the positions list:
print('Recording mouse positions. Press Ctrl-C to quit.')
positions = []

try:
&nbsp;&nbsp;&nbsp;&nbsp;# Constantly record the positions of the mouse every one-tenth of a second.
&nbsp;&nbsp;&nbsp;&nbsp;while True:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positions.append(pyautogui.position())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyautogui.sleep(0.1)
except KeyboardInterrupt:
&nbsp;&nbsp;&nbsp;&nbsp;# When the user presses Ctrl-C, save the positions to a JSON file:
&nbsp;&nbsp;&nbsp;&nbsp;with open('mousePositions.json', 'w', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_obj.write(json.dumps(positions))
&nbsp;&nbsp;&nbsp;&nbsp;print(f'Done. {len(positions)} positions recorded.')</pre>
<p class="head">Mouse Movement Playback</p>
<pre class="pre">import pyautogui, json

# Read the mouse positions from a JSON file:
with open('mousePositions.json', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;positions = json.loads(file_obj.read())

# Move the mouse cursor to each position:
for pos in positions:
&nbsp;&nbsp;&nbsp;&nbsp;pyautogui.moveTo(pos[0], pos[1])
&nbsp;&nbsp;&nbsp;&nbsp;pyautogui.sleep(0.1)</pre>
</section>
<section>
<div class="calibre19"></div><h2 id="calibre_link-2907" type="title" class="h3a">Chapter 24: Text-to-Speech and Speech Recognition Engines</h2>
<p class="head">Answers to the Practice Questions</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-2511" id="calibre_link-1380" class="calibre6">1</a>. The acronym <i class="calibre5">tts</i> stands for <i class="calibre5">text-to-speech</i>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2512" id="calibre_link-1381" class="calibre6">2</a>. No. pyttsx3 uses your operating system’s built-in text-to-speech engine.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2513" id="calibre_link-1382" class="calibre6">3</a>. The <span class="literal">pyttsx3</span> module uses the operating system’s built-in text-to-speech system to play speech.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2514" id="calibre_link-1383" class="calibre6">4</a>. Call <span class="literal">pyttsx3.init()</span> to initialize the text-to-speech system.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2515" id="calibre_link-1384" class="calibre6">5</a>. No. The computer doesn’t say anything. You must also call <span class="literal">engine.runAndWait()</span>.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2516" id="calibre_link-1385" class="calibre6">6</a>. The WAV or <i class="calibre5">.wav</i> format.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2517" id="calibre_link-1386" class="calibre6">7</a>. <span role="doc-pagebreak" id="calibre_link-2908" aria-label="257"></span>The <span class="literal">'volume'</span>, <span class="literal">'rate'</span>, and <span class="literal">'voices'</span> properties.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2518" id="calibre_link-1387" class="calibre6">8</a>. This code sets the speech rate to 300 words per minute.</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-2519" id="calibre_link-1388" class="calibre6">9</a>. This code sets the volume to double the normal level.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2520" id="calibre_link-1389" class="calibre6">10</a>. <span class="literal">engine.save_to_file('Is it raining today?', 'raining.wav')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2521" id="calibre_link-1390" class="calibre6">11</a>. <span class="literal">engine.save_to_file('Hello. How are you doing?', 'hello.wav')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2522" id="calibre_link-1391" class="calibre6">12</a>. No. The voice used differs for each of the operating systems that pyttsx3 supports.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2523" id="calibre_link-1392" class="calibre6">13</a>. <span class="literal">openai-whisper</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2524" id="calibre_link-1393" class="calibre6">14</a>. The <span class="literal">load_model()</span> function loads the model you will use to transcribe the audio. You must call it before calling the <span class="literal">transcribe()</span> method.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2525" id="calibre_link-1394" class="calibre6">15</a>. The models are tiny, base, small, medium, and large-v3.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2526" id="calibre_link-1395" class="calibre6">16</a>. The tiny model.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2527" id="calibre_link-1396" class="calibre6">17</a>. The tiny model.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2528" id="calibre_link-1397" class="calibre6">18</a>. The large-v3 model.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2529" id="calibre_link-1398" class="calibre6">19</a>. The base model.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2530" id="calibre_link-1399" class="calibre6">20</a>. <span class="literal">model.transcribe('input.mp3')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2531" id="calibre_link-1400" class="calibre6">21</a>. <span class="literal">model.transcribe('input.mp3', language='Spanish')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2532" id="calibre_link-1401" class="calibre6">22</a>. Yes. Whisper inserts punctuation into the text it transcribes, but it may not be perfectly accurate.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2533" id="calibre_link-1402" class="calibre6">23</a>. Whisper can produce SubRip Subtitle files (with the <i class="calibre5">.srt</i> extension) and Video Text Tracks files (with the <i class="calibre5">.vtt</i> extension).</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2534" id="calibre_link-1403" class="calibre6">24</a>. <span class="literal">write_function = whisper.utils.get_writer('srt', '.')</span> and <span class="literal">write</span><span class="literal">_function(result, 'podcast')</span>.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2535" id="calibre_link-1404" class="calibre6">25</a>. No. Currently, Whisper can use only NVIDIA-brand GPUs to do speech recognition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2536" id="calibre_link-1405" class="calibre6">26</a>. <span class="literal">whisper.load_model('base', device='cuda')</span> loads the “base” model uses the GPU to do speech recognition.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2537" id="calibre_link-1406" class="calibre6">27</a>. The <i class="calibre5">.srt</i> and <i class="calibre5">.vtt</i> files contain timestamp information in addition to spoken words.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2538" id="calibre_link-1407" class="calibre6">28</a>. <i class="calibre5">SRT</i> stands for <i class="calibre5">SubRip Subtitle</i>. The name comes from SubRip, a free Windows program that could extract the subtitle text from the bottom of video files.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2539" id="calibre_link-1408" class="calibre6">29</a>. <i class="calibre5">VTT</i> stands for <i class="calibre5">Video Text Tracks</i>. The name was coined by the W3C standards committee, which created the format.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2540" id="calibre_link-1409" class="calibre6">30</a>. <span role="doc-pagebreak" id="calibre_link-2909" aria-label="258"></span>Whisper can also produce <i class="calibre5">.json</i> and <i class="calibre5">.tsv</i> files of subtitles.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2541" id="calibre_link-1410" class="calibre6">31</a>. This code produces a subtitle file named <i class="calibre5">subtitles.srt</i>:</p>
<pre class="calibre16">write_function = whisper.utils.get_writer('srt', '.')
write_function(result, 'subtitles')</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2542" id="calibre_link-1411" class="calibre6">32</a>. The column headings are “start,” “end,” and “text.”</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2543" id="calibre_link-1412" class="calibre6">33</a>. The module name is <span class="literal">yt_dlp</span>, with an underscore instead of a dash.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2544" id="calibre_link-1413" class="calibre6">34</a>. This code downloads the video:</p>
<pre class="calibre16">with yt_dlp.YoutubeDL() as ydl:
&nbsp;&nbsp;&nbsp;&nbsp;ydl.download(['https://www.youtube.com/watch?v=kSrnLbioN6w'])</pre></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2545" id="calibre_link-1414" class="calibre6">35</a>. The downloaded video’s filename is based on the title.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2546" id="calibre_link-1415" class="calibre6">36</a>. A <i class="calibre5">.m4a</i> file contains audio data.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-2547" id="calibre_link-1416" class="calibre6">37</a>. The <span class="literal">extract_info()</span> method returns video metadata.</p></li>
</ol>
<p class="head">Knock-Knock Jokes</p>
<pre class="pre">import pyttsx3
engine = pyttsx3.init()
voices = engine.getProperty('voices')

engine.setProperty('voice', voices[0].id)
engine.say('Knock knock.')
engine.runAndWait()

engine.setProperty('voice', voices[1].id)
engine.say('Who\'s there?')
engine.runAndWait()

engine.setProperty('voice', voices[0].id)
engine.say('Lettuce.')
engine.runAndWait()

engine.setProperty('voice', voices[1].id)
engine.say('Lettuce who?')
engine.runAndWait()

engine.setProperty('voice', voices[0].id)
engine.say('Lettuce in. It\'s cold out here.')
engine.runAndWait()</pre>
<p class="head">12 Days of Christmas</p>
<pre class="pre">import pyttsx3, time

engine = pyttsx3.init()

# Create the data structures for the verses:
days = ['first', 'second', 'third', 'fourth', 'fifth', 'sixth',
'seventh', 'eighth', 'ninth', 'tenth', 'eleventh', 'twelfth']<span role="doc-pagebreak" id="calibre_link-2910" aria-label="259"></span>
verses = ['And a partridge in a pear tree.', 'Two turtle doves,',
'Three French hens,', 'Four calling birds,', 'Five gold rings,',
'Six geese a-laying,', 'Seven swans a-swimming,', 'Eight maids
a-milking,', 'Nine ladies dancing,', 'Ten lords a-leaping,',
'Eleven pipers piping,', 'Twelve drummers drumming,']

# Hardcode the lyrics for the first day, since we don't want
# to say "And" before "a partridge in a pear tree":
print('On the first day of Christmas, my true love gave to me:')
engine.say('On the first day of Christmas, my true love gave to me:')
engine.runAndWait()
print('A partridge in a pear tree.')
engine.say('A partridge in a pear tree.')
engine.runAndWait()
time.sleep(2)

# Loop from days 2 through 12:
for final_day_index in range(1, 12):
&nbsp;&nbsp;&nbsp;&nbsp;# Say the start of the day's verses:
&nbsp;&nbsp;&nbsp;&nbsp;print(f'On the {days[final_day_index]} day of Christmas, my true
love gave to me:')
&nbsp;&nbsp;&nbsp;&nbsp;engine.say(f'On the {days[final_day_index]} day of Christmas, my
true love gave to me:')
&nbsp;&nbsp;&nbsp;&nbsp;engine.runAndWait()

&nbsp;&nbsp;&nbsp;&nbsp;# Run through all of the verses for the current day:
&nbsp;&nbsp;&nbsp;&nbsp;for day_index in range(final_day_index, -1, -1):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(verses[day_index])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine.say(verses[day_index])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine.runAndWait()
&nbsp;&nbsp;&nbsp;&nbsp;# Pause a bit before moving on to the next day's verses:
&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(2)</pre>
<p class="head">Podcast Word Search</p>
<pre class="pre">import whisper, srt, os

def find_in_audio(audio_filename, search_word):
&nbsp;&nbsp;&nbsp;&nbsp;# Convert search_word to lowercase for case-insensitive matching:
&nbsp;&nbsp;&nbsp;&nbsp;search_word = search_word.lower()

&nbsp;&nbsp;&nbsp;&nbsp;# Check if the subtitle file already exists:
&nbsp;&nbsp;&nbsp;&nbsp;if not os.path.exists(audio_filename[:-4] + '.srt'):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Transcribe the audio file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model = whisper.load_model('base')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = model.transcribe(audio_filename)

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Create the subtitle file:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_function = whisper.utils.get_writer('srt', '.')
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_function(result, audio_filename)

&nbsp;&nbsp;&nbsp;&nbsp;# Read in the text contents of the subtitle file:
&nbsp;&nbsp;&nbsp;&nbsp;with open(audio_filename[:-4] + '.srt', encoding='utf-8') as file_obj:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content = file_obj.read()

&nbsp;&nbsp;&nbsp;&nbsp;# Go through each subtitle and collect timestamps of matches:
&nbsp;&nbsp;&nbsp;&nbsp;found_timestamps = []<span role="doc-pagebreak" id="calibre_link-2911" aria-label="260"></span>
&nbsp;&nbsp;&nbsp;&nbsp;for subtitle in srt.parse(content):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if search_word in subtitle.content.lower():
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;found_timestamps.append(str(subtitle.start))

&nbsp;&nbsp;&nbsp;&nbsp;# Return the list of timestamps:
&nbsp;&nbsp;&nbsp;&nbsp;return found_timestamps

print(find_in_audio('DNA_lecture.mp3', 'amino'))<span role="doc-pagebreak" id="calibre_link-2912" aria-label="261"></span><span role="doc-pagebreak" id="calibre_link-2913" aria-label="262"></span></pre>
</section>
</section>
</div>






<script data-cfasync="false" src="../assets/inventwithpython.com/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"8bd877e77db3400e83e36e899a2ab1fd","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/appendixb.html' aria-label='Previous chapter'>&larr; Book Appendix B</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Answers</span><span class='atbs-nav-link atbs-nav-disabled'>End &rarr;</span></nav></body></html>