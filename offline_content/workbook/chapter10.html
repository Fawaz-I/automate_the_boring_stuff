<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="../assets/inventwithpython.com/automate3workbook/style.css" rel="stylesheet" type="text/css" /><title>Automate the Boring Stuff with Python Workbook: Projects and Exercises to Sharpen Your Python Skills</title></head><body><style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/chapter10.html' aria-label='Previous chapter'>&larr; Book Chapter 10</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Chapter 10</span><a class='atbs-nav-link' href='../book/chapter11.html' aria-label='Next chapter'>Book Chapter 11 &rarr;</a></nav>








<div class="calibre" id="calibre_link-18">
<section type="chapter" role="doc-chapter" aria-labelledby="ch10">
<h1 id="calibre_link-2665" type="title" class="h1ch"><span role="doc-pagebreak" id="calibre_link-2666" aria-label="69" class="calibre1"></span><span class="big">10</span><span class="break1"></span>READING AND WRITING FILES</h1>
<p class="noindent-c">Your Python programs can directly interact with the contents of text files. By saving and opening files, they can store the data they work with, then continue where they left off the next time you run them. Reading data from files on the hard drive also lets your programs process data from other applications.</p>
<aside type="sidebar" class="sidebar" aria-labelledby="side10" role="doc-example">
<section>
<h2 type="title" class="stitle" id="calibre_link-2667"><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000000.jpg" alt="A simple drawing of a light bulb." /> LEARNING OBJECTIVES</h2>
<ul class="b-bullet">
<li class="bull">Understand the filesystem, including how filenames and paths serve as addresses for files.</li>
<li class="bull">Know how Python represents filepaths, both as strings and using the <span class="literal">pathlib</span> module.</li>
<li class="bull">Read and write text files using <span class="literal">Path</span> methods and the <span class="literal">open()</span> function.</li>
<li class="bull">Be able to save Python data structures using shelf files and the <span class="literal">shelve</span> module.</li>
</ul>
</section>
</aside>
<section>
<h2 id="calibre_link-135" type="title" class="h"><span role="doc-pagebreak" id="calibre_link-2668" aria-label="70" class="calibre1"></span><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000005.jpg" alt="A grey circle with a white question mark at the center" /> Practice Questions</h2>
<p class="noindent">These questions test your understanding of how computer files and file-systems work, as well as how to read and write text data to these files.</p>
<section>
<h3 id="calibre_link-136" type="title" class="h1">Files and Filepaths</h3>
<p class="noindent">A file has two key properties: a filename (usually written as one word) and a path. The path specifies the location of a file on the computer. Your computer’s filesystem begins with a root folder that contains all other files and subfolders. Python’s <span class="literal">pathlib</span> module and <span class="literal">Path</span> objects represent filepaths and provide several methods for manipulating them.</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-750" id="calibre_link-1884" class="calibre6">1</a>. What is another term for <i class="calibre5">folder</i>?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-751" id="calibre_link-1885" class="calibre6">2</a>. What character separates folders and filenames on Windows?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-752" id="calibre_link-1886" class="calibre6">3</a>. What character separates folders and filenames on macOS and Linux?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-753" id="calibre_link-1887" class="calibre6">4</a>. What is a root folder?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-754" id="calibre_link-1888" class="calibre6">5</a>. What does an absolute filepath begin with?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-755" id="calibre_link-1889" class="calibre6">6</a>. What is a relative filepath relative to?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-756" id="calibre_link-1890" class="calibre6">7</a>. What common <span class="literal">import</span> statement lets your Python code use <span class="literal">Path</span> objects?</p></li>
</ol>
<p class="indent">For questions 8 through 10, determine what the expression evaluates to, then note whether it’s a relative or an absolute path.</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-757" id="calibre_link-1891" class="calibre6">8</a>. <span class="literal">Path('spam', 'bacon', 'eggs')</span></p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-758" id="calibre_link-1892" class="calibre6">9</a>. <span class="literal">Path('spam') / Path('bacon') / Path('eggs')</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-759" id="calibre_link-1893" class="calibre6">10</a>. <span class="literal">Path('spam') / 'bacon' / 'eggs'</span></p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-760" id="calibre_link-1894" class="calibre6">11</a>. Does <span class="literal">'spam' / 'bacon' / 'eggs'</span> evaluate to a <span class="literal">Path</span> object?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-761" id="calibre_link-1895" class="calibre6">12</a>. If the current working directory is <span class="literal">Path(r'C:\spam')</span>, what does <span class="literal">Path('eggs.txt')</span> refer to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-762" id="calibre_link-1896" class="calibre6">13</a>. Which function changes the Python program’s current working directory?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-763" id="calibre_link-1897" class="calibre6">14</a>. If the current working directory is <span class="literal">Path(r'C:\spam')</span>, what does <span class="literal">Path(r'..\eggs.txt')</span> refer to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-764" id="calibre_link-1898" class="calibre6">15</a>. If the current working directory is <span class="literal">Path(r'C:\spam')</span>, what does <span class="literal">Path.cwd()</span> refer to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-765" id="calibre_link-1899" class="calibre6">16</a>. What is the parent folder of <i class="calibre5">C:\spam\eggs.txt</i>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-766" id="calibre_link-1900" class="calibre6">17</a>. Write the code that gets a <span class="literal">Path()</span> object of the parent of the current working directory.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-767" id="calibre_link-1901" class="calibre6">18</a>. <span role="doc-pagebreak" id="calibre_link-2669" aria-label="71"></span>What do the <span class="literal">st_atime</span>, <span class="literal">st_ctime</span>, and <span class="literal">st_mtime</span> attributes of <span class="literal">stat_result</span> objects returned by the <span class="literal">stat()</span> method represent?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-768" id="calibre_link-1902" class="calibre6">19</a>. What does <span class="literal">*</span> mean in a glob pattern?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-769" id="calibre_link-1903" class="calibre6">20</a>. What does <span class="literal">?</span> mean in a glob pattern?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-770" id="calibre_link-1904" class="calibre6">21</a>. What do the <span class="literal">True</span> and <span class="literal">False</span> returned by the <span class="literal">exists()</span> method mean?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-771" id="calibre_link-1905" class="calibre6">22</a>. If the path represented by a <span class="literal">Path</span> object doesn’t exist, what do the <span class="literal">is_file()</span> and <span class="literal">is_dir()</span> methods return?</p></li>
</ol>
</section>
<section>
<h3 id="calibre_link-137" type="title" class="h1">The File Reading and Writing Process</h3>
<p class="noindent">Plaintext files contain only basic text characters and don’t include font, size, or color information. The <span class="literal">pathlib</span> module’s <span class="literal">read_text()</span> method returns the full contents of a text file as a string. Its <span class="literal">write_text()</span> method creates a new text file (or overwrites an existing one) with the string passed to it. Answer the following questions about reading and writing strings with plaintext files.</p>
<ol class="order">
<li class="calibre15"><p class="number1"><a href="#calibre_link-772" id="calibre_link-1906" class="calibre6">23</a>. Does the text in a plaintext file have font, size, and/or color information?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-773" id="calibre_link-1907" class="calibre6">24</a>. Are PDFs and spreadsheet files examples of plaintext files or binary files?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-774" id="calibre_link-1908" class="calibre6">25</a>. What code returns a string of the <span class="literal">Path('eggs.txt')</span> object’s plaintext file contents?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-775" id="calibre_link-1909" class="calibre6">26</a>. If the <i class="calibre5">eggs.txt</i> file already contains the plaintext <span class="literal">'Hello'</span>, what does it contain after running <span class="literal">Path('eggs.txt').write_text('Goodbye')</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-776" id="calibre_link-1910" class="calibre6">27</a>. What encoding do you almost certainly want to use when reading and writing plaintext files?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-777" id="calibre_link-1911" class="calibre6">28</a>. What mode does the code <span class="literal">open('eggs.txt', encoding='utf-8')</span> open the <i class="calibre5">eggs.txt</i> file in?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-778" id="calibre_link-1912" class="calibre6">29</a>. After running <span class="literal">file_obj = open('eggs.txt', encoding='utf-8')</span>, how do you get the plaintext contents of <i class="calibre5">eggs.txt</i> as a single string?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-779" id="calibre_link-1913" class="calibre6">30</a>. And how do you get the plaintext contents of <i class="calibre5">eggs.txt</i> as a list of strings (one string per line)?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-780" id="calibre_link-1914" class="calibre6">31</a>. The variable <span class="literal">contents</span> contains a string. What code would write this string to a file named <i class="calibre5">eggs.txt</i> using the <span class="literal">write_text()</span> method?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-781" id="calibre_link-1915" class="calibre6">32</a>. And what code would write this string to a file named <i class="calibre5">eggs.txt</i>? (Do not use the <span class="literal">write_text()</span> method.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-782" id="calibre_link-1916" class="calibre6">33</a>. A context manager is created by what kind of statement?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-783" id="calibre_link-1917" class="calibre6">34</a>. What is the benefit of using a context manager with the <span class="literal">open()</span> function instead of the <span class="literal">open()</span> function and <span class="literal">close()</span> method?</p></li>
</ol>
</section>
<section>
<h3 id="calibre_link-138" type="title" class="h1"><span role="doc-pagebreak" id="calibre_link-2670" aria-label="72" class="calibre1"></span>Saving Variables with the shelve Module</h3>
<p class="noindent">You can save variables in your Python programs to binary shelf files using the <span class="literal">shelve</span> module. Doing so lets your program restore that data to the variables the next time it is run. You can make changes to the shelf value as if it were a dictionary. Answer the following questions about the <span class="literal">shelve</span> module and shelf files.</p>
<ol class="order">
<li class="calibre15"><p class="number1"><a href="#calibre_link-784" id="calibre_link-1918" class="calibre6">35</a>. When calling <span class="literal">shelve.open()</span> to open a shelf file, do you need to specify the file extension?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-785" id="calibre_link-1919" class="calibre6">36</a>. What Python data structure is the shelf file similar to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-786" id="calibre_link-1920" class="calibre6">37</a>. What methods can you call on a <span class="literal">shelf</span> object to get its keys and values?</p></li>
</ol>
</section>
</section>
<section>
<h2 id="calibre_link-139" type="title" class="h"><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000002.jpg" alt="A simple drawing of a sharpened pencil." /> Practice Projects</h2>
<p class="noindent">For more practice manipulating files, try the following short projects.</p>
<section>
<h3 id="calibre_link-140" type="title" class="h1">Text File Combiner</h3>
<p class="noindent">Let’s create a function named <span class="literal">combine_two_text_files()</span> that can combine the contents of two text files. The function takes three arguments: two filenames of text files whose contents should be read, and the filename of a third text file in which to write the combined contents.</p>
<p class="indent">For example, if your function were named <span class="literal">combine_two_text_files()</span>, calling <span class="literal">combine_two_text_files('spam.txt', 'eggs.txt', 'output.txt')</span> would create a new file named <i class="calibre5">output.txt</i> with the contents of the <i class="calibre5">spam.txt</i> and <i class="calibre5">eggs.txt</i> files.</p>
<p class="indent">Save the function in a file named <i class="calibre5">textFileCombiner.py</i>.</p>
</section>
<section>
<h3 id="calibre_link-141" type="title" class="h1">Zigzag File</h3>
<p class="indent">The Zigzag program from <a href="#calibre_link-12" class="calibre6">Chapter 4</a> of <i class="calibre5">Automate the Boring Stuff with Python</i> prints a pattern like the following:</p>
<pre class="pre">********
 ********
&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;********
 ********
********
 ********
&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;********
&nbsp;&nbsp;&nbsp;&nbsp;********</pre>
<p class="indent"><span role="doc-pagebreak" id="calibre_link-2671" aria-label="73"></span>Your friend sees this and decides they’d like to make it their (very long) email signature or save it for some other use. Re-create this program, except add a function named <span class="literal">write_zigzag()</span> that writes the zigzag text to a file named <i class="calibre5">zigzag.txt</i> instead of printing it to the screen. This way, you can email the text file to your friend so that they can store it on their computer.</p>
<p class="indent">While the screen version goes on forever, your program should write only 1,000 lines of zigs and zags to the file. Remember to remove the <span class="literal">time.sleep()</span> call from the original Zigzag program, as you won’t need it for this project.</p>
<p class="indent">Save this program in a file named <i class="calibre5">zigZagFile.py</i>.</p>
</section>
<section>
<h3 id="calibre_link-142" type="title" class="h1">Rock, Paper, Scissors with Saved Games</h3>
<p class="noindent">The rock, paper, scissors game in <a href="#calibre_link-11" class="calibre6">Chapter 3</a> of <i class="calibre5">Automate the Boring Stuff with Python</i> records how many wins, losses, and ties the player has. But these stats are tracked only while the program is running. Using the <span class="literal">shelve</span> module, add the ability to save these stats and load them the next time the program runs.</p>
<p class="indent">Note that if the program has never previously saved the game stats, the wins, losses, and ties should all default to <span class="literal">0</span>. Otherwise, the program should load these numbers when it starts and update them after each game.</p>
<p class="indent">Save this program in a file named <i class="calibre5">rpsSaved.py</i>.<span role="doc-pagebreak" id="calibre_link-2672" aria-label="74"></span></p>
</section>
</section>
</section>
</div>






<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"8bd877e77db3400e83e36e899a2ab1fd","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/chapter10.html' aria-label='Previous chapter'>&larr; Book Chapter 10</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Chapter 10</span><a class='atbs-nav-link' href='../book/chapter11.html' aria-label='Next chapter'>Book Chapter 11 &rarr;</a></nav></body></html>