<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="../assets/inventwithpython.com/automate3workbook/style.css" rel="stylesheet" type="text/css" /><title>Automate the Boring Stuff with Python Workbook: Projects and Exercises to Sharpen Your Python Skills</title></head><body><style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/chapter19.html' aria-label='Previous chapter'>&larr; Book Chapter 19</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Chapter 19</span><a class='atbs-nav-link' href='../book/chapter20.html' aria-label='Next chapter'>Book Chapter 20 &rarr;</a></nav>





<div class="calibre" id="calibre_link-27">
<section type="chapter" role="doc-chapter" aria-labelledby="ch19">
<h1 id="calibre_link-2745" type="title" class="h1ch"><span role="doc-pagebreak" id="calibre_link-2746" aria-label="131" class="calibre1"></span><span class="big">19</span><span class="break1"></span>KEEPING TIME, SCHEDULING TASKS, AND LAUNCHING PROGRAMS</h1>
<p class="noindent-c">Clocks and calendars aren’t as straightforward as text and numeric data, but Python’s <span class="literal">time</span> and <span class="literal">datetime</span> modules make timestamps and date information easy to handle. Your computer’s clock can schedule programs to run code at some specified time and date or at regular intervals. By learning to leverage these features, you can make use of all the software available on your computer.</p>
<aside type="sidebar" class="sidebar" aria-labelledby="side19" role="doc-example">
<section>
<h2 type="title" class="stitle" id="calibre_link-2747"><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000000.jpg" alt="A simple drawing of a light bulb." /> LEARNING OBJECTIVES</h2>
<ul class="b-bullet">
<li class="bull">Understand how Python programs can access your computer’s system clock.</li>
<li class="bull">Use the <span class="literal">datetime</span> module to perform time- and calendar-related operations.</li>
<li class="bull">Learn how the <span class="literal">datetime</span> and <span class="literal">timedelta</span> data types represent durations and moments in time.</li>
<li class="bull">Run other programs from your Python script, either immediately or on a schedule.</li>
</ul>
</section>
</aside>
<section>
<h2 id="calibre_link-227" type="title" class="h"><span role="doc-pagebreak" id="calibre_link-2748" aria-label="132" class="calibre1"></span><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000005.jpg" alt="A grey circle with a white question mark at the center" /> Practice Questions</h2>
<p class="noindent">These questions test your ability to work with time and calendar data, as well as your ability to schedule your Python programs to run other apps on your computer.</p>
<section>
<h3 id="calibre_link-228" type="title" class="h1">The time Module</h3>
<p class="noindent">Your computer’s system clock is set to a specific date, time, and time zone. The built-in <span class="literal">time</span> module allows your Python programs to read the system clock and retrieve the current time.</p>
<ol class="order">
<li class="calibre15"><p class="number"><a href="#calibre_link-1160" id="calibre_link-2292" class="calibre6">1</a>. What time zone is the Unix epoch timestamp in?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1161" id="calibre_link-2293" class="calibre6">2</a>. What function returns a string of the current time, like <span class="literal">'Tue Mar 17 11:05:45 2026'</span>?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1162" id="calibre_link-2294" class="calibre6">3</a>. What function returns a float of the current time, like <span class="literal">1773813875.3518236</span>?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1163" id="calibre_link-2295" class="calibre6">4</a>. Say you’ve run <span class="literal">import time</span>. What is <span class="literal">time</span>? What is <span class="literal">time.time()</span>?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1164" id="calibre_link-2296" class="calibre6">5</a>. What does the expression <span class="literal">time.time() + 10</span> evaluate to?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1165" id="calibre_link-2297" class="calibre6">6</a>. What does the expression <span class="literal">time.ctime(time.time() - 10)</span> evaluate to?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1166" id="calibre_link-2298" class="calibre6">7</a>. What is profiling? What does it mean to profile code?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1167" id="calibre_link-2299" class="calibre6">8</a>. How do you make your program pause its execution for one-half of a second?</p></li>
<li class="calibre15"><p class="number"><a href="#calibre_link-1168" id="calibre_link-2300" class="calibre6">9</a>. Say you decide a timestamp like 1773813875.3518236 has too many digits after the decimal point. What code returns the current time rounded to the nearest second?</p></li>
</ol>
</section>
<section>
<h3 id="calibre_link-229" type="title" class="h1">The datetime Module</h3>
<p class="noindent">The <span class="literal">time</span> module is useful for getting a Unix epoch timestamp to work with. But if you want to display a date in a more convenient format or do arithmetic with dates (for example, figuring out what date was 205 days ago or what date is 123 days from now), you should use the <span class="literal">datetime</span> module.</p>
<ol class="order">
<li class="calibre15"><p class="number1"><a href="#calibre_link-1169" id="calibre_link-2301" class="calibre6">10</a>. Say you’ve run <span class="literal">import</span> <span class="literal">datetime</span>. What is wrong with the code <span class="literal">datetime.now()</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1170" id="calibre_link-2302" class="calibre6">11</a>. If you run <span class="literal">current_time = datetime.datetime.now()</span>, how can you get an integer of the current year?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1171" id="calibre_link-2303" class="calibre6">12</a>. What date and time does the <span class="literal">datetime</span> object from this expression represent: <span class="literal">datetime.datetime.fromtimestamp(0)</span>? (Assume you’re in the UTC time zone.)</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1172" id="calibre_link-2304" class="calibre6">13</a>. Objects of what data type represent a moment in time?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1173" id="calibre_link-2305" class="calibre6">14</a>. Objects of what data type represent a duration of time?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1174" id="calibre_link-2306" class="calibre6">15</a>. <span role="doc-pagebreak" id="calibre_link-2749" aria-label="133"></span>The <span class="literal">datetime.timedelta()</span> function can have keyword arguments like <span class="literal">datetime.timedelta(days=11, hours=10, minutes=9, seconds=8)</span>. Why can’t you specify the number of months or years?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1175" id="calibre_link-2307" class="calibre6">16</a>. What code creates a <span class="literal">timedelta</span> object that represents 1,000 days?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1176" id="calibre_link-2308" class="calibre6">17</a>. Reuse the code from the previous question in an expression that evaluates to a <span class="literal">timedelta</span> object that represents 2,000 days.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1177" id="calibre_link-2309" class="calibre6">18</a>. If you add a <span class="literal">datetime.datetime</span> object to a <span class="literal">datetime.timedelta</span> object, what is the data type of the evaluated result?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1178" id="calibre_link-2310" class="calibre6">19</a>. If you add a <span class="literal">datetime.timedelta</span> object to a <span class="literal">datetime.timedelta</span> object, what is the data type of the evaluated result?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1179" id="calibre_link-2311" class="calibre6">20</a>. Assume you run <span class="literal">from datetime import timedelta</span>. What does the expression <span class="literal">timedelta(seconds=15) - timedelta(seconds=5) == timedelta(seconds=10)</span> evaluate to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1180" id="calibre_link-2312" class="calibre6">21</a>. Assume you run <span class="literal">from datetime import timedelta</span>. Does <span class="literal">timedelta</span><span class="literal">(seconds=15) + 5 == timedelta(seconds=20)</span> evaluate to <span class="literal">True</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1181" id="calibre_link-2313" class="calibre6">22</a>. What does <span class="literal">datetime.timedelta(seconds=60) == datetime.timedelta</span><span class="literal">(minutes=1)</span> evaluate to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1182" id="calibre_link-2314" class="calibre6">23</a>. What does the “f” in <span class="literal">strftime()</span> stand for?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1183" id="calibre_link-2315" class="calibre6">24</a>. What does the “p” in <span class="literal">strptime()</span> stand for?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1184" id="calibre_link-2316" class="calibre6">25</a>. Which function takes a date and time as a human-readable string, along with a string to parse it, and then returns a <span class="literal">datetime.datetime</span> object: <span class="literal">strftime()</span> or <span class="literal">strptime()</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1185" id="calibre_link-2317" class="calibre6">26</a>. Which function returns a date and time as a human-readable string: <span class="literal">strftime()</span> or <span class="literal">strptime()</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1186" id="calibre_link-2318" class="calibre6">27</a>. Does <span class="literal">datetime.datetime.strptime('26', '%y')</span> evaluate to a <span class="literal">datetime</span> object with the year <span class="literal">1926</span> or <span class="literal">2026</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1187" id="calibre_link-2319" class="calibre6">28</a>. Does <span class="literal">datetime.datetime.strptime('76', '%y')</span> evaluate to a <span class="literal">datetime</span> object with the year <span class="literal">1976</span> or <span class="literal">2076</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1188" id="calibre_link-2320" class="calibre6">29</a>. What <span class="literal">datetime</span> object does <span class="literal">datetime.datetime.strptime("October of '26", "%B of '%y")</span> evaluate to?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1189" id="calibre_link-2321" class="calibre6">30</a>. What does the expression <span class="literal">datetime.timedelta(days=0, hours=0, minutes=1, seconds=5).total_seconds()</span> evaluate to?</p></li>
</ol>
</section>
<section>
<h3 id="calibre_link-230" type="title" class="h1">Launching Other Programs from Python</h3>
<p class="noindent">Your Python program can start other programs on your computer. If you want to start an external program from your Python script, pass the program’s filename to <span class="literal">subprocess.run()</span>. Multiple open instances of an application are separate processes of the same program.</p>
<ol class="order">
<li class="calibre15"><p class="number1"><a href="#calibre_link-1190" id="calibre_link-2322" class="calibre6">31</a>. <span role="doc-pagebreak" id="calibre_link-2750" aria-label="134"></span>What is the difference between a process and a program?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1191" id="calibre_link-2323" class="calibre6">32</a>. What is the data type of the argument passed to <span class="literal">subprocess.run()</span>?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1192" id="calibre_link-2324" class="calibre6">33</a>. Why doesn’t <span class="literal">subprocess.run(['/System/Applications/Calculator.app'])</span> run the calculator app on macOS?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1193" id="calibre_link-2325" class="calibre6">34</a>. How is the <span class="literal">subprocess.Popen()</span> function different from the <span class="literal">subprocess</span><span class="literal">.run()</span> function?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1194" id="calibre_link-2326" class="calibre6">35</a>. The <span class="literal">subprocess.run()</span> and <span class="literal">subprocess.Popen()</span> functions return <span class="literal">Popen</span> objects. What does the <span class="literal">poll()</span> method of <span class="literal">Popen</span> objects return if the launched program is still running at the time of the method call?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1195" id="calibre_link-2327" class="calibre6">36</a>. What does the <span class="literal">poll()</span> method of <span class="literal">Popen</span> objects return if the launched program has quit?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1196" id="calibre_link-2328" class="calibre6">37</a>. If a program has quit without errors, what is its exit code?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1197" id="calibre_link-2329" class="calibre6">38</a>. What happens when you call a <span class="literal">Popen</span> object’s <span class="literal">kill()</span> method?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1198" id="calibre_link-2330" class="calibre6">39</a>. What happens when you call a <span class="literal">Popen</span> object’s <span class="literal">wait()</span> method?</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1199" id="calibre_link-2331" class="calibre6">40</a>. Write the code to open a <i class="calibre5">hello.txt</i> file using the default application for opening <i class="calibre5">.txt</i> files on Windows.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1200" id="calibre_link-2332" class="calibre6">41</a>. Write the code to open a <i class="calibre5">hello.txt</i> file using the default application for opening <i class="calibre5">.txt</i> files on macOS and Linux.</p></li>
<li class="calibre15"><p class="number1"><a href="#calibre_link-1201" id="calibre_link-2333" class="calibre6">42</a>. Write the code to run a Python script named <i class="calibre5">spam.py</i>.</p></li>
</ol>
</section>
</section>
<section>
<h2 id="calibre_link-231" type="title" class="h"><img class="inline" src="../assets/inventwithpython.com/automate3workbook/images/000002.jpg" alt="A simple drawing of a sharpened pencil." /> Practice Projects</h2>
<p class="noindent">In the following projects, you’ll create an alarm, an image opener, and a holiday reminder.</p>
<section>
<h3 id="calibre_link-232" type="title" class="h1">Alarm with Sound</h3>
<p class="noindent">Write a function called <span class="literal">alarm_with_audio(alarm_time, audio_filename)</span> whose first argument is a <span class="literal">datetime.datetime</span> object that sets an alarm and whose second argument is a string representing an audio filename to play at that time. The function should return only after playing the audio file at the time of the alarm.</p>
<p class="indent">This function has a few special requirements. It should check whether the audio file exists when first called and should raise an exception if it doesn’t. After all, you don’t want the function to pause for hours and then fail to play any sound because the audio filename had a typo. To know when the time of the alarm has arrived, the function should enter a loop that repeatedly calls <span class="literal">time.sleep(0.1)</span> (to add a slight pause and avoid hogging the CPU) until one second after the alarm time.</p>
<p class="indent">To play the audio file, call <span class="literal">subprocess.run()</span> to open the file with the operating system’s default application for audio files. Keep in mind that you won’t hear the audio if your volume is muted.</p>
<p class="indent">Save this program in a file named <i class="calibre5">alarmWithSound.py</i>.</p>
</section>
<section>
<h3 id="calibre_link-233" type="title" class="h1"><span role="doc-pagebreak" id="calibre_link-2751" aria-label="135" class="calibre1"></span>Image Opener</h3>
<p class="noindent">Write a function named <span class="literal">open_images_by_name(image_folder, name_match)</span> that takes two string arguments. The first string is the name of a folder containing images, and the second string is a search term with which to perform a case-insensitive match. If <span class="literal">image_folder</span> is <span class="literal">r'C:\memes'</span> and <span class="literal">name_match</span> is <span class="literal">'cat'</span>, the function should search <i class="calibre5">C:\memes</i> and open any image filenames that contain the word <span class="literal">cat</span>, such as <i class="calibre5">cat-snuggle.png</i> or <i class="calibre5">muffin_cat.jpg</i>.</p>
<p class="indent">For the purposes of this exercise, an <i class="calibre5">image file</i> is any file that ends with <i class="calibre5">.png</i>, <i class="calibre5">.jpg</i>, or <i class="calibre5">.webp</i>. Use <span class="literal">subprocess.run()</span> to open the image with the operating system’s default application for image files.</p>
<p class="indent">My well-organized <i class="calibre5">memes</i> folder contains 3,300 carefully named image files, so I find this program quite useful for seeing all images of a certain topic. It may or may not be as useful to others.</p>
<p class="indent">Save this function in a file named <i class="calibre5">openImagesByName.py</i>.</p>
</section>
<section>
<h3 id="calibre_link-234" type="title" class="h1">“Next Holiday” Reporter</h3>
<p class="noindent">Here is a dictionary of dates formatted as strings, along with the name of the holiday on that date: <span class="literal">{'October 31': 'Halloween', 'February 14':</span> <span class="literal">'</span><span class="literal">Valentine's Day</span><span class="literal">'</span><span class="literal">, 'April 1':</span> <span class="literal">'</span><span class="literal">April Fool's Day</span><span class="literal">'</span><span class="literal">, 'May 1': 'May Day', 'May 5':</span> <span class="literal">'Cinco de Mayo'}</span>.</p>
<p class="indent">Write a function named <span class="literal">next_holiday(from_date)</span> that accepts a <span class="literal">datetime</span><span class="literal">.datetime</span> object and returns either the holiday on that day or the next upcoming holiday. For example, if you called <span class="literal">next_holiday(datetime.date</span><span class="literal">time(2028, 10, 31, 0, 0, 0))</span>, the function should return <span class="literal">'Halloween'</span> because October 31, 2028, is on Halloween. On the other hand, if you call <span class="literal">next_</span><span class="literal">holiday(datetime.date(3000, 1, 1, 0, 0, 0))</span>, the function should return <span class="literal">'</span><span class="literal">Valentine's Day</span><span class="literal">'</span> because that is the first holiday after January 1, 3000, in our dictionary of holidays.</p>
<p class="indent">Hint: <span class="literal">from_date.strftime('%B')</span> will return the name of the month as a string, like <span class="literal">'November'</span> or <span class="literal">'May'</span>, and <span class="literal">from_date.strftime('%d')</span> will return the day of the month, like <span class="literal">01</span> or <span class="literal">31</span>. The day will always be two digits long, with a leading zero if necessary, which doesn’t match the keys in our dictionary of holidays. You’ll have to strip out this leading zero by calling the <span class="literal">lstrip()</span> string method.</p>
<p class="indent">Save this program in a file named <i class="calibre5">nextHoliday.py</i>.<span role="doc-pagebreak" id="calibre_link-2752" aria-label="136"></span></p>
</section>
</section>
</section>
</div>








<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"8bd877e77db3400e83e36e899a2ab1fd","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<style>.atbs-nav{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-between;margin:1rem 0;padding:.7rem .8rem;border:1px solid #cfd8dc;border-radius:10px;background:#f6fbfd;font:14px/1.35 system-ui,-apple-system,sans-serif;}.atbs-nav-center{color:#455a64;font-weight:600;}.atbs-nav-link{text-decoration:none;color:#0b5b6b;background:#e6f3f7;border:1px solid #c7dfe7;border-radius:7px;padding:.42rem .55rem;display:inline-block;}.atbs-nav-link:hover{background:#d9edf3;}.atbs-nav-disabled{opacity:.55;cursor:not-allowed;}</style><nav class='atbs-nav' aria-label='Chapter pagination'><a class='atbs-nav-link' href='../book/chapter19.html' aria-label='Previous chapter'>&larr; Book Chapter 19</a><span class='atbs-nav-center'><a class='atbs-nav-link' href='../index.html'>Contents</a> Workbook Chapter 19</span><a class='atbs-nav-link' href='../book/chapter20.html' aria-label='Next chapter'>Book Chapter 20 &rarr;</a></nav></body></html>